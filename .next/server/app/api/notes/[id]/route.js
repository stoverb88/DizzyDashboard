"use strict";(()=>{var e={};e.id=866,e.ids=[866],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},5487:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>v,originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>f});var a={};r.r(a),r.d(a,{GET:()=>p});var o=r(5419),n=r(9108),s=r(9678),i=r(8070),u=r(4409);async function p(e,{params:t}){try{let e;let r=t.id.toUpperCase();if(6!==r.length)return i.Z.json({error:"Invalid chart ID format. Must be 6 characters."},{status:400});let a=await u.kv.get(`note:${r}`);if(!a)return i.Z.json({error:"Chart note not found or has expired."},{status:404});if(e="string"==typeof a?JSON.parse(a):a,Date.now()-e.createdAt>864e5)return await u.kv.del(`note:${r}`),i.Z.json({error:"Chart note has expired."},{status:404});return i.Z.json({narrative:e.narrative,createdAt:e.createdAt,expiresAt:e.createdAt+864e5})}catch(e){return console.error("Error retrieving note:",e),i.Z.json({error:"Failed to retrieve note"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/notes/[id]/route",pathname:"/api/notes/[id]",filename:"route",bundlePath:"app/api/notes/[id]/route"},resolvedPagePath:"/Users/new/Desktop/Vestibular Screening WebApp/app/api/notes/[id]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:h,headerHooks:v,staticGenerationBailout:f}=d,g="/api/notes/[id]/route";function x(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,949],()=>r(5487));module.exports=a})();