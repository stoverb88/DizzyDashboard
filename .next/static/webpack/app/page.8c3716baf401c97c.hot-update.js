"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/CanalSimulation.tsx":
/*!****************************************!*\
  !*** ./components/CanalSimulation.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanalSimulation: function() { return /* binding */ CanalSimulation; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ CanalSimulation auto */ \nvar _s = $RefreshSig$();\n\nfunction CanalSimulation(param) {\n    let { onClose } = param;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const animationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const [particles, setParticles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [orientation, setOrientation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        beta: 0,\n        gamma: 0\n    });\n    const [permissionGranted, setPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [epleyComplete, setEpleyComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedEar, setSelectedEar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedPerspective, setSelectedPerspective] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [orientationLockPrompted, setOrientationLockPrompted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [orientationSetupComplete, setOrientationSetupComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const particlesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    // Avatar slideshow state\n    const [currentAvatarStage, setCurrentAvatarStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1) // Start with stage 1\n    ;\n    // Completion animation state\n    const [completionAnimationStarted, setCompletionAnimationStarted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [avatarOpacity, setAvatarOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1.0);\n    const [successOpacity, setSuccessOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.0);\n    const completionTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Avatar transition animation state\n    const [isTransitioning, setIsTransitioning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previousAvatarStage, setPreviousAvatarStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [transitionProgress, setTransitionProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0) // 0 to 1\n    ;\n    const transitionTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Particle detection delay state\n    const [detectedStage, setDetectedStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [detectionTimer, setDetectionTimer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const detectionDelayMs = 250 // 0.25 seconds\n    ;\n    // Canvas dimensions - optimized for mobile\n    const CANVAS_WIDTH = 450 // Increased from 400\n    ;\n    const CANVAS_HEIGHT = 450 // Increased from 400\n    ;\n    const CENTER_X = CANVAS_WIDTH / 2;\n    const CENTER_Y = CANVAS_HEIGHT / 2;\n    // Ring dimensions - scaled to fill larger canvas\n    const OUTER_RADIUS = 180 // Increased from 157 (was 140 originally)\n    ;\n    const INNER_RADIUS = 130 // Increased from 112 (was 100 originally)\n    ;\n    const TUBE_WIDTH = OUTER_RADIUS - INNER_RADIUS;\n    const PARTICLE_RADIUS = Math.floor(TUBE_WIDTH / 8) // 1/8th tube width\n    ;\n    // Get vestibule configuration based on ear type\n    const getVestibuleConfig = ()=>{\n        if (selectedEar === \"left\") {\n            // Left ear: vestibule at 4 o'clock position (120 degrees)\n            const VESTIBULE_ANGLE = Math.PI * 2 / 3 // 4 o'clock position (120 degrees)\n            ;\n            return {\n                angle: VESTIBULE_ANGLE,\n                centerX: CENTER_X + Math.cos(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                centerY: CENTER_Y + Math.sin(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                radius: 85 // Increased from 70\n            };\n        } else {\n            // Right ear: vestibule at 4 o'clock position (original)\n            const VESTIBULE_ANGLE = Math.PI / 3 // 4 o'clock position (60 degrees)\n            ;\n            return {\n                angle: VESTIBULE_ANGLE,\n                centerX: CENTER_X + Math.cos(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                centerY: CENTER_Y + Math.sin(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                radius: 85 // Increased from 70\n            };\n        }\n    };\n    // Initialize particles based on ear type\n    const initializeParticles = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!selectedEar) return;\n        const newParticles = [];\n        const cupulaAngle = Math.PI / 2 // Bottom of ring (6 o'clock)\n        ;\n        const ringCenter = (OUTER_RADIUS + INNER_RADIUS) / 2 // Middle of tube\n        ;\n        let particleAngle;\n        if (selectedEar === \"left\") {\n            // Left ear: particles spawn on RIGHT side of cupula (4-5 o'clock position)\n            particleAngle = cupulaAngle - Math.PI / 6 // RIGHT side of cupula (30 degrees left of bottom = 4-5 o'clock)\n            ;\n        } else {\n            // Right ear: particles spawn on LEFT side of cupula (7-8 o'clock position) - original\n            particleAngle = cupulaAngle + Math.PI / 6 // LEFT side of cupula (30 degrees right of bottom = 7-8 o'clock)\n            ;\n        }\n        for(let i = 0; i < 4; i++){\n            // Cluster all particles tightly on appropriate side of cupula\n            const angle = particleAngle + (i - 1.5) * 0.05 // Tight clustering\n            ;\n            newParticles.push({\n                id: i,\n                x: CENTER_X + Math.cos(angle) * ringCenter,\n                y: CENTER_Y + Math.sin(angle) * ringCenter,\n                vx: 0,\n                vy: 0,\n                radius: PARTICLE_RADIUS,\n                inAmpulla: false,\n                dissolving: false,\n                originalRadius: PARTICLE_RADIUS\n            });\n        }\n        setParticles(newParticles);\n        particlesRef.current = newParticles;\n        setEpleyComplete(false);\n        setCurrentAvatarStage(1) // Reset avatar to starting position\n        ;\n        // Reset completion animation state\n        setCompletionAnimationStarted(false);\n        setAvatarOpacity(1.0);\n        setSuccessOpacity(0.0);\n        if (completionTimeoutRef.current) {\n            clearTimeout(completionTimeoutRef.current);\n            completionTimeoutRef.current = null;\n        }\n        // Reset transition animation state\n        setIsTransitioning(false);\n        setPreviousAvatarStage(1);\n        setTransitionProgress(0);\n        if (transitionTimeoutRef.current) {\n            clearTimeout(transitionTimeoutRef.current);\n            transitionTimeoutRef.current = null;\n        }\n    }, [\n        selectedEar\n    ]);\n    // Start completion animation sequence\n    const startCompletionAnimation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (completionAnimationStarted) return;\n        setCompletionAnimationStarted(true);\n        // Phase 1: Fade out avatar over 1 second\n        const fadeOutInterval = setInterval(()=>{\n            setAvatarOpacity((prev)=>{\n                const newOpacity = prev - 0.05 // Fade out in 20 steps (1 second at 50ms intervals)\n                ;\n                if (newOpacity <= 0) {\n                    clearInterval(fadeOutInterval);\n                    return 0;\n                }\n                return newOpacity;\n            });\n        }, 50);\n        // Phase 2: After 1 second, fade in success indicator\n        completionTimeoutRef.current = setTimeout(()=>{\n            setEpleyComplete(true);\n            const fadeInInterval = setInterval(()=>{\n                setSuccessOpacity((prev)=>{\n                    const newOpacity = prev + 0.05 // Fade in over 1 second\n                    ;\n                    if (newOpacity >= 1) {\n                        clearInterval(fadeInInterval);\n                        return 1;\n                    }\n                    return newOpacity;\n                });\n            }, 50);\n        }, 1000);\n    }, [\n        completionAnimationStarted\n    ]);\n    // Start avatar transition animation\n    const startAvatarTransition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((newStage)=>{\n        if (isTransitioning || newStage === currentAvatarStage) return;\n        // Clean up any existing transition\n        if (transitionTimeoutRef.current) {\n            clearTimeout(transitionTimeoutRef.current);\n        }\n        setPreviousAvatarStage(currentAvatarStage);\n        setIsTransitioning(true);\n        setTransitionProgress(0);\n        // Smooth transition over 800ms\n        const transitionDuration = 800;\n        const steps = 40 // 20ms intervals for smooth animation\n        ;\n        const stepDuration = transitionDuration / steps;\n        let step = 0;\n        const transitionInterval = setInterval(()=>{\n            step++;\n            const progress = step / steps;\n            // Use easeInOutCubic for natural movement feel\n            const easedProgress = progress < 0.5 ? 4 * progress * progress * progress : 1 - Math.pow(-2 * progress + 2, 3) / 2;\n            setTransitionProgress(easedProgress);\n            if (step >= steps) {\n                clearInterval(transitionInterval);\n                setCurrentAvatarStage(newStage);\n                setIsTransitioning(false);\n                setTransitionProgress(0);\n            }\n        }, stepDuration);\n        // Cleanup timeout\n        transitionTimeoutRef.current = setTimeout(()=>{\n            clearInterval(transitionInterval);\n            setCurrentAvatarStage(newStage);\n            setIsTransitioning(false);\n            setTransitionProgress(0);\n        }, transitionDuration + 100);\n    }, [\n        isTransitioning,\n        currentAvatarStage\n    ]);\n    // Try to lock orientation\n    const lockOrientation = async ()=>{\n        try {\n            // Type assertion for screen orientation lock (not all browsers support this)\n            if (screen.orientation && screen.orientation.lock) {\n                await screen.orientation.lock(\"portrait\");\n                return true;\n            }\n        } catch (error) {\n            console.log(\"Orientation lock not supported or failed:\", error);\n        }\n        return false;\n    };\n    // Request device orientation permission\n    const requestOrientationPermission = async ()=>{\n        // Only show orientation setup if not already completed\n        if (!orientationSetupComplete) {\n            // First try to lock orientation\n            const lockSuccess = await lockOrientation();\n            if (!lockSuccess && !orientationLockPrompted) {\n                setOrientationLockPrompted(true);\n                return; // Show manual instruction first\n            }\n        }\n        if (typeof DeviceOrientationEvent !== \"undefined\" && \"requestPermission\" in DeviceOrientationEvent) {\n            try {\n                const permission = await DeviceOrientationEvent.requestPermission();\n                if (permission === \"granted\") {\n                    setPermissionGranted(true);\n                    setOrientationSetupComplete(true);\n                }\n            } catch (error) {\n                console.error(\"Error requesting orientation permission:\", error);\n            }\n        } else {\n            setPermissionGranted(true);\n            setOrientationSetupComplete(true);\n        }\n    };\n    // Handle manual orientation lock acknowledgment\n    const handleOrientationLockAck = ()=>{\n        setOrientationLockPrompted(false);\n        requestOrientationPermission();\n    };\n    // Handle device orientation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!permissionGranted) return;\n        const handleOrientation = (event)=>{\n            // Get raw orientation values\n            let beta = event.beta || 0;\n            let gamma = event.gamma || 0;\n            // Detect and filter out extreme orientation changes that cause gimbal lock\n            // If beta jumps more than 90 degrees from previous value, it's likely a gimbal lock spike\n            setOrientation((prev)=>{\n                const betaDiff = Math.abs(beta - prev.beta);\n                const gammaDiff = Math.abs(gamma - prev.gamma);\n                // If there's a massive jump (>90°), ignore this reading and keep previous values\n                if (betaDiff > 90 || gammaDiff > 90) {\n                    return prev // Keep previous stable values\n                    ;\n                }\n                // Clamp to reasonable physiological range (±30° is plenty for Epley)\n                beta = Math.max(-30, Math.min(30, beta));\n                gamma = Math.max(-30, Math.min(30, gamma));\n                // Ensure we never create \"upward\" gravity - always maintain downward component\n                // If beta would create strong upward force, limit it\n                if (beta < -20) beta = -20 // Prevent extreme forward tilt\n                ;\n                if (beta > 20) beta = 20 // Prevent extreme backward tilt\n                ;\n                // Smooth the orientation changes\n                const smoothingFactor = 0.85 // Increased smoothing\n                ;\n                const newBeta = prev.beta * smoothingFactor + beta * (1 - smoothingFactor);\n                const newGamma = prev.gamma * smoothingFactor + gamma * (1 - smoothingFactor);\n                return {\n                    beta: newBeta,\n                    gamma: newGamma\n                };\n            });\n        };\n        window.addEventListener(\"deviceorientation\", handleOrientation);\n        return ()=>window.removeEventListener(\"deviceorientation\", handleOrientation);\n    }, [\n        permissionGranted\n    ]);\n    // Check if point is inside the ring tube\n    const isInsideRing = (x, y)=>{\n        const distFromCenter = Math.sqrt((x - CENTER_X) ** 2 + (y - CENTER_Y) ** 2);\n        return distFromCenter >= INNER_RADIUS && distFromCenter <= OUTER_RADIUS;\n    };\n    // Check collision with cupula\n    const checkCupulaCollision = (x, y, radius)=>{\n        const cupulaX = CENTER_X;\n        const cupulaWidth = TUBE_WIDTH * 0.7;\n        const cupulaHeight = TUBE_WIDTH * 0.85;\n        const cupulaY = CENTER_Y + OUTER_RADIUS - cupulaHeight / 2;\n        return x - radius < cupulaX + cupulaWidth / 2 && x + radius > cupulaX - cupulaWidth / 2 && y - radius < cupulaY + cupulaHeight / 2 && y + radius > cupulaY - cupulaHeight / 2;\n    };\n    // Check if point is inside the vestibule\n    const isInsideVestibule = (x, y)=>{\n        const vestibuleConfig = getVestibuleConfig();\n        // Main vestibule chamber\n        const distFromVestibuleCenter = Math.sqrt((x - vestibuleConfig.centerX) ** 2 + (y - vestibuleConfig.centerY) ** 2);\n        if (distFromVestibuleCenter <= vestibuleConfig.radius) return true;\n        // Extended vestibule area - connection bridge area\n        const connectionX = CENTER_X + Math.cos(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionY = CENTER_Y + Math.sin(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionWidth = 50;\n        const connectionHeight = 38;\n        // Check if point is in the connection/bridge area (rotated rectangle)\n        const dx = x - connectionX;\n        const dy = y - connectionY;\n        const rotatedX = dx * Math.cos(-vestibuleConfig.angle) - dy * Math.sin(-vestibuleConfig.angle);\n        const rotatedY = dx * Math.sin(-vestibuleConfig.angle) + dy * Math.cos(-vestibuleConfig.angle);\n        return Math.abs(rotatedX) <= connectionWidth / 2 && Math.abs(rotatedY) <= connectionHeight / 2;\n    };\n    // Check if point is in valid canal space\n    const isInValidSpace = (x, y)=>{\n        return isInsideRing(x, y) || isInsideVestibule(x, y);\n    };\n    // Physics update\n    const updatePhysics = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!canvasRef.current || !selectedEar) return;\n        const newParticles = particlesRef.current.map((particle, index)=>{\n            // If particle is dissolving, just shrink it\n            if (particle.dissolving) {\n                const newRadius = Math.max(0, particle.radius - 0.02);\n                return {\n                    ...particle,\n                    radius: newRadius\n                };\n            }\n            // Convert device orientation to gravity vector\n            const gravityStrength = 0.02 // Further reduced for viscous fluid simulation - like otoconia in endolymph\n            ;\n            // Detect if device is roughly horizontal\n            const isHorizontal = Math.abs(Math.abs(orientation.gamma || 0) - 90) < 30;\n            let gravityX, gravityY;\n            if (isHorizontal) {\n                gravityX = Math.sin((orientation.gamma || 0) * Math.PI / 180) * gravityStrength;\n                gravityY = Math.sin((orientation.beta || 0) * Math.PI / 180) * gravityStrength * 0.1;\n            } else {\n                gravityX = Math.sin((orientation.gamma || 0) * Math.PI / 180) * gravityStrength;\n                gravityY = Math.sin((orientation.beta || 0) * Math.PI / 180) * gravityStrength;\n            }\n            // Update velocity with gravity\n            let newVx = particle.vx + gravityX;\n            let newVy = particle.vy + gravityY;\n            // Apply lighter damping to reduce sticking\n            newVx *= 0.998 // Reduced damping to prevent wall sticking\n            ;\n            newVy *= 0.998;\n            // Predict new position\n            let newX = particle.x + newVx;\n            let newY = particle.y + newVy;\n            // Check if particle is in vestibule\n            const nowInVestibule = isInsideVestibule(newX, newY);\n            if (nowInVestibule && !particle.inAmpulla) {\n                particle.inAmpulla = true;\n            }\n            // Boundary checks and physics - simplified and improved\n            const distFromCenter = Math.sqrt((newX - CENTER_X) ** 2 + (newY - CENTER_Y) ** 2);\n            const vestibuleConfig = getVestibuleConfig();\n            if (isInsideRing(newX, newY)) {\n                // Outer boundary collision\n                if (distFromCenter > OUTER_RADIUS - particle.radius) {\n                    const angleToParticle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                    const vestibuleConnectionStart = vestibuleConfig.angle - 0.3;\n                    const vestibuleConnectionEnd = vestibuleConfig.angle + 0.3;\n                    // Simplified angle check\n                    let inConnectionArea = false;\n                    let normalizedAngle = angleToParticle;\n                    if (normalizedAngle < 0) normalizedAngle += Math.PI * 2;\n                    let normalizedStart = vestibuleConnectionStart;\n                    if (normalizedStart < 0) normalizedStart += Math.PI * 2;\n                    let normalizedEnd = vestibuleConnectionEnd;\n                    if (normalizedEnd < 0) normalizedEnd += Math.PI * 2;\n                    // Handle angle wrapping around 0/2π\n                    if (normalizedEnd < normalizedStart) {\n                        inConnectionArea = normalizedAngle >= normalizedStart || normalizedAngle <= normalizedEnd;\n                    } else {\n                        inConnectionArea = normalizedAngle >= normalizedStart && normalizedAngle <= normalizedEnd;\n                    }\n                    if (!inConnectionArea) {\n                        const angle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                        newX = CENTER_X + Math.cos(angle) * (OUTER_RADIUS - particle.radius);\n                        newY = CENTER_Y + Math.sin(angle) * (OUTER_RADIUS - particle.radius);\n                        // Gentler reflection to prevent sticking\n                        const normalX = Math.cos(angle);\n                        const normalY = Math.sin(angle);\n                        const dotProduct = newVx * normalX + newVy * normalY;\n                        // Only reflect if moving toward the wall\n                        if (dotProduct > 0) {\n                            newVx = newVx - 1.2 * dotProduct * normalX // Reduced from 1.5\n                            ;\n                            newVy = newVy - 1.2 * dotProduct * normalY;\n                            newVx *= 0.95 // Increased from 0.85 to maintain momentum\n                            ;\n                            newVy *= 0.95;\n                        }\n                    }\n                } else if (distFromCenter < INNER_RADIUS + particle.radius) {\n                    const angle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                    newX = CENTER_X + Math.cos(angle) * (INNER_RADIUS + particle.radius);\n                    newY = CENTER_Y + Math.sin(angle) * (INNER_RADIUS + particle.radius);\n                    // Gentler reflection to prevent sticking\n                    const normalX = -Math.cos(angle);\n                    const normalY = -Math.sin(angle);\n                    const dotProduct = newVx * normalX + newVy * normalY;\n                    // Only reflect if moving toward the wall\n                    if (dotProduct > 0) {\n                        newVx = newVx - 1.2 * dotProduct * normalX // Reduced from 1.5\n                        ;\n                        newVy = newVy - 1.2 * dotProduct * normalY;\n                        newVx *= 0.95 // Increased from 0.85 to maintain momentum\n                        ;\n                        newVy *= 0.95;\n                    }\n                }\n            } else if (isInsideVestibule(newX, newY)) {\n                const distFromVestibuleCenter = Math.sqrt((newX - vestibuleConfig.centerX) ** 2 + (newY - vestibuleConfig.centerY) ** 2);\n                if (distFromVestibuleCenter > vestibuleConfig.radius - particle.radius) {\n                    const angle = Math.atan2(newY - vestibuleConfig.centerY, newX - vestibuleConfig.centerX);\n                    newX = vestibuleConfig.centerX + Math.cos(angle) * (vestibuleConfig.radius - particle.radius);\n                    newY = vestibuleConfig.centerY + Math.sin(angle) * (vestibuleConfig.radius - particle.radius);\n                    // Gentler collision in vestibule\n                    const normalX = Math.cos(angle);\n                    const normalY = Math.sin(angle);\n                    const dotProduct = newVx * normalX + newVy * normalY;\n                    if (dotProduct > 0) {\n                        newVx = newVx - 1.2 * dotProduct * normalX;\n                        newVy = newVy - 1.2 * dotProduct * normalY;\n                        newVx *= 0.7 // More damping in vestibule for settling\n                        ;\n                        newVy *= 0.7;\n                    }\n                }\n                // Check for dissolution\n                if (Math.abs(newVx) < 0.1 && Math.abs(newVy) < 0.1) {\n                    particle.dissolving = true;\n                }\n            } else if (!isInValidSpace(newX, newY)) {\n                // Push particle back to valid space with minimal energy loss\n                if (isInsideRing(particle.x, particle.y)) {\n                    const angle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                    newX = CENTER_X + Math.cos(angle) * (OUTER_RADIUS - particle.radius);\n                    newY = CENTER_Y + Math.sin(angle) * (OUTER_RADIUS - particle.radius);\n                } else {\n                    const angle = Math.atan2(newY - vestibuleConfig.centerY, newX - vestibuleConfig.centerX);\n                    newX = vestibuleConfig.centerX + Math.cos(angle) * (vestibuleConfig.radius - particle.radius);\n                    newY = vestibuleConfig.centerY + Math.sin(angle) * (vestibuleConfig.radius - particle.radius);\n                }\n                newVx *= 0.8 // Less energy loss when correcting position\n                ;\n                newVy *= 0.8;\n            }\n            // Check cupula collision\n            if (checkCupulaCollision(newX, newY, particle.radius) && !nowInVestibule) {\n                const cupulaX = CENTER_X;\n                const cupulaHeight = TUBE_WIDTH * 0.85;\n                const cupulaY = CENTER_Y + OUTER_RADIUS - cupulaHeight / 2;\n                const pushAngle = Math.atan2(newY - cupulaY, newX - cupulaX);\n                const pushDistance = particle.radius + TUBE_WIDTH * 0.5;\n                newX = cupulaX + Math.cos(pushAngle) * pushDistance;\n                newY = cupulaY + Math.sin(pushAngle) * pushDistance;\n                newVx *= 0.7;\n                newVy *= 0.7;\n            }\n            // Particle-to-particle collision (keep existing logic)\n            particlesRef.current.forEach((otherParticle, otherIndex)=>{\n                if (index !== otherIndex && !particle.dissolving && !otherParticle.dissolving) {\n                    const dx = newX - otherParticle.x;\n                    const dy = newY - otherParticle.y;\n                    const distance = Math.sqrt(dx * dx + dy * dy);\n                    const minDistance = particle.radius + otherParticle.radius;\n                    if (distance < minDistance && distance > 0) {\n                        const overlap = minDistance - distance;\n                        const separationX = dx / distance * (overlap * 0.5);\n                        const separationY = dy / distance * (overlap * 0.5);\n                        newX += separationX;\n                        newY += separationY;\n                        const normalX = dx / distance;\n                        const normalY = dy / distance;\n                        const relativeVelocityX = newVx - otherParticle.vx;\n                        const relativeVelocityY = newVy - otherParticle.vy;\n                        const velocityAlongNormal = relativeVelocityX * normalX + relativeVelocityY * normalY;\n                        if (velocityAlongNormal > 0) return;\n                        const restitution = 0.8;\n                        const impulse = -(1 + restitution) * velocityAlongNormal / 2;\n                        newVx += impulse * normalX;\n                        newVy += impulse * normalY;\n                    }\n                }\n            });\n            // Add minimum velocity to prevent complete sticking\n            const minVelocity = 0.01;\n            const currentSpeed = Math.sqrt(newVx * newVx + newVy * newVy);\n            if (currentSpeed > 0 && currentSpeed < minVelocity && !particle.dissolving) {\n                const speedMultiplier = minVelocity / currentSpeed;\n                newVx *= speedMultiplier;\n                newVy *= speedMultiplier;\n            }\n            return {\n                ...particle,\n                x: newX,\n                y: newY,\n                vx: newVx,\n                vy: newVy\n            };\n        });\n        // Check if all particles are in vestibule\n        const allParticlesInVestibule = newParticles.every((p)=>p.inAmpulla);\n        if (allParticlesInVestibule && !epleyComplete && currentAvatarStage === 5 && !completionAnimationStarted) {\n            // All particles are in vestibule AND we're at final stage 5 - start completion animation\n            startCompletionAnimation();\n        }\n        particlesRef.current = newParticles;\n        setParticles(newParticles);\n        // Update avatar stage based on particle positions\n        updateAvatarStage();\n    }, [\n        orientation,\n        epleyComplete,\n        selectedEar,\n        currentAvatarStage,\n        completionAnimationStarted,\n        startCompletionAnimation\n    ]);\n    // Animation loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const animate = ()=>{\n            updatePhysics();\n            draw();\n            animationRef.current = requestAnimationFrame(animate);\n        };\n        if (permissionGranted && selectedEar && selectedPerspective) {\n            animate();\n        }\n        return ()=>{\n            if (animationRef.current) {\n                cancelAnimationFrame(animationRef.current);\n            }\n        };\n    }, [\n        updatePhysics,\n        permissionGranted,\n        selectedEar,\n        selectedPerspective\n    ]);\n    // Handle Epley Complete click\n    const handleEpleyCompleteClick = ()=>{\n        initializeParticles();\n        setCurrentAvatarStage(1) // Reset avatar to starting position\n        ;\n        // Reset all animation states\n        setCompletionAnimationStarted(false);\n        setAvatarOpacity(1.0);\n        setSuccessOpacity(0.0);\n        if (completionTimeoutRef.current) {\n            clearTimeout(completionTimeoutRef.current);\n            completionTimeoutRef.current = null;\n        }\n        // Reset transition animation states\n        setIsTransitioning(false);\n        setPreviousAvatarStage(1);\n        setTransitionProgress(0);\n        if (transitionTimeoutRef.current) {\n            clearTimeout(transitionTimeoutRef.current);\n            transitionTimeoutRef.current = null;\n        }\n    };\n    // Draw function\n    const draw = ()=>{\n        const canvas = canvasRef.current;\n        if (!canvas || !selectedEar) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        const vestibuleConfig = getVestibuleConfig();\n        // Clear canvas\n        ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n        // Draw outer ring (light blue fluid)\n        ctx.fillStyle = \"#87CEEB\";\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, OUTER_RADIUS, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw inner hole (white)\n        ctx.fillStyle = \"white\";\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, INNER_RADIUS, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw vestibule\n        ctx.fillStyle = \"#87CEEB\";\n        ctx.beginPath();\n        ctx.arc(vestibuleConfig.centerX, vestibuleConfig.centerY, vestibuleConfig.radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw connection between ring and vestibule\n        const connectionX = CENTER_X + Math.cos(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionY = CENTER_Y + Math.sin(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionWidth = 50 // Increased from 40\n        ;\n        const connectionHeight = 38 // Increased from 30\n        ;\n        ctx.fillStyle = \"#87CEEB\";\n        ctx.save();\n        ctx.translate(connectionX, connectionY);\n        ctx.rotate(vestibuleConfig.angle);\n        ctx.fillRect(-5, -connectionHeight / 2, connectionWidth, connectionHeight);\n        ctx.restore();\n        // Draw ring borders\n        ctx.strokeStyle = \"#4682B4\";\n        ctx.lineWidth = 2;\n        // Draw outer ring border in segments, skipping vestibule connection area\n        ctx.beginPath();\n        const connectionStartAngle = vestibuleConfig.angle - 0.3;\n        const connectionEndAngle = vestibuleConfig.angle + 0.3;\n        ctx.arc(CENTER_X, CENTER_Y, OUTER_RADIUS, 0, connectionStartAngle);\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, OUTER_RADIUS, connectionEndAngle, Math.PI * 2);\n        ctx.stroke();\n        // Inner ring border\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, INNER_RADIUS, 0, Math.PI * 2);\n        ctx.stroke();\n        // Draw vestibule border\n        ctx.beginPath();\n        const ringConnectionAngle = Math.atan2(connectionY - vestibuleConfig.centerY, connectionX - vestibuleConfig.centerX);\n        const skipStartAngle = ringConnectionAngle - 0.4;\n        const skipEndAngle = ringConnectionAngle + 0.4;\n        ctx.arc(vestibuleConfig.centerX, vestibuleConfig.centerY, vestibuleConfig.radius, skipEndAngle, skipStartAngle + Math.PI * 2);\n        ctx.stroke();\n        // Draw cupula\n        const cupulaX = CENTER_X;\n        const cupulaWidth = TUBE_WIDTH * 0.7;\n        const cupulaHeight = TUBE_WIDTH * 0.85;\n        const cupulaY = CENTER_Y + OUTER_RADIUS - cupulaHeight / 2;\n        ctx.fillStyle = \"#8B4513\";\n        ctx.fillRect(cupulaX - cupulaWidth / 2, cupulaY - cupulaHeight / 2, cupulaWidth, cupulaHeight);\n        // Draw hair structures - scaled for larger cupula\n        ctx.strokeStyle = \"#654321\";\n        ctx.lineWidth = 2 // Increased from 1.5 for better visibility\n        ;\n        for(let i = 0; i < 12; i++){\n            const hairX = cupulaX - cupulaWidth / 2 + cupulaWidth / 11 * i;\n            ctx.beginPath();\n            ctx.moveTo(hairX, cupulaY - cupulaHeight / 2);\n            const hairHeight = 6 + Math.sin(i * 0.5) * 3 // Increased hair height\n            ;\n            ctx.lineTo(hairX, cupulaY - cupulaHeight / 2 - hairHeight);\n            ctx.stroke();\n        }\n        // Draw particles\n        ctx.fillStyle = \"#8A2BE2\";\n        particlesRef.current.forEach((particle)=>{\n            if (particle.radius > 0) {\n                ctx.beginPath();\n                ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);\n                ctx.fill();\n            }\n        });\n        // Draw perspective avatars in center of ring\n        if (selectedPerspective && (selectedPerspective === \"clinician\" || selectedPerspective === \"patient\")) {\n            const maxAvatarSize = INNER_RADIUS * 1.4 // Maximum size to fit in center\n            ;\n            if (isTransitioning) {\n                // During transition, draw both previous and current avatars with crossfade\n                const previousAvatarImage = new Image();\n                const currentAvatarImage = new Image();\n                // Get paths for both avatars\n                const earPrefix = selectedEar === \"right\" ? \"R\" : \"L\";\n                const perspectiveType = selectedPerspective === \"patient\" ? \"treat\" : \"epley\";\n                previousAvatarImage.src = \"/avatars/\".concat(earPrefix, \"_\").concat(perspectiveType, \"_\").concat(previousAvatarStage, \".png\");\n                currentAvatarImage.src = \"/avatars/\".concat(earPrefix, \"_\").concat(perspectiveType, \"_\").concat(currentAvatarStage, \".png\");\n                const drawTransitionAvatars = ()=>{\n                    if (previousAvatarImage.complete && currentAvatarImage.complete && previousAvatarImage.naturalWidth > 0 && currentAvatarImage.naturalWidth > 0) {\n                        // Calculate dimensions for both avatars\n                        const prevAspectRatio = previousAvatarImage.naturalWidth / previousAvatarImage.naturalHeight;\n                        const currAspectRatio = currentAvatarImage.naturalWidth / currentAvatarImage.naturalHeight;\n                        let prevWidth, prevHeight, currWidth, currHeight;\n                        // Previous avatar dimensions\n                        if (prevAspectRatio > 1) {\n                            prevWidth = maxAvatarSize;\n                            prevHeight = maxAvatarSize / prevAspectRatio;\n                        } else {\n                            prevHeight = maxAvatarSize;\n                            prevWidth = maxAvatarSize * prevAspectRatio;\n                        }\n                        // Current avatar dimensions\n                        if (currAspectRatio > 1) {\n                            currWidth = maxAvatarSize;\n                            currHeight = maxAvatarSize / currAspectRatio;\n                        } else {\n                            currHeight = maxAvatarSize;\n                            currWidth = maxAvatarSize * currAspectRatio;\n                        }\n                        // Calculate positions with slight movement simulation\n                        const baseX = CENTER_X;\n                        const baseY = CENTER_Y;\n                        // Simulate natural head/neck movement during transitions\n                        const movementOffset = 8 // pixels of movement\n                        ;\n                        const rotationMovement = Math.sin(transitionProgress * Math.PI) * movementOffset;\n                        // Previous avatar position (fading out)\n                        const prevX = baseX - prevWidth / 2 - rotationMovement * 0.3;\n                        const prevY = baseY - prevHeight / 2;\n                        // Current avatar position (fading in)\n                        const currX = baseX - currWidth / 2 + rotationMovement * 0.3;\n                        const currY = baseY - currHeight / 2;\n                        // Draw previous avatar (fading out)\n                        ctx.globalAlpha = (1 - transitionProgress) * avatarOpacity;\n                        ctx.drawImage(previousAvatarImage, prevX, prevY, prevWidth, prevHeight);\n                        // Draw current avatar (fading in)\n                        ctx.globalAlpha = transitionProgress * avatarOpacity;\n                        ctx.drawImage(currentAvatarImage, currX, currY, currWidth, currHeight);\n                        ctx.globalAlpha = 1.0 // Reset alpha\n                        ;\n                    }\n                };\n                // Draw immediately if both loaded, or set onload handlers\n                if (previousAvatarImage.complete && currentAvatarImage.complete) {\n                    drawTransitionAvatars();\n                } else {\n                    let loadedCount = 0;\n                    const checkBothLoaded = ()=>{\n                        loadedCount++;\n                        if (loadedCount === 2) drawTransitionAvatars();\n                    };\n                    if (!previousAvatarImage.complete) previousAvatarImage.onload = checkBothLoaded;\n                    if (!currentAvatarImage.complete) currentAvatarImage.onload = checkBothLoaded;\n                    // If one is already loaded, increment counter\n                    if (previousAvatarImage.complete) loadedCount++;\n                    if (currentAvatarImage.complete) loadedCount++;\n                    if (loadedCount === 2) drawTransitionAvatars();\n                }\n            } else {\n                // Normal drawing (no transition)\n                const avatarImage = new Image();\n                avatarImage.src = getAvatarImagePath();\n                const drawAvatar = ()=>{\n                    if (avatarImage.complete && avatarImage.naturalWidth > 0) {\n                        // Calculate aspect ratio to maintain original proportions\n                        const aspectRatio = avatarImage.naturalWidth / avatarImage.naturalHeight;\n                        let avatarWidth, avatarHeight;\n                        if (aspectRatio > 1) {\n                            // Wider than tall - constrain by width\n                            avatarWidth = maxAvatarSize;\n                            avatarHeight = maxAvatarSize / aspectRatio;\n                        } else {\n                            // Taller than wide - constrain by height\n                            avatarHeight = maxAvatarSize;\n                            avatarWidth = maxAvatarSize * aspectRatio;\n                        }\n                        const avatarX = CENTER_X - avatarWidth / 2;\n                        const avatarY = CENTER_Y - avatarHeight / 2;\n                        // Apply opacity for fade-out animation\n                        ctx.globalAlpha = avatarOpacity;\n                        ctx.drawImage(avatarImage, avatarX, avatarY, avatarWidth, avatarHeight);\n                        ctx.globalAlpha = 1.0 // Reset alpha\n                        ;\n                    }\n                };\n                // Draw immediately if already loaded, or set onload handler\n                if (avatarImage.complete) {\n                    drawAvatar();\n                } else {\n                    avatarImage.onload = drawAvatar;\n                }\n            }\n        }\n        // Draw \"Epley Complete\" success indicator\n        if (epleyComplete) {\n            // Apply opacity for fade-in animation\n            ctx.globalAlpha = successOpacity;\n            ctx.fillStyle = \"#10B981\";\n            ctx.beginPath();\n            ctx.arc(CENTER_X, CENTER_Y, 25, 0, Math.PI * 2);\n            ctx.fill();\n            ctx.strokeStyle = \"white\";\n            ctx.lineWidth = 3;\n            ctx.beginPath();\n            ctx.moveTo(CENTER_X - 10, CENTER_Y);\n            ctx.lineTo(CENTER_X - 3, CENTER_Y + 7);\n            ctx.lineTo(CENTER_X + 10, CENTER_Y - 7);\n            ctx.stroke();\n            ctx.fillStyle = \"#10B981\";\n            ctx.font = \"12px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.fillText(\"Epley Complete\", CENTER_X, CENTER_Y + 45);\n            ctx.fillText(\"Tap to Reset\", CENTER_X, CENTER_Y + 60);\n            ctx.globalAlpha = 1.0 // Reset alpha\n            ;\n        }\n        // Draw labels\n        ctx.fillStyle = \"#333\";\n        ctx.font = \"14px Arial\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(\"\".concat(selectedEar === \"left\" ? \"Left\" : \"Right\", \" Semicircular Canal\"), CENTER_X, CENTER_Y - OUTER_RADIUS - 20);\n        ctx.fillText(\"Cupula\", cupulaX, cupulaY + cupulaHeight / 2 + 20);\n        ctx.fillText(\"Vestibule\", vestibuleConfig.centerX, vestibuleConfig.centerY + vestibuleConfig.radius + 15);\n        // Debug: Show orientation values for local development\n        ctx.fillStyle = \"#666\";\n        ctx.font = \"12px Arial\";\n        ctx.textAlign = \"left\";\n        ctx.fillText(\"β: \".concat(orientation.beta.toFixed(1), \"\\xb0\"), 10, 30);\n        ctx.fillText(\"γ: \".concat(orientation.gamma.toFixed(1), \"\\xb0\"), 10, 50);\n        ctx.fillText(\"Permission: \".concat(permissionGranted ? \"Yes\" : \"No\"), 10, 70);\n    };\n    // Handle canvas click for Epley Complete reset\n    const handleCanvasClick = (event)=>{\n        if (!epleyComplete) return;\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const rect = canvas.getBoundingClientRect();\n        const clickX = event.clientX - rect.left;\n        const clickY = event.clientY - rect.top;\n        const distFromCenter = Math.sqrt((clickX - CENTER_X) ** 2 + (clickY - CENTER_Y) ** 2);\n        if (distFromCenter <= 25) {\n            handleEpleyCompleteClick();\n        }\n    };\n    // Initialize particles when ear and perspective are selected\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedEar && selectedPerspective) {\n            initializeParticles();\n        }\n    }, [\n        selectedEar,\n        selectedPerspective,\n        initializeParticles\n    ]);\n    // Cleanup completion timeout on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (completionTimeoutRef.current) {\n                clearTimeout(completionTimeoutRef.current);\n            }\n            if (transitionTimeoutRef.current) {\n                clearTimeout(transitionTimeoutRef.current);\n            }\n        };\n    }, []);\n    // Helper function to determine which bracket a particle is in\n    function getParticleBracket(particle) {\n        const dx = particle.x - CENTER_X;\n        const dy = particle.y - CENTER_Y;\n        const angle = Math.atan2(dy, dx);\n        let degrees = angle * 180 / Math.PI;\n        if (degrees < 0) degrees += 360;\n        if (selectedEar === \"right\") {\n            // Right ear brackets (original logic)\n            // Red bracket: Starting position (3-6 o'clock) - where particles spawn for right ear\n            if (degrees >= 90 && degrees < 180) return \"red\";\n            // Yellow bracket: Moving toward 6-9 o'clock (left side of canal)\n            if (degrees >= 180 && degrees < 225) return \"yellow\";\n            // Blue bracket: 9-12 o'clock (top of canal)\n            if (degrees >= 225 && degrees < 315) return \"blue\";\n            // Orange bracket: 12-3 o'clock (right side, approaching vestibule)\n            if (degrees >= 315 || degrees < 45) return \"orange\";\n            // Green bracket: Final vestibule position (near connection point)\n            if (degrees >= 45 && degrees < 90) return \"green\";\n        } else {\n            // Left ear brackets (mirrored across Y-axis)\n            // Red bracket: Starting position (12-3 o'clock) - where particles spawn for left ear\n            if (degrees >= 0 && degrees < 90) return \"red\";\n            // Yellow bracket: Moving toward 10:30-12 o'clock (right side of canal)\n            if (degrees >= 315 && degrees < 360) return \"yellow\";\n            // Blue bracket: 7:30-10:30 o'clock (top of canal) - same as right ear\n            if (degrees >= 225 && degrees < 315) return \"blue\";\n            // Orange bracket: 4:30-7:30 o'clock (left side, approaching vestibule)\n            if (degrees >= 135 && degrees < 225) return \"orange\";\n            // Green bracket: Final vestibule position (3-4:30 o'clock)\n            if (degrees >= 90 && degrees < 135) return \"green\";\n        }\n        return \"red\" // default to starting position\n        ;\n    }\n    // Helper function to get avatar image path\n    function getAvatarImagePath() {\n        if (!selectedEar || !selectedPerspective) return \"\";\n        const earPrefix = selectedEar === \"right\" ? \"R\" : \"L\";\n        const perspectiveType = selectedPerspective === \"patient\" ? \"treat\" : \"epley\";\n        return \"/avatars/\".concat(earPrefix, \"_\").concat(perspectiveType, \"_\").concat(currentAvatarStage, \".png\");\n    }\n    // Helper function to get stage description\n    function getStageDescription() {\n        if (selectedEar === \"left\") {\n            // Left ear Epley maneuver instructions\n            switch(currentAvatarStage){\n                case 1:\n                    return \"Seated Head Left\";\n                case 2:\n                    return \"Supine Head Left Neck Extended\";\n                case 3:\n                    return \"Supine Head Right Neck Extended\";\n                case 4:\n                    return \"Right Sidelying Head Right and Chin Tucked\";\n                case 5:\n                    return \"Seated with Chin Tucked\";\n                default:\n                    return \"Seated Head Left\";\n            }\n        } else {\n            // Right ear Epley maneuver instructions (original)\n            switch(currentAvatarStage){\n                case 1:\n                    return \"Seated Head Right\";\n                case 2:\n                    return \"Supine Head Right Neck Extended\";\n                case 3:\n                    return \"Supine Head Left Neck Extended\";\n                case 4:\n                    return \"Left Sidelying Head Left and Chin Tucked\";\n                case 5:\n                    return \"Seated with Chin Tucked\";\n                default:\n                    return \"Seated Head Right\";\n            }\n        }\n    }\n    // Update avatar stage based on particle positions\n    function updateAvatarStage() {\n        if (particlesRef.current.length < 2) return;\n        // Count particles in each bracket\n        const bracketCounts = {\n            red: 0,\n            yellow: 0,\n            blue: 0,\n            orange: 0,\n            green: 0\n        };\n        particlesRef.current.forEach((particle)=>{\n            const bracket = getParticleBracket(particle);\n            bracketCounts[bracket]++;\n        });\n        // Find the bracket with at least 2 particles (50% threshold instead of majority)\n        let targetBracket = \"red\" // default\n        ;\n        for (const [bracket, count] of Object.entries(bracketCounts)){\n            if (count >= 2) {\n                targetBracket = bracket;\n                break;\n            }\n        }\n        // Map brackets to avatar stages (only move forward)\n        const bracketToStage = {\n            red: 1,\n            yellow: 2,\n            blue: 3,\n            orange: 4,\n            green: 5 // Stage 5\n        };\n        const newStage = bracketToStage[targetBracket];\n        if (newStage > currentAvatarStage) {\n            startAvatarTransition(newStage);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"white\",\n            zIndex: 1000,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    padding: \"20px\",\n                    borderBottom: \"1px solid #e2e8f0\",\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    backgroundColor: \"white\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            margin: 0,\n                            fontSize: \"1.2rem\",\n                            fontWeight: \"600\"\n                        },\n                        children: \"\\uD83C\\uDFAF Pocket Epley Trainer\"\n                    }, void 0, false, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1107,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            padding: \"8px 16px\",\n                            borderRadius: \"6px\",\n                            border: \"1px solid #d1d5db\",\n                            backgroundColor: \"white\",\n                            cursor: \"pointer\"\n                        },\n                        children: \"← Back\"\n                    }, void 0, false, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1110,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                lineNumber: 1095,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: \"70px\",\n                    marginBottom: \"15px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    gap: \"12px\",\n                    width: \"100%\",\n                    maxWidth: \"500px\",\n                    padding: \"0 15px\",\n                    overflowY: \"auto\",\n                    maxHeight: \"calc(100vh - 100px)\" // Adjusted for smaller header margin\n                },\n                children: [\n                    !selectedEar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                style: {\n                                    marginBottom: \"10px\"\n                                },\n                                children: \"Select Ear for Training\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1141,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"30px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: \"Choose which ear you want to practice the Epley maneuver on\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1142,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"20px\",\n                                    justifyContent: \"center\",\n                                    flexWrap: \"wrap\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedEar(\"left\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #374151\",\n                                            backgroundColor: \"white\",\n                                            color: \"#374151\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(55, 65, 81, 0.1)\",\n                                            minWidth: \"140px\",\n                                            order: 1,\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Left Ear\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1163,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"Epley Maneuver\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1164,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1146,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedEar(\"right\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #374151\",\n                                            backgroundColor: \"white\",\n                                            color: \"#374151\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(55, 65, 81, 0.1)\",\n                                            minWidth: \"140px\",\n                                            order: 2,\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Right Ear\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1183,\n                                                columnNumber: 26\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"Epley Maneuver\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1184,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1166,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1145,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1140,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && !selectedPerspective && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                style: {\n                                    marginBottom: \"10px\"\n                                },\n                                children: \"Select Training Perspective\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1193,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"30px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: [\n                                    \"Choose your learning perspective for the \",\n                                    selectedEar,\n                                    \" ear Epley maneuver\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1194,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"20px\",\n                                    justifyContent: \"center\",\n                                    flexWrap: \"wrap\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedPerspective(\"patient\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #667eea\",\n                                            backgroundColor: \"white\",\n                                            color: \"#667eea\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(102, 126, 234, 0.1)\",\n                                            minWidth: \"140px\",\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Patient Perspective\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1214,\n                                                columnNumber: 36\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"What you feel\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1215,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1198,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedPerspective(\"clinician\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #10b981\",\n                                            backgroundColor: \"white\",\n                                            color: \"#10b981\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(16, 185, 129, 0.1)\",\n                                            minWidth: \"140px\",\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Clinician Perspective\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1233,\n                                                columnNumber: 38\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"What they see\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1234,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1217,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1197,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    setSelectedEar(null);\n                                    setSelectedPerspective(null);\n                                    setEpleyComplete(false);\n                                    setCurrentAvatarStage(1) // Reset avatar stage\n                                    ;\n                                    // Don't reset orientation setup - keep it for switching ears\n                                    // Clean up completion animation\n                                    setCompletionAnimationStarted(false);\n                                    setAvatarOpacity(1.0);\n                                    setSuccessOpacity(0.0);\n                                    if (completionTimeoutRef.current) {\n                                        clearTimeout(completionTimeoutRef.current);\n                                        completionTimeoutRef.current = null;\n                                    }\n                                    // Clean up transition animation\n                                    setIsTransitioning(false);\n                                    setPreviousAvatarStage(1);\n                                    setTransitionProgress(0);\n                                    if (transitionTimeoutRef.current) {\n                                        clearTimeout(transitionTimeoutRef.current);\n                                        transitionTimeoutRef.current = null;\n                                    }\n                                },\n                                style: {\n                                    marginTop: \"20px\",\n                                    padding: \"10px 20px\",\n                                    borderRadius: \"6px\",\n                                    border: \"1px solid #d1d5db\",\n                                    backgroundColor: \"white\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\",\n                                    cursor: \"pointer\"\n                                },\n                                children: \"← Back to Ear Selection\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1237,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1192,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && selectedPerspective && orientationLockPrompted && !orientationSetupComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"\\uD83D\\uDCF1 Lock Screen Rotation\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1282,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"20px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: \"For the best training experience, please lock your device to portrait mode:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1283,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    backgroundColor: \"#f8f9fa\",\n                                    padding: \"20px\",\n                                    borderRadius: \"8px\",\n                                    marginBottom: \"20px\",\n                                    textAlign: \"left\",\n                                    fontSize: \"14px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"iOS:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1294,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Swipe down from top-right → Tap rotation lock icon\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1294,\n                                        columnNumber: 87\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Android:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1295,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Swipe down from top → Tap auto-rotate to disable\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1286,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleOrientationLockAck,\n                                style: {\n                                    padding: \"12px 24px\",\n                                    borderRadius: \"8px\",\n                                    border: \"none\",\n                                    backgroundColor: \"#667eea\",\n                                    color: \"white\",\n                                    fontSize: \"16px\",\n                                    fontWeight: \"600\",\n                                    cursor: \"pointer\",\n                                    boxShadow: \"0 4px 15px rgba(102, 126, 234, 0.4)\"\n                                },\n                                children: \"Continue to Training\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1297,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1281,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && selectedPerspective && !orientationLockPrompted && !permissionGranted && !orientationSetupComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"\\uD83D\\uDCF2 Enable Device Orientation\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1319,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"20px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: [\n                                    \"Tilt your device to move the particles through the \",\n                                    selectedEar,\n                                    \" ear canal.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1320,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: requestOrientationPermission,\n                                style: {\n                                    padding: \"12px 24px\",\n                                    borderRadius: \"8px\",\n                                    border: \"none\",\n                                    backgroundColor: \"#667eea\",\n                                    color: \"white\",\n                                    fontSize: \"16px\",\n                                    fontWeight: \"600\",\n                                    cursor: \"pointer\",\n                                    boxShadow: \"0 4px 15px rgba(102, 126, 234, 0.4)\"\n                                },\n                                children: \"Enable Orientation\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1323,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1318,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && selectedPerspective && (permissionGranted || orientationSetupComplete) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            selectedPerspective === \"clinician\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"8px\",\n                                    textAlign: \"center\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"#333\",\n                                        margin: \"0 0 2px 0\",\n                                        fontWeight: \"600\"\n                                    },\n                                    children: [\n                                        \"Stage \",\n                                        currentAvatarStage,\n                                        \"/5: \",\n                                        getStageDescription()\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                    lineNumber: 1354,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1347,\n                                columnNumber: 15\n                            }, this),\n                            selectedPerspective === \"patient\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"8px\",\n                                    textAlign: \"center\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"#333\",\n                                        margin: \"0 0 2px 0\",\n                                        fontWeight: \"600\"\n                                    },\n                                    children: [\n                                        \"Stage \",\n                                        currentAvatarStage,\n                                        \"/5: \",\n                                        getStageDescription()\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                    lineNumber: 1374,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1367,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                ref: canvasRef,\n                                width: CANVAS_WIDTH,\n                                height: CANVAS_HEIGHT,\n                                onClick: handleCanvasClick,\n                                style: {\n                                    border: \"2px solid #ddd\",\n                                    borderRadius: \"8px\",\n                                    backgroundColor: \"white\",\n                                    cursor: epleyComplete ? \"pointer\" : \"default\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1385,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    textAlign: \"center\",\n                                    maxWidth: \"350px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        style: {\n                                            fontSize: \"14px\",\n                                            color: \"#666\",\n                                            marginBottom: \"10px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: [\n                                                    selectedEar === \"left\" ? \"Left\" : \"Right\",\n                                                    \" Ear Epley Training:\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1400,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1400,\n                                                columnNumber: 97\n                                            }, this),\n                                            \"Tilt your device to guide particles into the vestibule. Complete the maneuver by getting all particles to dissolve in the vestibule chamber.\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1399,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"10px\",\n                                            justifyContent: \"center\",\n                                            flexWrap: \"wrap\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: initializeParticles,\n                                                style: {\n                                                    padding: \"10px 20px\",\n                                                    borderRadius: \"6px\",\n                                                    border: \"none\",\n                                                    backgroundColor: \"#10b981\",\n                                                    color: \"white\",\n                                                    fontSize: \"14px\",\n                                                    fontWeight: \"600\",\n                                                    cursor: \"pointer\"\n                                                },\n                                                children: \"Reset Particles\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1406,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setSelectedEar(null);\n                                                    setSelectedPerspective(null);\n                                                    setEpleyComplete(false);\n                                                    setCurrentAvatarStage(1) // Reset avatar stage\n                                                    ;\n                                                    // Don't reset orientation setup - keep it for switching ears\n                                                    // Clean up completion animation\n                                                    setCompletionAnimationStarted(false);\n                                                    setAvatarOpacity(1.0);\n                                                    setSuccessOpacity(0.0);\n                                                    if (completionTimeoutRef.current) {\n                                                        clearTimeout(completionTimeoutRef.current);\n                                                        completionTimeoutRef.current = null;\n                                                    }\n                                                    // Clean up transition animation\n                                                    setIsTransitioning(false);\n                                                    setPreviousAvatarStage(1);\n                                                    setTransitionProgress(0);\n                                                    if (transitionTimeoutRef.current) {\n                                                        clearTimeout(transitionTimeoutRef.current);\n                                                        transitionTimeoutRef.current = null;\n                                                    }\n                                                },\n                                                style: {\n                                                    padding: \"10px 20px\",\n                                                    borderRadius: \"6px\",\n                                                    border: \"1px solid #d1d5db\",\n                                                    backgroundColor: \"white\",\n                                                    color: \"#666\",\n                                                    fontSize: \"14px\",\n                                                    fontWeight: \"600\",\n                                                    cursor: \"pointer\"\n                                                },\n                                                children: \"Switch Ear\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1421,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1405,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1398,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                lineNumber: 1125,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n        lineNumber: 1081,\n        columnNumber: 5\n    }, this);\n}\n_s(CanalSimulation, \"rkYvQVZN19SACxQ8feCLdpEoYVE=\");\n_c = CanalSimulation;\nvar _c;\n$RefreshReg$(_c, \"CanalSimulation\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2FuYWxTaW11bGF0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFdUU7QUFxQmhFLFNBQVNLLGdCQUFnQixLQUFpQztRQUFqQyxFQUFFQyxPQUFPLEVBQXdCLEdBQWpDOztJQUM5QixNQUFNQyxZQUFZSiw2Q0FBTUEsQ0FBb0I7SUFDNUMsTUFBTUssZUFBZUwsNkNBQU1BO0lBQzNCLE1BQU0sQ0FBQ00sV0FBV0MsYUFBYSxHQUFHVCwrQ0FBUUEsQ0FBYSxFQUFFO0lBQ3pELE1BQU0sQ0FBQ1UsYUFBYUMsZUFBZSxHQUFHWCwrQ0FBUUEsQ0FBQztRQUFFWSxNQUFNO1FBQUdDLE9BQU87SUFBRTtJQUNuRSxNQUFNLENBQUNDLG1CQUFtQkMscUJBQXFCLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQ2dCLGVBQWVDLGlCQUFpQixHQUFHakIsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDa0IsYUFBYUMsZUFBZSxHQUFHbkIsK0NBQVFBLENBQVU7SUFDeEQsTUFBTSxDQUFDb0IscUJBQXFCQyx1QkFBdUIsR0FBR3JCLCtDQUFRQSxDQUFrQjtJQUNoRixNQUFNLENBQUNzQix5QkFBeUJDLDJCQUEyQixHQUFHdkIsK0NBQVFBLENBQUM7SUFDdkUsTUFBTSxDQUFDd0IsMEJBQTBCQyw0QkFBNEIsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQ3pFLE1BQU0wQixlQUFleEIsNkNBQU1BLENBQWEsRUFBRTtJQUUxQyx5QkFBeUI7SUFDekIsTUFBTSxDQUFDeUIsb0JBQW9CQyxzQkFBc0IsR0FBRzVCLCtDQUFRQSxDQUFDLEdBQUcscUJBQXFCOztJQUVyRiw2QkFBNkI7SUFDN0IsTUFBTSxDQUFDNkIsNEJBQTRCQyw4QkFBOEIsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQzdFLE1BQU0sQ0FBQytCLGVBQWVDLGlCQUFpQixHQUFHaEMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDaUMsZ0JBQWdCQyxrQkFBa0IsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU1tQyx1QkFBdUJqQyw2Q0FBTUEsQ0FBd0I7SUFFM0Qsb0NBQW9DO0lBQ3BDLE1BQU0sQ0FBQ2tDLGlCQUFpQkMsbUJBQW1CLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUNzQyxxQkFBcUJDLHVCQUF1QixHQUFHdkMsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDd0Msb0JBQW9CQyxzQkFBc0IsR0FBR3pDLCtDQUFRQSxDQUFDLEdBQUcsU0FBUzs7SUFDekUsTUFBTTBDLHVCQUF1QnhDLDZDQUFNQSxDQUF3QjtJQUUzRCxpQ0FBaUM7SUFDakMsTUFBTSxDQUFDeUMsZUFBZUMsaUJBQWlCLEdBQUc1QywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNLENBQUM2QyxnQkFBZ0JDLGtCQUFrQixHQUFHOUMsK0NBQVFBLENBQXdCO0lBQzVFLE1BQU0rQyxtQkFBbUIsSUFBSSxlQUFlOztJQUU1QywyQ0FBMkM7SUFDM0MsTUFBTUMsZUFBZSxJQUFLLHFCQUFxQjs7SUFDL0MsTUFBTUMsZ0JBQWdCLElBQUkscUJBQXFCOztJQUMvQyxNQUFNQyxXQUFXRixlQUFlO0lBQ2hDLE1BQU1HLFdBQVdGLGdCQUFnQjtJQUVqQyxpREFBaUQ7SUFDakQsTUFBTUcsZUFBZSxJQUFLLDBDQUEwQzs7SUFDcEUsTUFBTUMsZUFBZSxJQUFLLDBDQUEwQzs7SUFDcEUsTUFBTUMsYUFBYUYsZUFBZUM7SUFDbEMsTUFBTUUsa0JBQWtCQyxLQUFLQyxLQUFLLENBQUNILGFBQWEsR0FBRyxtQkFBbUI7O0lBRXRFLGdEQUFnRDtJQUNoRCxNQUFNSSxxQkFBcUI7UUFDekIsSUFBSXhDLGdCQUFnQixRQUFRO1lBQzFCLDBEQUEwRDtZQUMxRCxNQUFNeUMsa0JBQWtCSCxLQUFLSSxFQUFFLEdBQUcsSUFBRSxFQUFFLG1DQUFtQzs7WUFDekUsT0FBTztnQkFDTEMsT0FBT0Y7Z0JBQ1BHLFNBQVNaLFdBQVdNLEtBQUtPLEdBQUcsQ0FBQ0osbUJBQW9CUCxDQUFBQSxlQUFlLEVBQUM7Z0JBQ2pFWSxTQUFTYixXQUFXSyxLQUFLUyxHQUFHLENBQUNOLG1CQUFvQlAsQ0FBQUEsZUFBZSxFQUFDO2dCQUNqRWMsUUFBUSxHQUFHLG9CQUFvQjtZQUNqQztRQUNGLE9BQU87WUFDTCx3REFBd0Q7WUFDeEQsTUFBTVAsa0JBQWtCSCxLQUFLSSxFQUFFLEdBQUcsRUFBRSxrQ0FBa0M7O1lBQ3RFLE9BQU87Z0JBQ0xDLE9BQU9GO2dCQUNQRyxTQUFTWixXQUFXTSxLQUFLTyxHQUFHLENBQUNKLG1CQUFvQlAsQ0FBQUEsZUFBZSxFQUFDO2dCQUNqRVksU0FBU2IsV0FBV0ssS0FBS1MsR0FBRyxDQUFDTixtQkFBb0JQLENBQUFBLGVBQWUsRUFBQztnQkFDakVjLFFBQVEsR0FBRyxvQkFBb0I7WUFDakM7UUFDRjtJQUNGO0lBRUEseUNBQXlDO0lBQ3pDLE1BQU1DLHNCQUFzQmhFLGtEQUFXQSxDQUFDO1FBQ3RDLElBQUksQ0FBQ2UsYUFBYTtRQUVsQixNQUFNa0QsZUFBMkIsRUFBRTtRQUNuQyxNQUFNQyxjQUFjYixLQUFLSSxFQUFFLEdBQUcsRUFBRSw2QkFBNkI7O1FBQzdELE1BQU1VLGFBQWEsQ0FBQ2xCLGVBQWVDLFlBQVcsSUFBSyxFQUFFLGlCQUFpQjs7UUFFdEUsSUFBSWtCO1FBQ0osSUFBSXJELGdCQUFnQixRQUFRO1lBQzFCLDJFQUEyRTtZQUMzRXFELGdCQUFnQkYsY0FBY2IsS0FBS0ksRUFBRSxHQUFHLEVBQUUsaUVBQWlFOztRQUM3RyxPQUFPO1lBQ0wsc0ZBQXNGO1lBQ3RGVyxnQkFBZ0JGLGNBQWNiLEtBQUtJLEVBQUUsR0FBRyxFQUFFLGlFQUFpRTs7UUFDN0c7UUFFQSxJQUFLLElBQUlZLElBQUksR0FBR0EsSUFBSSxHQUFHQSxJQUFLO1lBQzFCLDhEQUE4RDtZQUM5RCxNQUFNWCxRQUFRVSxnQkFBZ0IsQ0FBQ0MsSUFBSSxHQUFFLElBQUssS0FBSyxtQkFBbUI7O1lBQ2xFSixhQUFhSyxJQUFJLENBQUM7Z0JBQ2hCQyxJQUFJRjtnQkFDSkcsR0FBR3pCLFdBQVdNLEtBQUtPLEdBQUcsQ0FBQ0YsU0FBU1M7Z0JBQ2hDTSxHQUFHekIsV0FBV0ssS0FBS1MsR0FBRyxDQUFDSixTQUFTUztnQkFDaENPLElBQUk7Z0JBQ0pDLElBQUk7Z0JBQ0paLFFBQVFYO2dCQUNSd0IsV0FBVztnQkFDWEMsWUFBWTtnQkFDWkMsZ0JBQWdCMUI7WUFDbEI7UUFDRjtRQUVBOUMsYUFBYTJEO1FBQ2IxQyxhQUFhd0QsT0FBTyxHQUFHZDtRQUN2Qm5ELGlCQUFpQjtRQUNqQlcsc0JBQXNCLEdBQUcsb0NBQW9DOztRQUU3RCxtQ0FBbUM7UUFDbkNFLDhCQUE4QjtRQUM5QkUsaUJBQWlCO1FBQ2pCRSxrQkFBa0I7UUFDbEIsSUFBSUMscUJBQXFCK0MsT0FBTyxFQUFFO1lBQ2hDQyxhQUFhaEQscUJBQXFCK0MsT0FBTztZQUN6Qy9DLHFCQUFxQitDLE9BQU8sR0FBRztRQUNqQztRQUVBLG1DQUFtQztRQUNuQzdDLG1CQUFtQjtRQUNuQkUsdUJBQXVCO1FBQ3ZCRSxzQkFBc0I7UUFDdEIsSUFBSUMscUJBQXFCd0MsT0FBTyxFQUFFO1lBQ2hDQyxhQUFhekMscUJBQXFCd0MsT0FBTztZQUN6Q3hDLHFCQUFxQndDLE9BQU8sR0FBRztRQUNqQztJQUNGLEdBQUc7UUFBQ2hFO0tBQVk7SUFFaEIsc0NBQXNDO0lBQ3RDLE1BQU1rRSwyQkFBMkJqRixrREFBV0EsQ0FBQztRQUMzQyxJQUFJMEIsNEJBQTRCO1FBRWhDQyw4QkFBOEI7UUFFOUIseUNBQXlDO1FBQ3pDLE1BQU11RCxrQkFBa0JDLFlBQVk7WUFDbEN0RCxpQkFBaUJ1RCxDQUFBQTtnQkFDZixNQUFNQyxhQUFhRCxPQUFPLEtBQUssb0RBQW9EOztnQkFDbkYsSUFBSUMsY0FBYyxHQUFHO29CQUNuQkMsY0FBY0o7b0JBQ2QsT0FBTztnQkFDVDtnQkFDQSxPQUFPRztZQUNUO1FBQ0YsR0FBRztRQUVILHFEQUFxRDtRQUNyRHJELHFCQUFxQitDLE9BQU8sR0FBR1EsV0FBVztZQUN4Q3pFLGlCQUFpQjtZQUVqQixNQUFNMEUsaUJBQWlCTCxZQUFZO2dCQUNqQ3BELGtCQUFrQnFELENBQUFBO29CQUNoQixNQUFNQyxhQUFhRCxPQUFPLEtBQUssd0JBQXdCOztvQkFDdkQsSUFBSUMsY0FBYyxHQUFHO3dCQUNuQkMsY0FBY0U7d0JBQ2QsT0FBTztvQkFDVDtvQkFDQSxPQUFPSDtnQkFDVDtZQUNGLEdBQUc7UUFDTCxHQUFHO0lBQ0wsR0FBRztRQUFDM0Q7S0FBMkI7SUFFL0Isb0NBQW9DO0lBQ3BDLE1BQU0rRCx3QkFBd0J6RixrREFBV0EsQ0FBQyxDQUFDMEY7UUFDekMsSUFBSXpELG1CQUFtQnlELGFBQWFsRSxvQkFBb0I7UUFFeEQsbUNBQW1DO1FBQ25DLElBQUllLHFCQUFxQndDLE9BQU8sRUFBRTtZQUNoQ0MsYUFBYXpDLHFCQUFxQndDLE9BQU87UUFDM0M7UUFFQTNDLHVCQUF1Qlo7UUFDdkJVLG1CQUFtQjtRQUNuQkksc0JBQXNCO1FBRXRCLCtCQUErQjtRQUMvQixNQUFNcUQscUJBQXFCO1FBQzNCLE1BQU1DLFFBQVEsR0FBRyxzQ0FBc0M7O1FBQ3ZELE1BQU1DLGVBQWVGLHFCQUFxQkM7UUFFMUMsSUFBSUUsT0FBTztRQUNYLE1BQU1DLHFCQUFxQlosWUFBWTtZQUNyQ1c7WUFDQSxNQUFNRSxXQUFXRixPQUFPRjtZQUV4QiwrQ0FBK0M7WUFDL0MsTUFBTUssZ0JBQWdCRCxXQUFXLE1BQzdCLElBQUlBLFdBQVdBLFdBQVdBLFdBQzFCLElBQUkzQyxLQUFLNkMsR0FBRyxDQUFDLENBQUMsSUFBSUYsV0FBVyxHQUFHLEtBQUs7WUFFekMxRCxzQkFBc0IyRDtZQUV0QixJQUFJSCxRQUFRRixPQUFPO2dCQUNqQk4sY0FBY1M7Z0JBQ2R0RSxzQkFBc0JpRTtnQkFDdEJ4RCxtQkFBbUI7Z0JBQ25CSSxzQkFBc0I7WUFDeEI7UUFDRixHQUFHdUQ7UUFFSCxrQkFBa0I7UUFDbEJ0RCxxQkFBcUJ3QyxPQUFPLEdBQUdRLFdBQVc7WUFDeENELGNBQWNTO1lBQ2R0RSxzQkFBc0JpRTtZQUN0QnhELG1CQUFtQjtZQUNuQkksc0JBQXNCO1FBQ3hCLEdBQUdxRCxxQkFBcUI7SUFDMUIsR0FBRztRQUFDMUQ7UUFBaUJUO0tBQW1CO0lBRXhDLDBCQUEwQjtJQUMxQixNQUFNMkUsa0JBQWtCO1FBQ3RCLElBQUk7WUFDRiw2RUFBNkU7WUFDN0UsSUFBSUMsT0FBTzdGLFdBQVcsSUFBSSxPQUFRQSxXQUFXLENBQVM4RixJQUFJLEVBQUU7Z0JBQzFELE1BQU0sT0FBUTlGLFdBQVcsQ0FBUzhGLElBQUksQ0FBQztnQkFDdkMsT0FBTztZQUNUO1FBQ0YsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFDLEdBQUcsQ0FBQyw2Q0FBNkNGO1FBQzNEO1FBQ0EsT0FBTztJQUNUO0lBRUEsd0NBQXdDO0lBQ3hDLE1BQU1HLCtCQUErQjtRQUNuQyx1REFBdUQ7UUFDdkQsSUFBSSxDQUFDcEYsMEJBQTBCO1lBQzdCLGdDQUFnQztZQUNoQyxNQUFNcUYsY0FBYyxNQUFNUDtZQUUxQixJQUFJLENBQUNPLGVBQWUsQ0FBQ3ZGLHlCQUF5QjtnQkFDNUNDLDJCQUEyQjtnQkFDM0IsUUFBTyxnQ0FBZ0M7WUFDekM7UUFDRjtRQUVBLElBQUksT0FBT3VGLDJCQUEyQixlQUFlLHVCQUF1QkEsd0JBQXdCO1lBQ2xHLElBQUk7Z0JBQ0YsTUFBTUMsYUFBYSxNQUFNLHVCQUFnQ0MsaUJBQWlCO2dCQUMxRSxJQUFJRCxlQUFlLFdBQVc7b0JBQzVCaEcscUJBQXFCO29CQUNyQlUsNEJBQTRCO2dCQUM5QjtZQUNGLEVBQUUsT0FBT2dGLE9BQU87Z0JBQ2RDLFFBQVFELEtBQUssQ0FBQyw0Q0FBNENBO1lBQzVEO1FBQ0YsT0FBTztZQUNMMUYscUJBQXFCO1lBQ3JCVSw0QkFBNEI7UUFDOUI7SUFDRjtJQUVBLGdEQUFnRDtJQUNoRCxNQUFNd0YsMkJBQTJCO1FBQy9CMUYsMkJBQTJCO1FBQzNCcUY7SUFDRjtJQUVBLDRCQUE0QjtJQUM1QjNHLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDYSxtQkFBbUI7UUFFeEIsTUFBTW9HLG9CQUFvQixDQUFDQztZQUN6Qiw2QkFBNkI7WUFDN0IsSUFBSXZHLE9BQU91RyxNQUFNdkcsSUFBSSxJQUFJO1lBQ3pCLElBQUlDLFFBQVFzRyxNQUFNdEcsS0FBSyxJQUFJO1lBRTNCLDJFQUEyRTtZQUMzRSwwRkFBMEY7WUFDMUZGLGVBQWU0RSxDQUFBQTtnQkFDYixNQUFNNkIsV0FBVzVELEtBQUs2RCxHQUFHLENBQUN6RyxPQUFPMkUsS0FBSzNFLElBQUk7Z0JBQzFDLE1BQU0wRyxZQUFZOUQsS0FBSzZELEdBQUcsQ0FBQ3hHLFFBQVEwRSxLQUFLMUUsS0FBSztnQkFFN0MsaUZBQWlGO2dCQUNqRixJQUFJdUcsV0FBVyxNQUFNRSxZQUFZLElBQUk7b0JBQ25DLE9BQU8vQixLQUFLLDhCQUE4Qjs7Z0JBQzVDO2dCQUVBLHFFQUFxRTtnQkFDckUzRSxPQUFPNEMsS0FBSytELEdBQUcsQ0FBQyxDQUFDLElBQUkvRCxLQUFLZ0UsR0FBRyxDQUFDLElBQUk1RztnQkFDbENDLFFBQVEyQyxLQUFLK0QsR0FBRyxDQUFDLENBQUMsSUFBSS9ELEtBQUtnRSxHQUFHLENBQUMsSUFBSTNHO2dCQUVuQywrRUFBK0U7Z0JBQy9FLHFEQUFxRDtnQkFDckQsSUFBSUQsT0FBTyxDQUFDLElBQUlBLE9BQU8sQ0FBQyxHQUFJLCtCQUErQjs7Z0JBQzNELElBQUlBLE9BQU8sSUFBSUEsT0FBTyxHQUFNLGdDQUFnQzs7Z0JBRTVELGlDQUFpQztnQkFDakMsTUFBTTZHLGtCQUFrQixLQUFLLHNCQUFzQjs7Z0JBQ25ELE1BQU1DLFVBQVVuQyxLQUFLM0UsSUFBSSxHQUFHNkcsa0JBQWtCN0csT0FBUSxLQUFJNkcsZUFBYztnQkFDeEUsTUFBTUUsV0FBV3BDLEtBQUsxRSxLQUFLLEdBQUc0RyxrQkFBa0I1RyxRQUFTLEtBQUk0RyxlQUFjO2dCQUUzRSxPQUFPO29CQUNMN0csTUFBTThHO29CQUNON0csT0FBTzhHO2dCQUNUO1lBQ0Y7UUFDRjtRQUVBQyxPQUFPQyxnQkFBZ0IsQ0FBQyxxQkFBcUJYO1FBQzdDLE9BQU8sSUFBTVUsT0FBT0UsbUJBQW1CLENBQUMscUJBQXFCWjtJQUMvRCxHQUFHO1FBQUNwRztLQUFrQjtJQUV0Qix5Q0FBeUM7SUFDekMsTUFBTWlILGVBQWUsQ0FBQ3BELEdBQVdDO1FBQy9CLE1BQU1vRCxpQkFBaUJ4RSxLQUFLeUUsSUFBSSxDQUFDLENBQUN0RCxJQUFJekIsUUFBTyxLQUFNLElBQUksQ0FBQzBCLElBQUl6QixRQUFPLEtBQU07UUFDekUsT0FBTzZFLGtCQUFrQjNFLGdCQUFnQjJFLGtCQUFrQjVFO0lBQzdEO0lBRUEsOEJBQThCO0lBQzlCLE1BQU04RSx1QkFBdUIsQ0FBQ3ZELEdBQVdDLEdBQVdWO1FBQ2xELE1BQU1pRSxVQUFVakY7UUFDaEIsTUFBTWtGLGNBQWM5RSxhQUFhO1FBQ2pDLE1BQU0rRSxlQUFlL0UsYUFBYTtRQUNsQyxNQUFNZ0YsVUFBVW5GLFdBQVdDLGVBQWVpRixlQUFlO1FBRXpELE9BQ0UxRCxJQUFJVCxTQUFTaUUsVUFBVUMsY0FBYyxLQUNyQ3pELElBQUlULFNBQVNpRSxVQUFVQyxjQUFjLEtBQ3JDeEQsSUFBSVYsU0FBU29FLFVBQVVELGVBQWUsS0FDdEN6RCxJQUFJVixTQUFTb0UsVUFBVUQsZUFBZTtJQUUxQztJQUVBLHlDQUF5QztJQUN6QyxNQUFNRSxvQkFBb0IsQ0FBQzVELEdBQVdDO1FBQ3BDLE1BQU00RCxrQkFBa0I5RTtRQUV4Qix5QkFBeUI7UUFDekIsTUFBTStFLDBCQUEwQmpGLEtBQUt5RSxJQUFJLENBQUMsQ0FBQ3RELElBQUk2RCxnQkFBZ0IxRSxPQUFPLEtBQUssSUFBSSxDQUFDYyxJQUFJNEQsZ0JBQWdCeEUsT0FBTyxLQUFLO1FBQ2hILElBQUl5RSwyQkFBMkJELGdCQUFnQnRFLE1BQU0sRUFBRSxPQUFPO1FBRTlELG1EQUFtRDtRQUNuRCxNQUFNd0UsY0FBY3hGLFdBQVdNLEtBQUtPLEdBQUcsQ0FBQ3lFLGdCQUFnQjNFLEtBQUssSUFBSVQ7UUFDakUsTUFBTXVGLGNBQWN4RixXQUFXSyxLQUFLUyxHQUFHLENBQUN1RSxnQkFBZ0IzRSxLQUFLLElBQUlUO1FBQ2pFLE1BQU13RixrQkFBa0I7UUFDeEIsTUFBTUMsbUJBQW1CO1FBRXpCLHNFQUFzRTtRQUN0RSxNQUFNQyxLQUFLbkUsSUFBSStEO1FBQ2YsTUFBTUssS0FBS25FLElBQUkrRDtRQUNmLE1BQU1LLFdBQVdGLEtBQUt0RixLQUFLTyxHQUFHLENBQUMsQ0FBQ3lFLGdCQUFnQjNFLEtBQUssSUFBSWtGLEtBQUt2RixLQUFLUyxHQUFHLENBQUMsQ0FBQ3VFLGdCQUFnQjNFLEtBQUs7UUFDN0YsTUFBTW9GLFdBQVdILEtBQUt0RixLQUFLUyxHQUFHLENBQUMsQ0FBQ3VFLGdCQUFnQjNFLEtBQUssSUFBSWtGLEtBQUt2RixLQUFLTyxHQUFHLENBQUMsQ0FBQ3lFLGdCQUFnQjNFLEtBQUs7UUFFN0YsT0FBT0wsS0FBSzZELEdBQUcsQ0FBQzJCLGFBQWFKLGtCQUFrQixLQUFLcEYsS0FBSzZELEdBQUcsQ0FBQzRCLGFBQWFKLG1CQUFtQjtJQUMvRjtJQUVBLHlDQUF5QztJQUN6QyxNQUFNSyxpQkFBaUIsQ0FBQ3ZFLEdBQVdDO1FBQ2pDLE9BQU9tRCxhQUFhcEQsR0FBR0MsTUFBTTJELGtCQUFrQjVELEdBQUdDO0lBQ3BEO0lBRUEsaUJBQWlCO0lBQ2pCLE1BQU11RSxnQkFBZ0JoSixrREFBV0EsQ0FBQztRQUNoQyxJQUFJLENBQUNHLFVBQVU0RSxPQUFPLElBQUksQ0FBQ2hFLGFBQWE7UUFFeEMsTUFBTWtELGVBQWUxQyxhQUFhd0QsT0FBTyxDQUFDa0UsR0FBRyxDQUFDLENBQUNDLFVBQVVDO1lBQ3ZELDRDQUE0QztZQUM1QyxJQUFJRCxTQUFTckUsVUFBVSxFQUFFO2dCQUN2QixNQUFNdUUsWUFBWS9GLEtBQUsrRCxHQUFHLENBQUMsR0FBRzhCLFNBQVNuRixNQUFNLEdBQUc7Z0JBQ2hELE9BQU87b0JBQ0wsR0FBR21GLFFBQVE7b0JBQ1huRixRQUFRcUY7Z0JBQ1Y7WUFDRjtZQUVBLCtDQUErQztZQUMvQyxNQUFNQyxrQkFBa0IsS0FBTSw0RUFBNEU7O1lBRTFHLHlDQUF5QztZQUN6QyxNQUFNQyxlQUFlakcsS0FBSzZELEdBQUcsQ0FBQzdELEtBQUs2RCxHQUFHLENBQUMzRyxZQUFZRyxLQUFLLElBQUksS0FBSyxNQUFNO1lBRXZFLElBQUk2SSxVQUFVQztZQUVkLElBQUlGLGNBQWM7Z0JBQ2hCQyxXQUFXbEcsS0FBS1MsR0FBRyxDQUFDLENBQUN2RCxZQUFZRyxLQUFLLElBQUksS0FBSzJDLEtBQUtJLEVBQUUsR0FBRyxPQUFPNEY7Z0JBQ2hFRyxXQUFXbkcsS0FBS1MsR0FBRyxDQUFDLENBQUN2RCxZQUFZRSxJQUFJLElBQUksS0FBSzRDLEtBQUtJLEVBQUUsR0FBRyxPQUFPNEYsa0JBQWtCO1lBQ25GLE9BQU87Z0JBQ0xFLFdBQVdsRyxLQUFLUyxHQUFHLENBQUMsQ0FBQ3ZELFlBQVlHLEtBQUssSUFBSSxLQUFLMkMsS0FBS0ksRUFBRSxHQUFHLE9BQU80RjtnQkFDaEVHLFdBQVduRyxLQUFLUyxHQUFHLENBQUMsQ0FBQ3ZELFlBQVlFLElBQUksSUFBSSxLQUFLNEMsS0FBS0ksRUFBRSxHQUFHLE9BQU80RjtZQUNqRTtZQUVBLCtCQUErQjtZQUMvQixJQUFJSSxRQUFRUCxTQUFTeEUsRUFBRSxHQUFHNkU7WUFDMUIsSUFBSUcsUUFBUVIsU0FBU3ZFLEVBQUUsR0FBRzZFO1lBRTFCLDJDQUEyQztZQUMzQ0MsU0FBUyxNQUFPLDJDQUEyQzs7WUFDM0RDLFNBQVM7WUFFVCx1QkFBdUI7WUFDdkIsSUFBSUMsT0FBT1QsU0FBUzFFLENBQUMsR0FBR2lGO1lBQ3hCLElBQUlHLE9BQU9WLFNBQVN6RSxDQUFDLEdBQUdpRjtZQUV4QixvQ0FBb0M7WUFDcEMsTUFBTUcsaUJBQWlCekIsa0JBQWtCdUIsTUFBTUM7WUFFL0MsSUFBSUMsa0JBQWtCLENBQUNYLFNBQVN0RSxTQUFTLEVBQUU7Z0JBQ3pDc0UsU0FBU3RFLFNBQVMsR0FBRztZQUN2QjtZQUVBLHdEQUF3RDtZQUN4RCxNQUFNaUQsaUJBQWlCeEUsS0FBS3lFLElBQUksQ0FBQyxDQUFDNkIsT0FBTzVHLFFBQU8sS0FBTSxJQUFJLENBQUM2RyxPQUFPNUcsUUFBTyxLQUFNO1lBQy9FLE1BQU1xRixrQkFBa0I5RTtZQUV4QixJQUFJcUUsYUFBYStCLE1BQU1DLE9BQU87Z0JBQzVCLDJCQUEyQjtnQkFDM0IsSUFBSS9CLGlCQUFpQjVFLGVBQWVpRyxTQUFTbkYsTUFBTSxFQUFFO29CQUNuRCxNQUFNK0Ysa0JBQWtCekcsS0FBSzBHLEtBQUssQ0FBQ0gsT0FBTzVHLFVBQVUyRyxPQUFPNUc7b0JBQzNELE1BQU1pSCwyQkFBMkIzQixnQkFBZ0IzRSxLQUFLLEdBQUc7b0JBQ3pELE1BQU11Ryx5QkFBeUI1QixnQkFBZ0IzRSxLQUFLLEdBQUc7b0JBRXZELHlCQUF5QjtvQkFDekIsSUFBSXdHLG1CQUFtQjtvQkFDdkIsSUFBSUMsa0JBQWtCTDtvQkFDdEIsSUFBSUssa0JBQWtCLEdBQUdBLG1CQUFtQjlHLEtBQUtJLEVBQUUsR0FBRztvQkFFdEQsSUFBSTJHLGtCQUFrQko7b0JBQ3RCLElBQUlJLGtCQUFrQixHQUFHQSxtQkFBbUIvRyxLQUFLSSxFQUFFLEdBQUc7b0JBRXRELElBQUk0RyxnQkFBZ0JKO29CQUNwQixJQUFJSSxnQkFBZ0IsR0FBR0EsaUJBQWlCaEgsS0FBS0ksRUFBRSxHQUFHO29CQUVsRCxvQ0FBb0M7b0JBQ3BDLElBQUk0RyxnQkFBZ0JELGlCQUFpQjt3QkFDbkNGLG1CQUFvQkMsbUJBQW1CQyxtQkFBbUJELG1CQUFtQkU7b0JBQy9FLE9BQU87d0JBQ0xILG1CQUFvQkMsbUJBQW1CQyxtQkFBbUJELG1CQUFtQkU7b0JBQy9FO29CQUVBLElBQUksQ0FBQ0gsa0JBQWtCO3dCQUNyQixNQUFNeEcsUUFBUUwsS0FBSzBHLEtBQUssQ0FBQ0gsT0FBTzVHLFVBQVUyRyxPQUFPNUc7d0JBQ2pENEcsT0FBTzVHLFdBQVdNLEtBQUtPLEdBQUcsQ0FBQ0YsU0FBVVQsQ0FBQUEsZUFBZWlHLFNBQVNuRixNQUFNO3dCQUNuRTZGLE9BQU81RyxXQUFXSyxLQUFLUyxHQUFHLENBQUNKLFNBQVVULENBQUFBLGVBQWVpRyxTQUFTbkYsTUFBTTt3QkFFbkUseUNBQXlDO3dCQUN6QyxNQUFNdUcsVUFBVWpILEtBQUtPLEdBQUcsQ0FBQ0Y7d0JBQ3pCLE1BQU02RyxVQUFVbEgsS0FBS1MsR0FBRyxDQUFDSjt3QkFDekIsTUFBTThHLGFBQWFmLFFBQVFhLFVBQVVaLFFBQVFhO3dCQUU3Qyx5Q0FBeUM7d0JBQ3pDLElBQUlDLGFBQWEsR0FBRzs0QkFDbEJmLFFBQVFBLFFBQVEsTUFBTWUsYUFBYUYsUUFBUyxtQkFBbUI7OzRCQUMvRFosUUFBUUEsUUFBUSxNQUFNYyxhQUFhRDs0QkFDbkNkLFNBQVMsS0FBTSwyQ0FBMkM7OzRCQUMxREMsU0FBUzt3QkFDWDtvQkFDRjtnQkFDRixPQUVLLElBQUk3QixpQkFBaUIzRSxlQUFlZ0csU0FBU25GLE1BQU0sRUFBRTtvQkFDeEQsTUFBTUwsUUFBUUwsS0FBSzBHLEtBQUssQ0FBQ0gsT0FBTzVHLFVBQVUyRyxPQUFPNUc7b0JBQ2pENEcsT0FBTzVHLFdBQVdNLEtBQUtPLEdBQUcsQ0FBQ0YsU0FBVVIsQ0FBQUEsZUFBZWdHLFNBQVNuRixNQUFNO29CQUNuRTZGLE9BQU81RyxXQUFXSyxLQUFLUyxHQUFHLENBQUNKLFNBQVVSLENBQUFBLGVBQWVnRyxTQUFTbkYsTUFBTTtvQkFFbkUseUNBQXlDO29CQUN6QyxNQUFNdUcsVUFBVSxDQUFDakgsS0FBS08sR0FBRyxDQUFDRjtvQkFDMUIsTUFBTTZHLFVBQVUsQ0FBQ2xILEtBQUtTLEdBQUcsQ0FBQ0o7b0JBQzFCLE1BQU04RyxhQUFhZixRQUFRYSxVQUFVWixRQUFRYTtvQkFFN0MseUNBQXlDO29CQUN6QyxJQUFJQyxhQUFhLEdBQUc7d0JBQ2xCZixRQUFRQSxRQUFRLE1BQU1lLGFBQWFGLFFBQVMsbUJBQW1COzt3QkFDL0RaLFFBQVFBLFFBQVEsTUFBTWMsYUFBYUQ7d0JBQ25DZCxTQUFTLEtBQU0sMkNBQTJDOzt3QkFDMURDLFNBQVM7b0JBQ1g7Z0JBQ0Y7WUFDRixPQUFPLElBQUl0QixrQkFBa0J1QixNQUFNQyxPQUFPO2dCQUN4QyxNQUFNdEIsMEJBQTBCakYsS0FBS3lFLElBQUksQ0FBQyxDQUFDNkIsT0FBT3RCLGdCQUFnQjFFLE9BQU8sS0FBSyxJQUFJLENBQUNpRyxPQUFPdkIsZ0JBQWdCeEUsT0FBTyxLQUFLO2dCQUV0SCxJQUFJeUUsMEJBQTBCRCxnQkFBZ0J0RSxNQUFNLEdBQUdtRixTQUFTbkYsTUFBTSxFQUFFO29CQUN0RSxNQUFNTCxRQUFRTCxLQUFLMEcsS0FBSyxDQUFDSCxPQUFPdkIsZ0JBQWdCeEUsT0FBTyxFQUFFOEYsT0FBT3RCLGdCQUFnQjFFLE9BQU87b0JBQ3ZGZ0csT0FBT3RCLGdCQUFnQjFFLE9BQU8sR0FBR04sS0FBS08sR0FBRyxDQUFDRixTQUFVMkUsQ0FBQUEsZ0JBQWdCdEUsTUFBTSxHQUFHbUYsU0FBU25GLE1BQU07b0JBQzVGNkYsT0FBT3ZCLGdCQUFnQnhFLE9BQU8sR0FBR1IsS0FBS1MsR0FBRyxDQUFDSixTQUFVMkUsQ0FBQUEsZ0JBQWdCdEUsTUFBTSxHQUFHbUYsU0FBU25GLE1BQU07b0JBRTVGLGlDQUFpQztvQkFDakMsTUFBTXVHLFVBQVVqSCxLQUFLTyxHQUFHLENBQUNGO29CQUN6QixNQUFNNkcsVUFBVWxILEtBQUtTLEdBQUcsQ0FBQ0o7b0JBQ3pCLE1BQU04RyxhQUFhZixRQUFRYSxVQUFVWixRQUFRYTtvQkFFN0MsSUFBSUMsYUFBYSxHQUFHO3dCQUNsQmYsUUFBUUEsUUFBUSxNQUFNZSxhQUFhRjt3QkFDbkNaLFFBQVFBLFFBQVEsTUFBTWMsYUFBYUQ7d0JBQ25DZCxTQUFTLElBQUsseUNBQXlDOzt3QkFDdkRDLFNBQVM7b0JBQ1g7Z0JBQ0Y7Z0JBRUEsd0JBQXdCO2dCQUN4QixJQUFJckcsS0FBSzZELEdBQUcsQ0FBQ3VDLFNBQVMsT0FBT3BHLEtBQUs2RCxHQUFHLENBQUN3QyxTQUFTLEtBQUs7b0JBQ2xEUixTQUFTckUsVUFBVSxHQUFHO2dCQUN4QjtZQUNGLE9BQU8sSUFBSSxDQUFDa0UsZUFBZVksTUFBTUMsT0FBTztnQkFDdEMsNkRBQTZEO2dCQUM3RCxJQUFJaEMsYUFBYXNCLFNBQVMxRSxDQUFDLEVBQUUwRSxTQUFTekUsQ0FBQyxHQUFHO29CQUN4QyxNQUFNZixRQUFRTCxLQUFLMEcsS0FBSyxDQUFDSCxPQUFPNUcsVUFBVTJHLE9BQU81RztvQkFDakQ0RyxPQUFPNUcsV0FBV00sS0FBS08sR0FBRyxDQUFDRixTQUFVVCxDQUFBQSxlQUFlaUcsU0FBU25GLE1BQU07b0JBQ25FNkYsT0FBTzVHLFdBQVdLLEtBQUtTLEdBQUcsQ0FBQ0osU0FBVVQsQ0FBQUEsZUFBZWlHLFNBQVNuRixNQUFNO2dCQUNyRSxPQUFPO29CQUNMLE1BQU1MLFFBQVFMLEtBQUswRyxLQUFLLENBQUNILE9BQU92QixnQkFBZ0J4RSxPQUFPLEVBQUU4RixPQUFPdEIsZ0JBQWdCMUUsT0FBTztvQkFDdkZnRyxPQUFPdEIsZ0JBQWdCMUUsT0FBTyxHQUFHTixLQUFLTyxHQUFHLENBQUNGLFNBQVUyRSxDQUFBQSxnQkFBZ0J0RSxNQUFNLEdBQUdtRixTQUFTbkYsTUFBTTtvQkFDNUY2RixPQUFPdkIsZ0JBQWdCeEUsT0FBTyxHQUFHUixLQUFLUyxHQUFHLENBQUNKLFNBQVUyRSxDQUFBQSxnQkFBZ0J0RSxNQUFNLEdBQUdtRixTQUFTbkYsTUFBTTtnQkFDOUY7Z0JBQ0EwRixTQUFTLElBQUssNENBQTRDOztnQkFDMURDLFNBQVM7WUFDWDtZQUVBLHlCQUF5QjtZQUN6QixJQUFJM0IscUJBQXFCNEIsTUFBTUMsTUFBTVYsU0FBU25GLE1BQU0sS0FBSyxDQUFDOEYsZ0JBQWdCO2dCQUN4RSxNQUFNN0IsVUFBVWpGO2dCQUNoQixNQUFNbUYsZUFBZS9FLGFBQWE7Z0JBQ2xDLE1BQU1nRixVQUFVbkYsV0FBV0MsZUFBZWlGLGVBQWU7Z0JBQ3pELE1BQU11QyxZQUFZcEgsS0FBSzBHLEtBQUssQ0FBQ0gsT0FBT3pCLFNBQVN3QixPQUFPM0I7Z0JBQ3BELE1BQU0wQyxlQUFleEIsU0FBU25GLE1BQU0sR0FBR1osYUFBYTtnQkFDcER3RyxPQUFPM0IsVUFBVTNFLEtBQUtPLEdBQUcsQ0FBQzZHLGFBQWFDO2dCQUN2Q2QsT0FBT3pCLFVBQVU5RSxLQUFLUyxHQUFHLENBQUMyRyxhQUFhQztnQkFFdkNqQixTQUFTO2dCQUNUQyxTQUFTO1lBQ1g7WUFFQSx1REFBdUQ7WUFDdkRuSSxhQUFhd0QsT0FBTyxDQUFDNEYsT0FBTyxDQUFDLENBQUNDLGVBQWVDO2dCQUMzQyxJQUFJMUIsVUFBVTBCLGNBQWMsQ0FBQzNCLFNBQVNyRSxVQUFVLElBQUksQ0FBQytGLGNBQWMvRixVQUFVLEVBQUU7b0JBQzdFLE1BQU04RCxLQUFLZ0IsT0FBT2lCLGNBQWNwRyxDQUFDO29CQUNqQyxNQUFNb0UsS0FBS2dCLE9BQU9nQixjQUFjbkcsQ0FBQztvQkFDakMsTUFBTXFHLFdBQVd6SCxLQUFLeUUsSUFBSSxDQUFDYSxLQUFLQSxLQUFLQyxLQUFLQTtvQkFDMUMsTUFBTW1DLGNBQWM3QixTQUFTbkYsTUFBTSxHQUFHNkcsY0FBYzdHLE1BQU07b0JBRTFELElBQUkrRyxXQUFXQyxlQUFlRCxXQUFXLEdBQUc7d0JBQzFDLE1BQU1FLFVBQVVELGNBQWNEO3dCQUM5QixNQUFNRyxjQUFjLEtBQU1ILFdBQWFFLENBQUFBLFVBQVUsR0FBRTt3QkFDbkQsTUFBTUUsY0FBYyxLQUFNSixXQUFhRSxDQUFBQSxVQUFVLEdBQUU7d0JBRW5EckIsUUFBUXNCO3dCQUNSckIsUUFBUXNCO3dCQUVSLE1BQU1aLFVBQVUzQixLQUFLbUM7d0JBQ3JCLE1BQU1QLFVBQVUzQixLQUFLa0M7d0JBQ3JCLE1BQU1LLG9CQUFvQjFCLFFBQVFtQixjQUFjbEcsRUFBRTt3QkFDbEQsTUFBTTBHLG9CQUFvQjFCLFFBQVFrQixjQUFjakcsRUFBRTt3QkFDbEQsTUFBTTBHLHNCQUFzQkYsb0JBQW9CYixVQUFVYyxvQkFBb0JiO3dCQUU5RSxJQUFJYyxzQkFBc0IsR0FBRzt3QkFFN0IsTUFBTUMsY0FBYzt3QkFDcEIsTUFBTUMsVUFBVSxDQUFFLEtBQUlELFdBQVUsSUFBS0Qsc0JBQXNCO3dCQUMzRDVCLFNBQVM4QixVQUFVakI7d0JBQ25CWixTQUFTNkIsVUFBVWhCO29CQUNyQjtnQkFDRjtZQUNGO1lBRUEsb0RBQW9EO1lBQ3BELE1BQU1pQixjQUFjO1lBQ3BCLE1BQU1DLGVBQWVwSSxLQUFLeUUsSUFBSSxDQUFDMkIsUUFBUUEsUUFBUUMsUUFBUUE7WUFDdkQsSUFBSStCLGVBQWUsS0FBS0EsZUFBZUQsZUFBZSxDQUFDdEMsU0FBU3JFLFVBQVUsRUFBRTtnQkFDMUUsTUFBTTZHLGtCQUFrQkYsY0FBY0M7Z0JBQ3RDaEMsU0FBU2lDO2dCQUNUaEMsU0FBU2dDO1lBQ1g7WUFFQSxPQUFPO2dCQUNMLEdBQUd4QyxRQUFRO2dCQUNYMUUsR0FBR21GO2dCQUNIbEYsR0FBR21GO2dCQUNIbEYsSUFBSStFO2dCQUNKOUUsSUFBSStFO1lBQ047UUFDRjtRQUVBLDBDQUEwQztRQUMxQyxNQUFNaUMsMEJBQTBCMUgsYUFBYTJILEtBQUssQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRWpILFNBQVM7UUFFbkUsSUFBSStHLDJCQUEyQixDQUFDOUssaUJBQWlCVyx1QkFBdUIsS0FBSyxDQUFDRSw0QkFBNEI7WUFDeEcseUZBQXlGO1lBQ3pGdUQ7UUFDRjtRQUVBMUQsYUFBYXdELE9BQU8sR0FBR2Q7UUFDdkIzRCxhQUFhMkQ7UUFFYixrREFBa0Q7UUFDbEQ2SDtJQUNGLEdBQUc7UUFBQ3ZMO1FBQWFNO1FBQWVFO1FBQWFTO1FBQW9CRTtRQUE0QnVEO0tBQXlCO0lBRXRILGlCQUFpQjtJQUNqQm5GLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWlNLFVBQVU7WUFDZC9DO1lBQ0FnRDtZQUNBNUwsYUFBYTJFLE9BQU8sR0FBR2tILHNCQUFzQkY7UUFDL0M7UUFFQSxJQUFJcEwscUJBQXFCSSxlQUFlRSxxQkFBcUI7WUFDM0Q4SztRQUNGO1FBRUEsT0FBTztZQUNMLElBQUkzTCxhQUFhMkUsT0FBTyxFQUFFO2dCQUN4Qm1ILHFCQUFxQjlMLGFBQWEyRSxPQUFPO1lBQzNDO1FBQ0Y7SUFDRixHQUFHO1FBQUNpRTtRQUFlckk7UUFBbUJJO1FBQWFFO0tBQW9CO0lBRXZFLDhCQUE4QjtJQUM5QixNQUFNa0wsMkJBQTJCO1FBQy9Cbkk7UUFDQXZDLHNCQUFzQixHQUFHLG9DQUFvQzs7UUFFN0QsNkJBQTZCO1FBQzdCRSw4QkFBOEI7UUFDOUJFLGlCQUFpQjtRQUNqQkUsa0JBQWtCO1FBQ2xCLElBQUlDLHFCQUFxQitDLE9BQU8sRUFBRTtZQUNoQ0MsYUFBYWhELHFCQUFxQitDLE9BQU87WUFDekMvQyxxQkFBcUIrQyxPQUFPLEdBQUc7UUFDakM7UUFFQSxvQ0FBb0M7UUFDcEM3QyxtQkFBbUI7UUFDbkJFLHVCQUF1QjtRQUN2QkUsc0JBQXNCO1FBQ3RCLElBQUlDLHFCQUFxQndDLE9BQU8sRUFBRTtZQUNoQ0MsYUFBYXpDLHFCQUFxQndDLE9BQU87WUFDekN4QyxxQkFBcUJ3QyxPQUFPLEdBQUc7UUFDakM7SUFDRjtJQUVBLGdCQUFnQjtJQUNoQixNQUFNaUgsT0FBTztRQUNYLE1BQU1JLFNBQVNqTSxVQUFVNEUsT0FBTztRQUNoQyxJQUFJLENBQUNxSCxVQUFVLENBQUNyTCxhQUFhO1FBRTdCLE1BQU1zTCxNQUFNRCxPQUFPRSxVQUFVLENBQUM7UUFDOUIsSUFBSSxDQUFDRCxLQUFLO1FBRVYsTUFBTWhFLGtCQUFrQjlFO1FBRXhCLGVBQWU7UUFDZjhJLElBQUlFLFNBQVMsQ0FBQyxHQUFHLEdBQUcxSixjQUFjQztRQUVsQyxxQ0FBcUM7UUFDckN1SixJQUFJRyxTQUFTLEdBQUc7UUFDaEJILElBQUlJLFNBQVM7UUFDYkosSUFBSUssR0FBRyxDQUFDM0osVUFBVUMsVUFBVUMsY0FBYyxHQUFHSSxLQUFLSSxFQUFFLEdBQUc7UUFDdkQ0SSxJQUFJTSxJQUFJO1FBRVIsMEJBQTBCO1FBQzFCTixJQUFJRyxTQUFTLEdBQUc7UUFDaEJILElBQUlJLFNBQVM7UUFDYkosSUFBSUssR0FBRyxDQUFDM0osVUFBVUMsVUFBVUUsY0FBYyxHQUFHRyxLQUFLSSxFQUFFLEdBQUc7UUFDdkQ0SSxJQUFJTSxJQUFJO1FBRVIsaUJBQWlCO1FBQ2pCTixJQUFJRyxTQUFTLEdBQUc7UUFDaEJILElBQUlJLFNBQVM7UUFDYkosSUFBSUssR0FBRyxDQUFDckUsZ0JBQWdCMUUsT0FBTyxFQUFFMEUsZ0JBQWdCeEUsT0FBTyxFQUFFd0UsZ0JBQWdCdEUsTUFBTSxFQUFFLEdBQUdWLEtBQUtJLEVBQUUsR0FBRztRQUMvRjRJLElBQUlNLElBQUk7UUFFUiw2Q0FBNkM7UUFDN0MsTUFBTXBFLGNBQWN4RixXQUFXTSxLQUFLTyxHQUFHLENBQUN5RSxnQkFBZ0IzRSxLQUFLLElBQUlUO1FBQ2pFLE1BQU11RixjQUFjeEYsV0FBV0ssS0FBS1MsR0FBRyxDQUFDdUUsZ0JBQWdCM0UsS0FBSyxJQUFJVDtRQUNqRSxNQUFNd0Ysa0JBQWtCLEdBQUksb0JBQW9COztRQUNoRCxNQUFNQyxtQkFBbUIsR0FBRyxvQkFBb0I7O1FBRWhEMkQsSUFBSUcsU0FBUyxHQUFHO1FBQ2hCSCxJQUFJTyxJQUFJO1FBQ1JQLElBQUlRLFNBQVMsQ0FBQ3RFLGFBQWFDO1FBQzNCNkQsSUFBSVMsTUFBTSxDQUFDekUsZ0JBQWdCM0UsS0FBSztRQUNoQzJJLElBQUlVLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQ3JFLG1CQUFpQixHQUFHRCxpQkFBaUJDO1FBQ3ZEMkQsSUFBSVcsT0FBTztRQUVYLG9CQUFvQjtRQUNwQlgsSUFBSVksV0FBVyxHQUFHO1FBQ2xCWixJQUFJYSxTQUFTLEdBQUc7UUFFaEIseUVBQXlFO1FBQ3pFYixJQUFJSSxTQUFTO1FBQ2IsTUFBTVUsdUJBQXVCOUUsZ0JBQWdCM0UsS0FBSyxHQUFHO1FBQ3JELE1BQU0wSixxQkFBcUIvRSxnQkFBZ0IzRSxLQUFLLEdBQUc7UUFDbkQySSxJQUFJSyxHQUFHLENBQUMzSixVQUFVQyxVQUFVQyxjQUFjLEdBQUdrSztRQUM3Q2QsSUFBSWdCLE1BQU07UUFFVmhCLElBQUlJLFNBQVM7UUFDYkosSUFBSUssR0FBRyxDQUFDM0osVUFBVUMsVUFBVUMsY0FBY21LLG9CQUFvQi9KLEtBQUtJLEVBQUUsR0FBRztRQUN4RTRJLElBQUlnQixNQUFNO1FBRVYsb0JBQW9CO1FBQ3BCaEIsSUFBSUksU0FBUztRQUNiSixJQUFJSyxHQUFHLENBQUMzSixVQUFVQyxVQUFVRSxjQUFjLEdBQUdHLEtBQUtJLEVBQUUsR0FBRztRQUN2RDRJLElBQUlnQixNQUFNO1FBRVYsd0JBQXdCO1FBQ3hCaEIsSUFBSUksU0FBUztRQUNiLE1BQU1hLHNCQUFzQmpLLEtBQUswRyxLQUFLLENBQUN2QixjQUFjSCxnQkFBZ0J4RSxPQUFPLEVBQUUwRSxjQUFjRixnQkFBZ0IxRSxPQUFPO1FBQ25ILE1BQU00SixpQkFBaUJELHNCQUFzQjtRQUM3QyxNQUFNRSxlQUFlRixzQkFBc0I7UUFDM0NqQixJQUFJSyxHQUFHLENBQUNyRSxnQkFBZ0IxRSxPQUFPLEVBQUUwRSxnQkFBZ0J4RSxPQUFPLEVBQUV3RSxnQkFBZ0J0RSxNQUFNLEVBQUV5SixjQUFjRCxpQkFBaUJsSyxLQUFLSSxFQUFFLEdBQUc7UUFDM0g0SSxJQUFJZ0IsTUFBTTtRQUVWLGNBQWM7UUFDZCxNQUFNckYsVUFBVWpGO1FBQ2hCLE1BQU1rRixjQUFjOUUsYUFBYTtRQUNqQyxNQUFNK0UsZUFBZS9FLGFBQWE7UUFDbEMsTUFBTWdGLFVBQVVuRixXQUFXQyxlQUFlaUYsZUFBZTtRQUV6RG1FLElBQUlHLFNBQVMsR0FBRztRQUNoQkgsSUFBSVUsUUFBUSxDQUNWL0UsVUFBVUMsY0FBYyxHQUN4QkUsVUFBVUQsZUFBZSxHQUN6QkQsYUFDQUM7UUFHRixrREFBa0Q7UUFDbERtRSxJQUFJWSxXQUFXLEdBQUc7UUFDbEJaLElBQUlhLFNBQVMsR0FBRyxFQUFFLDJDQUEyQzs7UUFDN0QsSUFBSyxJQUFJN0ksSUFBSSxHQUFHQSxJQUFJLElBQUlBLElBQUs7WUFDM0IsTUFBTW9KLFFBQVF6RixVQUFVQyxjQUFjLElBQUksY0FBZSxLQUFNNUQ7WUFDL0RnSSxJQUFJSSxTQUFTO1lBQ2JKLElBQUlxQixNQUFNLENBQUNELE9BQU90RixVQUFVRCxlQUFlO1lBQzNDLE1BQU15RixhQUFhLElBQUl0SyxLQUFLUyxHQUFHLENBQUNPLElBQUksT0FBTyxFQUFFLHdCQUF3Qjs7WUFDckVnSSxJQUFJdUIsTUFBTSxDQUFDSCxPQUFPdEYsVUFBVUQsZUFBZSxJQUFJeUY7WUFDL0N0QixJQUFJZ0IsTUFBTTtRQUNaO1FBRUEsaUJBQWlCO1FBQ2pCaEIsSUFBSUcsU0FBUyxHQUFHO1FBQ2hCakwsYUFBYXdELE9BQU8sQ0FBQzRGLE9BQU8sQ0FBQ3pCLENBQUFBO1lBQzNCLElBQUlBLFNBQVNuRixNQUFNLEdBQUcsR0FBRztnQkFDdkJzSSxJQUFJSSxTQUFTO2dCQUNiSixJQUFJSyxHQUFHLENBQUN4RCxTQUFTMUUsQ0FBQyxFQUFFMEUsU0FBU3pFLENBQUMsRUFBRXlFLFNBQVNuRixNQUFNLEVBQUUsR0FBR1YsS0FBS0ksRUFBRSxHQUFHO2dCQUM5RDRJLElBQUlNLElBQUk7WUFDVjtRQUNGO1FBRUEsNkNBQTZDO1FBQzdDLElBQUkxTCx1QkFBd0JBLENBQUFBLHdCQUF3QixlQUFlQSx3QkFBd0IsU0FBUSxHQUFJO1lBQ3JHLE1BQU00TSxnQkFBZ0IzSyxlQUFlLElBQUksZ0NBQWdDOztZQUV6RSxJQUFJakIsaUJBQWlCO2dCQUNuQiwyRUFBMkU7Z0JBQzNFLE1BQU02TCxzQkFBc0IsSUFBSUM7Z0JBQ2hDLE1BQU1DLHFCQUFxQixJQUFJRDtnQkFFL0IsNkJBQTZCO2dCQUM3QixNQUFNRSxZQUFZbE4sZ0JBQWdCLFVBQVUsTUFBTTtnQkFDbEQsTUFBTW1OLGtCQUFrQmpOLHdCQUF3QixZQUFZLFVBQVU7Z0JBRXRFNk0sb0JBQW9CSyxHQUFHLEdBQUcsWUFBeUJELE9BQWJELFdBQVUsS0FBc0I5TCxPQUFuQitMLGlCQUFnQixLQUF1QixPQUFwQi9MLHFCQUFvQjtnQkFDMUY2TCxtQkFBbUJHLEdBQUcsR0FBRyxZQUF5QkQsT0FBYkQsV0FBVSxLQUFzQnpNLE9BQW5CME0saUJBQWdCLEtBQXNCLE9BQW5CMU0sb0JBQW1CO2dCQUV4RixNQUFNNE0sd0JBQXdCO29CQUM1QixJQUFJTixvQkFBb0JPLFFBQVEsSUFBSUwsbUJBQW1CSyxRQUFRLElBQzNEUCxvQkFBb0JRLFlBQVksR0FBRyxLQUFLTixtQkFBbUJNLFlBQVksR0FBRyxHQUFHO3dCQUUvRSx3Q0FBd0M7d0JBQ3hDLE1BQU1DLGtCQUFrQlQsb0JBQW9CUSxZQUFZLEdBQUdSLG9CQUFvQlUsYUFBYTt3QkFDNUYsTUFBTUMsa0JBQWtCVCxtQkFBbUJNLFlBQVksR0FBR04sbUJBQW1CUSxhQUFhO3dCQUUxRixJQUFJRSxXQUFXQyxZQUFZQyxXQUFXQzt3QkFFdEMsNkJBQTZCO3dCQUM3QixJQUFJTixrQkFBa0IsR0FBRzs0QkFDdkJHLFlBQVliOzRCQUNaYyxhQUFhZCxnQkFBZ0JVO3dCQUMvQixPQUFPOzRCQUNMSSxhQUFhZDs0QkFDYmEsWUFBWWIsZ0JBQWdCVTt3QkFDOUI7d0JBRUEsNEJBQTRCO3dCQUM1QixJQUFJRSxrQkFBa0IsR0FBRzs0QkFDdkJHLFlBQVlmOzRCQUNaZ0IsYUFBYWhCLGdCQUFnQlk7d0JBQy9CLE9BQU87NEJBQ0xJLGFBQWFoQjs0QkFDYmUsWUFBWWYsZ0JBQWdCWTt3QkFDOUI7d0JBRUEsc0RBQXNEO3dCQUN0RCxNQUFNSyxRQUFRL0w7d0JBQ2QsTUFBTWdNLFFBQVEvTDt3QkFFZCx5REFBeUQ7d0JBQ3pELE1BQU1nTSxpQkFBaUIsRUFBRSxxQkFBcUI7O3dCQUM5QyxNQUFNQyxtQkFBbUI1TCxLQUFLUyxHQUFHLENBQUN6QixxQkFBcUJnQixLQUFLSSxFQUFFLElBQUl1TDt3QkFFbEUsd0NBQXdDO3dCQUN4QyxNQUFNRSxRQUFRSixRQUFRSixZQUFZLElBQUlPLG1CQUFtQjt3QkFDekQsTUFBTUUsUUFBUUosUUFBUUosYUFBYTt3QkFFbkMsc0NBQXNDO3dCQUN0QyxNQUFNUyxRQUFRTixRQUFRRixZQUFZLElBQUlLLG1CQUFtQjt3QkFDekQsTUFBTUksUUFBUU4sUUFBUUYsYUFBYTt3QkFFbkMsb0NBQW9DO3dCQUNwQ3hDLElBQUlpRCxXQUFXLEdBQUcsQ0FBQyxJQUFJak4sa0JBQWlCLElBQUtUO3dCQUM3Q3lLLElBQUlrRCxTQUFTLENBQUN6QixxQkFBcUJvQixPQUFPQyxPQUFPVCxXQUFXQzt3QkFFNUQsa0NBQWtDO3dCQUNsQ3RDLElBQUlpRCxXQUFXLEdBQUdqTixxQkFBcUJUO3dCQUN2Q3lLLElBQUlrRCxTQUFTLENBQUN2QixvQkFBb0JvQixPQUFPQyxPQUFPVCxXQUFXQzt3QkFFM0R4QyxJQUFJaUQsV0FBVyxHQUFHLElBQUksY0FBYzs7b0JBQ3RDO2dCQUNGO2dCQUVBLDBEQUEwRDtnQkFDMUQsSUFBSXhCLG9CQUFvQk8sUUFBUSxJQUFJTCxtQkFBbUJLLFFBQVEsRUFBRTtvQkFDL0REO2dCQUNGLE9BQU87b0JBQ0wsSUFBSW9CLGNBQWM7b0JBQ2xCLE1BQU1DLGtCQUFrQjt3QkFDdEJEO3dCQUNBLElBQUlBLGdCQUFnQixHQUFHcEI7b0JBQ3pCO29CQUVBLElBQUksQ0FBQ04sb0JBQW9CTyxRQUFRLEVBQUVQLG9CQUFvQjRCLE1BQU0sR0FBR0Q7b0JBQ2hFLElBQUksQ0FBQ3pCLG1CQUFtQkssUUFBUSxFQUFFTCxtQkFBbUIwQixNQUFNLEdBQUdEO29CQUU5RCw4Q0FBOEM7b0JBQzlDLElBQUkzQixvQkFBb0JPLFFBQVEsRUFBRW1CO29CQUNsQyxJQUFJeEIsbUJBQW1CSyxRQUFRLEVBQUVtQjtvQkFFakMsSUFBSUEsZ0JBQWdCLEdBQUdwQjtnQkFDekI7WUFDRixPQUFPO2dCQUNMLGlDQUFpQztnQkFDakMsTUFBTXVCLGNBQWMsSUFBSTVCO2dCQUN4QjRCLFlBQVl4QixHQUFHLEdBQUd5QjtnQkFFbEIsTUFBTUMsYUFBYTtvQkFDakIsSUFBSUYsWUFBWXRCLFFBQVEsSUFBSXNCLFlBQVlyQixZQUFZLEdBQUcsR0FBRzt3QkFDeEQsMERBQTBEO3dCQUMxRCxNQUFNd0IsY0FBY0gsWUFBWXJCLFlBQVksR0FBR3FCLFlBQVluQixhQUFhO3dCQUV4RSxJQUFJdUIsYUFBYUM7d0JBRWpCLElBQUlGLGNBQWMsR0FBRzs0QkFDbkIsdUNBQXVDOzRCQUN2Q0MsY0FBY2xDOzRCQUNkbUMsZUFBZW5DLGdCQUFnQmlDO3dCQUNqQyxPQUFPOzRCQUNMLHlDQUF5Qzs0QkFDekNFLGVBQWVuQzs0QkFDZmtDLGNBQWNsQyxnQkFBZ0JpQzt3QkFDaEM7d0JBRUEsTUFBTUcsVUFBVWxOLFdBQVdnTixjQUFjO3dCQUN6QyxNQUFNRyxVQUFVbE4sV0FBV2dOLGVBQWU7d0JBRTFDLHVDQUF1Qzt3QkFDdkMzRCxJQUFJaUQsV0FBVyxHQUFHMU47d0JBQ2xCeUssSUFBSWtELFNBQVMsQ0FBQ0ksYUFBYU0sU0FBU0MsU0FBU0gsYUFBYUM7d0JBQzFEM0QsSUFBSWlELFdBQVcsR0FBRyxJQUFJLGNBQWM7O29CQUN0QztnQkFDRjtnQkFFQSw0REFBNEQ7Z0JBQzVELElBQUlLLFlBQVl0QixRQUFRLEVBQUU7b0JBQ3hCd0I7Z0JBQ0YsT0FBTztvQkFDTEYsWUFBWUQsTUFBTSxHQUFHRztnQkFDdkI7WUFDRjtRQUNGO1FBRUEsMENBQTBDO1FBQzFDLElBQUloUCxlQUFlO1lBQ2pCLHNDQUFzQztZQUN0Q3dMLElBQUlpRCxXQUFXLEdBQUd4TjtZQUVsQnVLLElBQUlHLFNBQVMsR0FBRztZQUNoQkgsSUFBSUksU0FBUztZQUNiSixJQUFJSyxHQUFHLENBQUMzSixVQUFVQyxVQUFVLElBQUksR0FBR0ssS0FBS0ksRUFBRSxHQUFHO1lBQzdDNEksSUFBSU0sSUFBSTtZQUVSTixJQUFJWSxXQUFXLEdBQUc7WUFDbEJaLElBQUlhLFNBQVMsR0FBRztZQUNoQmIsSUFBSUksU0FBUztZQUNiSixJQUFJcUIsTUFBTSxDQUFDM0ssV0FBVyxJQUFJQztZQUMxQnFKLElBQUl1QixNQUFNLENBQUM3SyxXQUFXLEdBQUdDLFdBQVc7WUFDcENxSixJQUFJdUIsTUFBTSxDQUFDN0ssV0FBVyxJQUFJQyxXQUFXO1lBQ3JDcUosSUFBSWdCLE1BQU07WUFFVmhCLElBQUlHLFNBQVMsR0FBRztZQUNoQkgsSUFBSThELElBQUksR0FBRztZQUNYOUQsSUFBSStELFNBQVMsR0FBRztZQUNoQi9ELElBQUlnRSxRQUFRLENBQUMsa0JBQWtCdE4sVUFBVUMsV0FBVztZQUNwRHFKLElBQUlnRSxRQUFRLENBQUMsZ0JBQWdCdE4sVUFBVUMsV0FBVztZQUVsRHFKLElBQUlpRCxXQUFXLEdBQUcsSUFBSSxjQUFjOztRQUN0QztRQUVBLGNBQWM7UUFDZGpELElBQUlHLFNBQVMsR0FBRztRQUNoQkgsSUFBSThELElBQUksR0FBRztRQUNYOUQsSUFBSStELFNBQVMsR0FBRztRQUNoQi9ELElBQUlnRSxRQUFRLENBQUMsR0FBNkMsT0FBMUN0UCxnQkFBZ0IsU0FBUyxTQUFTLFNBQVEsd0JBQXNCZ0MsVUFBVUMsV0FBV0MsZUFBZTtRQUNwSG9KLElBQUlnRSxRQUFRLENBQUMsVUFBVXJJLFNBQVNHLFVBQVVELGVBQWUsSUFBSTtRQUM3RG1FLElBQUlnRSxRQUFRLENBQUMsYUFBYWhJLGdCQUFnQjFFLE9BQU8sRUFBRTBFLGdCQUFnQnhFLE9BQU8sR0FBR3dFLGdCQUFnQnRFLE1BQU0sR0FBRztRQUV0Ryx1REFBdUQ7UUFDdkRzSSxJQUFJRyxTQUFTLEdBQUc7UUFDaEJILElBQUk4RCxJQUFJLEdBQUc7UUFDWDlELElBQUkrRCxTQUFTLEdBQUc7UUFDaEIvRCxJQUFJZ0UsUUFBUSxDQUFDLE1BQWtDLE9BQTVCOVAsWUFBWUUsSUFBSSxDQUFDNlAsT0FBTyxDQUFDLElBQUcsU0FBSSxJQUFJO1FBQ3ZEakUsSUFBSWdFLFFBQVEsQ0FBQyxNQUFtQyxPQUE3QjlQLFlBQVlHLEtBQUssQ0FBQzRQLE9BQU8sQ0FBQyxJQUFHLFNBQUksSUFBSTtRQUN4RGpFLElBQUlnRSxRQUFRLENBQUMsZUFBZ0QsT0FBakMxUCxvQkFBb0IsUUFBUSxPQUFRLElBQUk7SUFDdEU7SUFFQSwrQ0FBK0M7SUFDL0MsTUFBTTRQLG9CQUFvQixDQUFDdko7UUFDekIsSUFBSSxDQUFDbkcsZUFBZTtRQUVwQixNQUFNdUwsU0FBU2pNLFVBQVU0RSxPQUFPO1FBQ2hDLElBQUksQ0FBQ3FILFFBQVE7UUFFYixNQUFNb0UsT0FBT3BFLE9BQU9xRSxxQkFBcUI7UUFDekMsTUFBTUMsU0FBUzFKLE1BQU0ySixPQUFPLEdBQUdILEtBQUtJLElBQUk7UUFDeEMsTUFBTUMsU0FBUzdKLE1BQU04SixPQUFPLEdBQUdOLEtBQUtPLEdBQUc7UUFFdkMsTUFBTWxKLGlCQUFpQnhFLEtBQUt5RSxJQUFJLENBQUMsQ0FBQzRJLFNBQVMzTixRQUFPLEtBQU0sSUFBSSxDQUFDOE4sU0FBUzdOLFFBQU8sS0FBTTtRQUNuRixJQUFJNkUsa0JBQWtCLElBQUk7WUFDeEJzRTtRQUNGO0lBQ0Y7SUFFQSw2REFBNkQ7SUFDN0RyTSxnREFBU0EsQ0FBQztRQUNSLElBQUlpQixlQUFlRSxxQkFBcUI7WUFDdEMrQztRQUNGO0lBQ0YsR0FBRztRQUFDakQ7UUFBYUU7UUFBcUIrQztLQUFvQjtJQUUxRCx3Q0FBd0M7SUFDeENsRSxnREFBU0EsQ0FBQztRQUNSLE9BQU87WUFDTCxJQUFJa0MscUJBQXFCK0MsT0FBTyxFQUFFO2dCQUNoQ0MsYUFBYWhELHFCQUFxQitDLE9BQU87WUFDM0M7WUFDQSxJQUFJeEMscUJBQXFCd0MsT0FBTyxFQUFFO2dCQUNoQ0MsYUFBYXpDLHFCQUFxQndDLE9BQU87WUFDM0M7UUFDRjtJQUNGLEdBQUcsRUFBRTtJQUVMLDhEQUE4RDtJQUM5RCxTQUFTaU0sbUJBQW1COUgsUUFBa0I7UUFDNUMsTUFBTVAsS0FBS08sU0FBUzFFLENBQUMsR0FBR3pCO1FBQ3hCLE1BQU02RixLQUFLTSxTQUFTekUsQ0FBQyxHQUFHekI7UUFDeEIsTUFBTVUsUUFBUUwsS0FBSzBHLEtBQUssQ0FBQ25CLElBQUlEO1FBQzdCLElBQUlzSSxVQUFVLFFBQVMsTUFBTzVOLEtBQUtJLEVBQUU7UUFDckMsSUFBSXdOLFVBQVUsR0FBR0EsV0FBVztRQUU1QixJQUFJbFEsZ0JBQWdCLFNBQVM7WUFDM0Isc0NBQXNDO1lBQ3RDLHFGQUFxRjtZQUNyRixJQUFJa1EsV0FBVyxNQUFNQSxVQUFVLEtBQUssT0FBTztZQUMzQyxpRUFBaUU7WUFDakUsSUFBSUEsV0FBVyxPQUFPQSxVQUFVLEtBQUssT0FBTztZQUM1Qyw0Q0FBNEM7WUFDNUMsSUFBSUEsV0FBVyxPQUFPQSxVQUFVLEtBQUssT0FBTztZQUM1QyxtRUFBbUU7WUFDbkUsSUFBSUEsV0FBVyxPQUFPQSxVQUFVLElBQUksT0FBTztZQUMzQyxrRUFBa0U7WUFDbEUsSUFBSUEsV0FBVyxNQUFNQSxVQUFVLElBQUksT0FBTztRQUM1QyxPQUFPO1lBQ0wsNkNBQTZDO1lBQzdDLHFGQUFxRjtZQUNyRixJQUFJQSxXQUFXLEtBQUtBLFVBQVUsSUFBSSxPQUFPO1lBQ3pDLHVFQUF1RTtZQUN2RSxJQUFJQSxXQUFXLE9BQU9BLFVBQVUsS0FBSyxPQUFPO1lBQzVDLHNFQUFzRTtZQUN0RSxJQUFJQSxXQUFXLE9BQU9BLFVBQVUsS0FBSyxPQUFPO1lBQzVDLHVFQUF1RTtZQUN2RSxJQUFJQSxXQUFXLE9BQU9BLFVBQVUsS0FBSyxPQUFPO1lBQzVDLDJEQUEyRDtZQUMzRCxJQUFJQSxXQUFXLE1BQU1BLFVBQVUsS0FBSyxPQUFPO1FBQzdDO1FBRUEsT0FBTyxNQUFNLCtCQUErQjs7SUFDOUM7SUFFQSwyQ0FBMkM7SUFDM0MsU0FBU3JCO1FBQ1AsSUFBSSxDQUFDN08sZUFBZSxDQUFDRSxxQkFBcUIsT0FBTztRQUVqRCxNQUFNZ04sWUFBWWxOLGdCQUFnQixVQUFVLE1BQU07UUFDbEQsTUFBTW1OLGtCQUFrQmpOLHdCQUF3QixZQUFZLFVBQVU7UUFFdEUsT0FBTyxZQUF5QmlOLE9BQWJELFdBQVUsS0FBc0J6TSxPQUFuQjBNLGlCQUFnQixLQUFzQixPQUFuQjFNLG9CQUFtQjtJQUN4RTtJQUVBLDJDQUEyQztJQUMzQyxTQUFTMFA7UUFDUCxJQUFJblEsZ0JBQWdCLFFBQVE7WUFDMUIsdUNBQXVDO1lBQ3ZDLE9BQVFTO2dCQUNOLEtBQUs7b0JBQUcsT0FBTztnQkFDZixLQUFLO29CQUFHLE9BQU87Z0JBQ2YsS0FBSztvQkFBRyxPQUFPO2dCQUNmLEtBQUs7b0JBQUcsT0FBTztnQkFDZixLQUFLO29CQUFHLE9BQU87Z0JBQ2Y7b0JBQVMsT0FBTztZQUNsQjtRQUNGLE9BQU87WUFDTCxtREFBbUQ7WUFDbkQsT0FBUUE7Z0JBQ04sS0FBSztvQkFBRyxPQUFPO2dCQUNmLEtBQUs7b0JBQUcsT0FBTztnQkFDZixLQUFLO29CQUFHLE9BQU87Z0JBQ2YsS0FBSztvQkFBRyxPQUFPO2dCQUNmLEtBQUs7b0JBQUcsT0FBTztnQkFDZjtvQkFBUyxPQUFPO1lBQ2xCO1FBQ0Y7SUFDRjtJQUVBLGtEQUFrRDtJQUNsRCxTQUFTc0s7UUFDUCxJQUFJdkssYUFBYXdELE9BQU8sQ0FBQ29NLE1BQU0sR0FBRyxHQUFHO1FBRXJDLGtDQUFrQztRQUNsQyxNQUFNQyxnQkFBZ0I7WUFBRUMsS0FBSztZQUFHQyxRQUFRO1lBQUdDLE1BQU07WUFBR0MsUUFBUTtZQUFHQyxPQUFPO1FBQUU7UUFDeEVsUSxhQUFhd0QsT0FBTyxDQUFDNEYsT0FBTyxDQUFDekIsQ0FBQUE7WUFDM0IsTUFBTXdJLFVBQVVWLG1CQUFtQjlIO1lBQ25Da0ksYUFBYSxDQUFDTSxRQUFzQztRQUN0RDtRQUVBLGlGQUFpRjtRQUNqRixJQUFJQyxnQkFBZ0IsTUFBTSxVQUFVOztRQUNwQyxLQUFLLE1BQU0sQ0FBQ0QsU0FBU0UsTUFBTSxJQUFJQyxPQUFPQyxPQUFPLENBQUNWLGVBQWdCO1lBQzVELElBQUlRLFNBQVMsR0FBRztnQkFDZEQsZ0JBQWdCRDtnQkFDaEI7WUFDRjtRQUNGO1FBRUEsb0RBQW9EO1FBQ3BELE1BQU1LLGlCQUE0QztZQUNoRFYsS0FBSztZQUNMQyxRQUFRO1lBQ1JDLE1BQU07WUFDTkMsUUFBUTtZQUNSQyxPQUFPLEVBQUksVUFBVTtRQUN2QjtRQUVBLE1BQU0vTCxXQUFXcU0sY0FBYyxDQUFDSixjQUFjO1FBRTlDLElBQUlqTSxXQUFXbEUsb0JBQW9CO1lBQ2pDaUUsc0JBQXNCQztRQUN4QjtJQUNGO0lBRUEscUJBQ0UsOERBQUNzTTtRQUFJQyxPQUFPO1lBQ1ZDLFVBQVU7WUFDVm5CLEtBQUs7WUFDTEgsTUFBTTtZQUNOdUIsT0FBTztZQUNQQyxRQUFRO1lBQ1JDLGlCQUFpQjtZQUNqQkMsUUFBUTtZQUNSQyxTQUFTO1lBQ1RDLGVBQWU7WUFDZkMsWUFBWTtZQUNaQyxnQkFBZ0I7UUFDbEI7OzBCQUVFLDhEQUFDVjtnQkFBSUMsT0FBTztvQkFDVkMsVUFBVTtvQkFDVm5CLEtBQUs7b0JBQ0xILE1BQU07b0JBQ051QixPQUFPO29CQUNQUSxTQUFTO29CQUNUQyxjQUFjO29CQUNkTCxTQUFTO29CQUNURyxnQkFBZ0I7b0JBQ2hCRCxZQUFZO29CQUNaSixpQkFBaUI7Z0JBQ25COztrQ0FDRSw4REFBQ1E7d0JBQUdaLE9BQU87NEJBQUVhLFFBQVE7NEJBQUdDLFVBQVU7NEJBQVVDLFlBQVk7d0JBQU07a0NBQUc7Ozs7OztrQ0FHakUsOERBQUNDO3dCQUNDQyxTQUFTaFQ7d0JBQ1QrUixPQUFPOzRCQUNMVSxTQUFTOzRCQUNUUSxjQUFjOzRCQUNkQyxRQUFROzRCQUNSZixpQkFBaUI7NEJBQ2pCZ0IsUUFBUTt3QkFDVjtrQ0FDRDs7Ozs7Ozs7Ozs7OzBCQU1ILDhEQUFDckI7Z0JBQUlDLE9BQU87b0JBQ1ZxQixXQUFXO29CQUNYQyxjQUFjO29CQUNkaEIsU0FBUztvQkFDVEMsZUFBZTtvQkFDZkMsWUFBWTtvQkFDWmUsS0FBSztvQkFDTEMsT0FBTztvQkFDUEMsVUFBVTtvQkFDVmYsU0FBUztvQkFDVGdCLFdBQVc7b0JBQ1hDLFdBQVcsc0JBQXVCLHFDQUFxQztnQkFDekU7O29CQUVHLENBQUM3Uyw2QkFDQSw4REFBQ2lSO3dCQUFJQyxPQUFPOzRCQUFFN0IsV0FBVzs0QkFBVXVDLFNBQVM7d0JBQVk7OzBDQUN0RCw4REFBQ2tCO2dDQUFHNUIsT0FBTztvQ0FBRXNCLGNBQWM7Z0NBQU87MENBQUc7Ozs7OzswQ0FDckMsOERBQUMxSDtnQ0FBRW9HLE9BQU87b0NBQUVzQixjQUFjO29DQUFRTyxPQUFPO29DQUFRZixVQUFVO2dDQUFPOzBDQUFHOzs7Ozs7MENBR3JFLDhEQUFDZjtnQ0FBSUMsT0FBTztvQ0FBRU0sU0FBUztvQ0FBUWlCLEtBQUs7b0NBQVFkLGdCQUFnQjtvQ0FBVXFCLFVBQVU7Z0NBQU87O2tEQUNyRiw4REFBQ2Q7d0NBQ0NDLFNBQVMsSUFBTWxTLGVBQWU7d0NBQzlCaVIsT0FBTzs0Q0FDTFUsU0FBUzs0Q0FDVFEsY0FBYzs0Q0FDZEMsUUFBUTs0Q0FDUmYsaUJBQWlCOzRDQUNqQnlCLE9BQU87NENBQ1BmLFVBQVU7NENBQ1ZDLFlBQVk7NENBQ1pLLFFBQVE7NENBQ1JXLFdBQVc7NENBQ1hDLFVBQVU7NENBQ1ZDLE9BQU87NENBQ1A5RCxXQUFXO3dDQUNiOzs0Q0FDRDswREFDUyw4REFBQytEOzs7OzswREFDVCw4REFBQ0M7Z0RBQUtuQyxPQUFPO29EQUFFYyxVQUFVO29EQUFRc0IsU0FBUztnREFBSTswREFBRzs7Ozs7Ozs7Ozs7O2tEQUVuRCw4REFBQ3BCO3dDQUNDQyxTQUFTLElBQU1sUyxlQUFlO3dDQUM5QmlSLE9BQU87NENBQ0xVLFNBQVM7NENBQ1RRLGNBQWM7NENBQ2RDLFFBQVE7NENBQ1JmLGlCQUFpQjs0Q0FDakJ5QixPQUFPOzRDQUNQZixVQUFVOzRDQUNWQyxZQUFZOzRDQUNaSyxRQUFROzRDQUNSVyxXQUFXOzRDQUNYQyxVQUFVOzRDQUNWQyxPQUFPOzRDQUNQOUQsV0FBVzt3Q0FDYjs7NENBQ0Q7MERBQ1UsOERBQUMrRDs7Ozs7MERBQ1YsOERBQUNDO2dEQUFLbkMsT0FBTztvREFBRWMsVUFBVTtvREFBUXNCLFNBQVM7Z0RBQUk7MERBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFPeER0VCxlQUFlLENBQUNFLHFDQUNmLDhEQUFDK1E7d0JBQUlDLE9BQU87NEJBQUU3QixXQUFXOzRCQUFVdUMsU0FBUzt3QkFBWTs7MENBQ3RELDhEQUFDa0I7Z0NBQUc1QixPQUFPO29DQUFFc0IsY0FBYztnQ0FBTzswQ0FBRzs7Ozs7OzBDQUNyQyw4REFBQzFIO2dDQUFFb0csT0FBTztvQ0FBRXNCLGNBQWM7b0NBQVFPLE9BQU87b0NBQVFmLFVBQVU7Z0NBQU87O29DQUFHO29DQUN6QmhTO29DQUFZOzs7Ozs7OzBDQUV4RCw4REFBQ2lSO2dDQUFJQyxPQUFPO29DQUFFTSxTQUFTO29DQUFRaUIsS0FBSztvQ0FBUWQsZ0JBQWdCO29DQUFVcUIsVUFBVTtnQ0FBTzs7a0RBQ3JGLDhEQUFDZDt3Q0FDQ0MsU0FBUyxJQUFNaFMsdUJBQXVCO3dDQUN0QytRLE9BQU87NENBQ0xVLFNBQVM7NENBQ1RRLGNBQWM7NENBQ2RDLFFBQVE7NENBQ1JmLGlCQUFpQjs0Q0FDakJ5QixPQUFPOzRDQUNQZixVQUFVOzRDQUNWQyxZQUFZOzRDQUNaSyxRQUFROzRDQUNSVyxXQUFXOzRDQUNYQyxVQUFVOzRDQUNWN0QsV0FBVzt3Q0FDYjs7NENBQ0Q7MERBQ29CLDhEQUFDK0Q7Ozs7OzBEQUNwQiw4REFBQ0M7Z0RBQUtuQyxPQUFPO29EQUFFYyxVQUFVO29EQUFRc0IsU0FBUztnREFBSTswREFBRzs7Ozs7Ozs7Ozs7O2tEQUVuRCw4REFBQ3BCO3dDQUNDQyxTQUFTLElBQU1oUyx1QkFBdUI7d0NBQ3RDK1EsT0FBTzs0Q0FDTFUsU0FBUzs0Q0FDVFEsY0FBYzs0Q0FDZEMsUUFBUTs0Q0FDUmYsaUJBQWlCOzRDQUNqQnlCLE9BQU87NENBQ1BmLFVBQVU7NENBQ1ZDLFlBQVk7NENBQ1pLLFFBQVE7NENBQ1JXLFdBQVc7NENBQ1hDLFVBQVU7NENBQ1Y3RCxXQUFXO3dDQUNiOzs0Q0FDRDswREFDc0IsOERBQUMrRDs7Ozs7MERBQ3RCLDhEQUFDQztnREFBS25DLE9BQU87b0RBQUVjLFVBQVU7b0RBQVFzQixTQUFTO2dEQUFJOzBEQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MENBR3JELDhEQUFDcEI7Z0NBQ0NDLFNBQVM7b0NBQ1BsUyxlQUFlO29DQUNmRSx1QkFBdUI7b0NBQ3ZCSixpQkFBaUI7b0NBQ2pCVyxzQkFBc0IsR0FBRyxxQkFBcUI7O29DQUM5Qyw2REFBNkQ7b0NBRTdELGdDQUFnQztvQ0FDaENFLDhCQUE4QjtvQ0FDOUJFLGlCQUFpQjtvQ0FDakJFLGtCQUFrQjtvQ0FDbEIsSUFBSUMscUJBQXFCK0MsT0FBTyxFQUFFO3dDQUNoQ0MsYUFBYWhELHFCQUFxQitDLE9BQU87d0NBQ3pDL0MscUJBQXFCK0MsT0FBTyxHQUFHO29DQUNqQztvQ0FFQSxnQ0FBZ0M7b0NBQ2hDN0MsbUJBQW1CO29DQUNuQkUsdUJBQXVCO29DQUN2QkUsc0JBQXNCO29DQUN0QixJQUFJQyxxQkFBcUJ3QyxPQUFPLEVBQUU7d0NBQ2hDQyxhQUFhekMscUJBQXFCd0MsT0FBTzt3Q0FDekN4QyxxQkFBcUJ3QyxPQUFPLEdBQUc7b0NBQ2pDO2dDQUNGO2dDQUNBa04sT0FBTztvQ0FDTHFCLFdBQVc7b0NBQ1hYLFNBQVM7b0NBQ1RRLGNBQWM7b0NBQ2RDLFFBQVE7b0NBQ1JmLGlCQUFpQjtvQ0FDakJ5QixPQUFPO29DQUNQZixVQUFVO29DQUNWTSxRQUFRO2dDQUNWOzBDQUNEOzs7Ozs7Ozs7Ozs7b0JBT0p0UyxlQUFlRSx1QkFBdUJFLDJCQUEyQixDQUFDRSwwQ0FDakUsOERBQUMyUTt3QkFBSUMsT0FBTzs0QkFBRTdCLFdBQVc7NEJBQVV1QyxTQUFTO3dCQUFZOzswQ0FDdEQsOERBQUNrQjswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDaEk7Z0NBQUVvRyxPQUFPO29DQUFFc0IsY0FBYztvQ0FBUU8sT0FBTztvQ0FBUWYsVUFBVTtnQ0FBTzswQ0FBRzs7Ozs7OzBDQUdyRSw4REFBQ2Y7Z0NBQUlDLE9BQU87b0NBQ1ZJLGlCQUFpQjtvQ0FDakJNLFNBQVM7b0NBQ1RRLGNBQWM7b0NBQ2RJLGNBQWM7b0NBQ2RuRCxXQUFXO29DQUNYMkMsVUFBVTtnQ0FDWjs7a0RBQ0UsOERBQUN1QjtrREFBTzs7Ozs7O29DQUFhO2tEQUFtRCw4REFBQ0g7Ozs7O2tEQUN6RSw4REFBQ0c7a0RBQU87Ozs7OztvQ0FBaUI7Ozs7Ozs7MENBRTNCLDhEQUFDckI7Z0NBQ0NDLFNBQVNwTTtnQ0FDVG1MLE9BQU87b0NBQ0xVLFNBQVM7b0NBQ1RRLGNBQWM7b0NBQ2RDLFFBQVE7b0NBQ1JmLGlCQUFpQjtvQ0FDakJ5QixPQUFPO29DQUNQZixVQUFVO29DQUNWQyxZQUFZO29DQUNaSyxRQUFRO29DQUNSVyxXQUFXO2dDQUNiOzBDQUNEOzs7Ozs7Ozs7Ozs7b0JBT0pqVCxlQUFlRSx1QkFBdUIsQ0FBQ0UsMkJBQTJCLENBQUNSLHFCQUFxQixDQUFDVSwwQ0FDeEYsOERBQUMyUTt3QkFBSUMsT0FBTzs0QkFBRTdCLFdBQVc7NEJBQVV1QyxTQUFTO3dCQUFZOzswQ0FDdEQsOERBQUNrQjswQ0FBRzs7Ozs7OzBDQUNKLDhEQUFDaEk7Z0NBQUVvRyxPQUFPO29DQUFFc0IsY0FBYztvQ0FBUU8sT0FBTztvQ0FBUWYsVUFBVTtnQ0FBTzs7b0NBQUc7b0NBQ2ZoUztvQ0FBWTs7Ozs7OzswQ0FFbEUsOERBQUNrUztnQ0FDQ0MsU0FBU3pNO2dDQUNUd0wsT0FBTztvQ0FDTFUsU0FBUztvQ0FDVFEsY0FBYztvQ0FDZEMsUUFBUTtvQ0FDUmYsaUJBQWlCO29DQUNqQnlCLE9BQU87b0NBQ1BmLFVBQVU7b0NBQ1ZDLFlBQVk7b0NBQ1pLLFFBQVE7b0NBQ1JXLFdBQVc7Z0NBQ2I7MENBQ0Q7Ozs7Ozs7Ozs7OztvQkFPSmpULGVBQWVFLHVCQUF3Qk4sQ0FBQUEscUJBQXFCVSx3QkFBdUIsbUJBQ2xGOzs0QkFFR0osd0JBQXdCLDZCQUN2Qiw4REFBQytRO2dDQUFJQyxPQUFPO29DQUNWTSxTQUFTO29DQUNUQyxlQUFlO29DQUNmQyxZQUFZO29DQUNaYyxjQUFjO29DQUNkbkQsV0FBVztnQ0FDYjswQ0FDRSw0RUFBQ3ZFO29DQUFFb0csT0FBTzt3Q0FDUmMsVUFBVTt3Q0FDVmUsT0FBTzt3Q0FDUGhCLFFBQVE7d0NBQ1JFLFlBQVk7b0NBQ2Q7O3dDQUFHO3dDQUNNeFI7d0NBQW1CO3dDQUFLMFA7Ozs7Ozs7Ozs7Ozs0QkFNcENqUSx3QkFBd0IsMkJBQ3ZCLDhEQUFDK1E7Z0NBQUlDLE9BQU87b0NBQ1ZNLFNBQVM7b0NBQ1RDLGVBQWU7b0NBQ2ZDLFlBQVk7b0NBQ1pjLGNBQWM7b0NBQ2RuRCxXQUFXO2dDQUNiOzBDQUNFLDRFQUFDdkU7b0NBQUVvRyxPQUFPO3dDQUNSYyxVQUFVO3dDQUNWZSxPQUFPO3dDQUNQaEIsUUFBUTt3Q0FDUkUsWUFBWTtvQ0FDZDs7d0NBQUc7d0NBQ014Ujt3Q0FBbUI7d0NBQUswUDs7Ozs7Ozs7Ozs7OzBDQUtyQyw4REFBQzlFO2dDQUNDbUksS0FBS3BVO2dDQUNMc1QsT0FBTzVRO2dDQUNQMlIsUUFBUTFSO2dDQUNSb1EsU0FBUzNDO2dDQUNUMEIsT0FBTztvQ0FDTG1CLFFBQVE7b0NBQ1JELGNBQWM7b0NBQ2RkLGlCQUFpQjtvQ0FDakJnQixRQUFReFMsZ0JBQWdCLFlBQVk7Z0NBQ3RDOzs7Ozs7MENBR0YsOERBQUNtUjtnQ0FBSUMsT0FBTztvQ0FBRTdCLFdBQVc7b0NBQVVzRCxVQUFVO2dDQUFROztrREFDbkQsOERBQUM3SDt3Q0FBRW9HLE9BQU87NENBQUVjLFVBQVU7NENBQVFlLE9BQU87NENBQVFQLGNBQWM7d0NBQU87OzBEQUNoRSw4REFBQ2U7O29EQUFRdlQsZ0JBQWdCLFNBQVMsU0FBUztvREFBUTs7Ozs7OzswREFBNkIsOERBQUNvVDs7Ozs7NENBQUk7Ozs7Ozs7a0RBS3ZGLDhEQUFDbkM7d0NBQUlDLE9BQU87NENBQUVNLFNBQVM7NENBQVFpQixLQUFLOzRDQUFRZCxnQkFBZ0I7NENBQVVxQixVQUFVO3dDQUFPOzswREFDckYsOERBQUNkO2dEQUNDQyxTQUFTbFA7Z0RBQ1RpTyxPQUFPO29EQUNMVSxTQUFTO29EQUNUUSxjQUFjO29EQUNkQyxRQUFRO29EQUNSZixpQkFBaUI7b0RBQ2pCeUIsT0FBTztvREFDUGYsVUFBVTtvREFDVkMsWUFBWTtvREFDWkssUUFBUTtnREFDVjswREFDRDs7Ozs7OzBEQUdELDhEQUFDSjtnREFDQ0MsU0FBUztvREFDUGxTLGVBQWU7b0RBQ2ZFLHVCQUF1QjtvREFDdkJKLGlCQUFpQjtvREFDakJXLHNCQUFzQixHQUFHLHFCQUFxQjs7b0RBQzlDLDZEQUE2RDtvREFFN0QsZ0NBQWdDO29EQUNoQ0UsOEJBQThCO29EQUM5QkUsaUJBQWlCO29EQUNqQkUsa0JBQWtCO29EQUNsQixJQUFJQyxxQkFBcUIrQyxPQUFPLEVBQUU7d0RBQ2hDQyxhQUFhaEQscUJBQXFCK0MsT0FBTzt3REFDekMvQyxxQkFBcUIrQyxPQUFPLEdBQUc7b0RBQ2pDO29EQUVBLGdDQUFnQztvREFDaEM3QyxtQkFBbUI7b0RBQ25CRSx1QkFBdUI7b0RBQ3ZCRSxzQkFBc0I7b0RBQ3RCLElBQUlDLHFCQUFxQndDLE9BQU8sRUFBRTt3REFDaENDLGFBQWF6QyxxQkFBcUJ3QyxPQUFPO3dEQUN6Q3hDLHFCQUFxQndDLE9BQU8sR0FBRztvREFDakM7Z0RBQ0Y7Z0RBQ0FrTixPQUFPO29EQUNMVSxTQUFTO29EQUNUUSxjQUFjO29EQUNkQyxRQUFRO29EQUNSZixpQkFBaUI7b0RBQ2pCeUIsT0FBTztvREFDUGYsVUFBVTtvREFDVkMsWUFBWTtvREFDWkssUUFBUTtnREFDVjswREFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVakI7R0FuNkNnQnBUO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvQ2FuYWxTaW11bGF0aW9uLnRzeD85MWFmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5cbmludGVyZmFjZSBQYXJ0aWNsZSB7XG4gIGlkOiBudW1iZXJcbiAgeDogbnVtYmVyXG4gIHk6IG51bWJlclxuICB2eDogbnVtYmVyXG4gIHZ5OiBudW1iZXJcbiAgcmFkaXVzOiBudW1iZXJcbiAgaW5BbXB1bGxhOiBib29sZWFuXG4gIGRpc3NvbHZpbmc6IGJvb2xlYW5cbiAgb3JpZ2luYWxSYWRpdXM6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQ2FuYWxTaW11bGF0aW9uUHJvcHMge1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkXG59XG5cbnR5cGUgRWFyVHlwZSA9ICdyaWdodCcgfCAnbGVmdCcgfCBudWxsXG50eXBlIFBlcnNwZWN0aXZlVHlwZSA9ICdwYXRpZW50JyB8ICdjbGluaWNpYW4nIHwgbnVsbFxuXG5leHBvcnQgZnVuY3Rpb24gQ2FuYWxTaW11bGF0aW9uKHsgb25DbG9zZSB9OiBDYW5hbFNpbXVsYXRpb25Qcm9wcykge1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IGFuaW1hdGlvblJlZiA9IHVzZVJlZjxudW1iZXI+KClcbiAgY29uc3QgW3BhcnRpY2xlcywgc2V0UGFydGljbGVzXSA9IHVzZVN0YXRlPFBhcnRpY2xlW10+KFtdKVxuICBjb25zdCBbb3JpZW50YXRpb24sIHNldE9yaWVudGF0aW9uXSA9IHVzZVN0YXRlKHsgYmV0YTogMCwgZ2FtbWE6IDAgfSlcbiAgY29uc3QgW3Blcm1pc3Npb25HcmFudGVkLCBzZXRQZXJtaXNzaW9uR3JhbnRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2VwbGV5Q29tcGxldGUsIHNldEVwbGV5Q29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzZWxlY3RlZEVhciwgc2V0U2VsZWN0ZWRFYXJdID0gdXNlU3RhdGU8RWFyVHlwZT4obnVsbClcbiAgY29uc3QgW3NlbGVjdGVkUGVyc3BlY3RpdmUsIHNldFNlbGVjdGVkUGVyc3BlY3RpdmVdID0gdXNlU3RhdGU8UGVyc3BlY3RpdmVUeXBlPihudWxsKVxuICBjb25zdCBbb3JpZW50YXRpb25Mb2NrUHJvbXB0ZWQsIHNldE9yaWVudGF0aW9uTG9ja1Byb21wdGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbb3JpZW50YXRpb25TZXR1cENvbXBsZXRlLCBzZXRPcmllbnRhdGlvblNldHVwQ29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHBhcnRpY2xlc1JlZiA9IHVzZVJlZjxQYXJ0aWNsZVtdPihbXSlcbiAgXG4gIC8vIEF2YXRhciBzbGlkZXNob3cgc3RhdGVcbiAgY29uc3QgW2N1cnJlbnRBdmF0YXJTdGFnZSwgc2V0Q3VycmVudEF2YXRhclN0YWdlXSA9IHVzZVN0YXRlKDEpIC8vIFN0YXJ0IHdpdGggc3RhZ2UgMVxuICBcbiAgLy8gQ29tcGxldGlvbiBhbmltYXRpb24gc3RhdGVcbiAgY29uc3QgW2NvbXBsZXRpb25BbmltYXRpb25TdGFydGVkLCBzZXRDb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2F2YXRhck9wYWNpdHksIHNldEF2YXRhck9wYWNpdHldID0gdXNlU3RhdGUoMS4wKVxuICBjb25zdCBbc3VjY2Vzc09wYWNpdHksIHNldFN1Y2Nlc3NPcGFjaXR5XSA9IHVzZVN0YXRlKDAuMClcbiAgY29uc3QgY29tcGxldGlvblRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKVxuICBcbiAgLy8gQXZhdGFyIHRyYW5zaXRpb24gYW5pbWF0aW9uIHN0YXRlXG4gIGNvbnN0IFtpc1RyYW5zaXRpb25pbmcsIHNldElzVHJhbnNpdGlvbmluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3ByZXZpb3VzQXZhdGFyU3RhZ2UsIHNldFByZXZpb3VzQXZhdGFyU3RhZ2VdID0gdXNlU3RhdGUoMSlcbiAgY29uc3QgW3RyYW5zaXRpb25Qcm9ncmVzcywgc2V0VHJhbnNpdGlvblByb2dyZXNzXSA9IHVzZVN0YXRlKDApIC8vIDAgdG8gMVxuICBjb25zdCB0cmFuc2l0aW9uVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG4gIFxuICAvLyBQYXJ0aWNsZSBkZXRlY3Rpb24gZGVsYXkgc3RhdGVcbiAgY29uc3QgW2RldGVjdGVkU3RhZ2UsIHNldERldGVjdGVkU3RhZ2VdID0gdXNlU3RhdGUoMSlcbiAgY29uc3QgW2RldGVjdGlvblRpbWVyLCBzZXREZXRlY3Rpb25UaW1lcl0gPSB1c2VTdGF0ZTxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGRldGVjdGlvbkRlbGF5TXMgPSAyNTAgLy8gMC4yNSBzZWNvbmRzXG5cbiAgLy8gQ2FudmFzIGRpbWVuc2lvbnMgLSBvcHRpbWl6ZWQgZm9yIG1vYmlsZVxuICBjb25zdCBDQU5WQVNfV0lEVEggPSA0NTAgIC8vIEluY3JlYXNlZCBmcm9tIDQwMFxuICBjb25zdCBDQU5WQVNfSEVJR0hUID0gNDUwIC8vIEluY3JlYXNlZCBmcm9tIDQwMFxuICBjb25zdCBDRU5URVJfWCA9IENBTlZBU19XSURUSCAvIDJcbiAgY29uc3QgQ0VOVEVSX1kgPSBDQU5WQVNfSEVJR0hUIC8gMlxuICBcbiAgLy8gUmluZyBkaW1lbnNpb25zIC0gc2NhbGVkIHRvIGZpbGwgbGFyZ2VyIGNhbnZhc1xuICBjb25zdCBPVVRFUl9SQURJVVMgPSAxODAgIC8vIEluY3JlYXNlZCBmcm9tIDE1NyAod2FzIDE0MCBvcmlnaW5hbGx5KVxuICBjb25zdCBJTk5FUl9SQURJVVMgPSAxMzAgIC8vIEluY3JlYXNlZCBmcm9tIDExMiAod2FzIDEwMCBvcmlnaW5hbGx5KVxuICBjb25zdCBUVUJFX1dJRFRIID0gT1VURVJfUkFESVVTIC0gSU5ORVJfUkFESVVTXG4gIGNvbnN0IFBBUlRJQ0xFX1JBRElVUyA9IE1hdGguZmxvb3IoVFVCRV9XSURUSCAvIDgpIC8vIDEvOHRoIHR1YmUgd2lkdGhcblxuICAvLyBHZXQgdmVzdGlidWxlIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gZWFyIHR5cGVcbiAgY29uc3QgZ2V0VmVzdGlidWxlQ29uZmlnID0gKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEVhciA9PT0gJ2xlZnQnKSB7XG4gICAgICAvLyBMZWZ0IGVhcjogdmVzdGlidWxlIGF0IDQgbydjbG9jayBwb3NpdGlvbiAoMTIwIGRlZ3JlZXMpXG4gICAgICBjb25zdCBWRVNUSUJVTEVfQU5HTEUgPSBNYXRoLlBJICogMi8zIC8vIDQgbydjbG9jayBwb3NpdGlvbiAoMTIwIGRlZ3JlZXMpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmdsZTogVkVTVElCVUxFX0FOR0xFLFxuICAgICAgICBjZW50ZXJYOiBDRU5URVJfWCArIE1hdGguY29zKFZFU1RJQlVMRV9BTkdMRSkgKiAoT1VURVJfUkFESVVTICsgNjApLCAvLyBJbmNyZWFzZWQgZnJvbSA1MFxuICAgICAgICBjZW50ZXJZOiBDRU5URVJfWSArIE1hdGguc2luKFZFU1RJQlVMRV9BTkdMRSkgKiAoT1VURVJfUkFESVVTICsgNjApLCAvLyBJbmNyZWFzZWQgZnJvbSA1MFxuICAgICAgICByYWRpdXM6IDg1IC8vIEluY3JlYXNlZCBmcm9tIDcwXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJpZ2h0IGVhcjogdmVzdGlidWxlIGF0IDQgbydjbG9jayBwb3NpdGlvbiAob3JpZ2luYWwpXG4gICAgICBjb25zdCBWRVNUSUJVTEVfQU5HTEUgPSBNYXRoLlBJIC8gMyAvLyA0IG8nY2xvY2sgcG9zaXRpb24gKDYwIGRlZ3JlZXMpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmdsZTogVkVTVElCVUxFX0FOR0xFLFxuICAgICAgICBjZW50ZXJYOiBDRU5URVJfWCArIE1hdGguY29zKFZFU1RJQlVMRV9BTkdMRSkgKiAoT1VURVJfUkFESVVTICsgNjApLCAvLyBJbmNyZWFzZWQgZnJvbSA1MFxuICAgICAgICBjZW50ZXJZOiBDRU5URVJfWSArIE1hdGguc2luKFZFU1RJQlVMRV9BTkdMRSkgKiAoT1VURVJfUkFESVVTICsgNjApLCAvLyBJbmNyZWFzZWQgZnJvbSA1MFxuICAgICAgICByYWRpdXM6IDg1IC8vIEluY3JlYXNlZCBmcm9tIDcwXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBwYXJ0aWNsZXMgYmFzZWQgb24gZWFyIHR5cGVcbiAgY29uc3QgaW5pdGlhbGl6ZVBhcnRpY2xlcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkRWFyKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCBuZXdQYXJ0aWNsZXM6IFBhcnRpY2xlW10gPSBbXVxuICAgIGNvbnN0IGN1cHVsYUFuZ2xlID0gTWF0aC5QSSAvIDIgLy8gQm90dG9tIG9mIHJpbmcgKDYgbydjbG9jaylcbiAgICBjb25zdCByaW5nQ2VudGVyID0gKE9VVEVSX1JBRElVUyArIElOTkVSX1JBRElVUykgLyAyIC8vIE1pZGRsZSBvZiB0dWJlXG4gICAgXG4gICAgbGV0IHBhcnRpY2xlQW5nbGVcbiAgICBpZiAoc2VsZWN0ZWRFYXIgPT09ICdsZWZ0Jykge1xuICAgICAgLy8gTGVmdCBlYXI6IHBhcnRpY2xlcyBzcGF3biBvbiBSSUdIVCBzaWRlIG9mIGN1cHVsYSAoNC01IG8nY2xvY2sgcG9zaXRpb24pXG4gICAgICBwYXJ0aWNsZUFuZ2xlID0gY3VwdWxhQW5nbGUgLSBNYXRoLlBJIC8gNiAvLyBSSUdIVCBzaWRlIG9mIGN1cHVsYSAoMzAgZGVncmVlcyBsZWZ0IG9mIGJvdHRvbSA9IDQtNSBvJ2Nsb2NrKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSaWdodCBlYXI6IHBhcnRpY2xlcyBzcGF3biBvbiBMRUZUIHNpZGUgb2YgY3VwdWxhICg3LTggbydjbG9jayBwb3NpdGlvbikgLSBvcmlnaW5hbFxuICAgICAgcGFydGljbGVBbmdsZSA9IGN1cHVsYUFuZ2xlICsgTWF0aC5QSSAvIDYgLy8gTEVGVCBzaWRlIG9mIGN1cHVsYSAoMzAgZGVncmVlcyByaWdodCBvZiBib3R0b20gPSA3LTggbydjbG9jaylcbiAgICB9XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgIC8vIENsdXN0ZXIgYWxsIHBhcnRpY2xlcyB0aWdodGx5IG9uIGFwcHJvcHJpYXRlIHNpZGUgb2YgY3VwdWxhXG4gICAgICBjb25zdCBhbmdsZSA9IHBhcnRpY2xlQW5nbGUgKyAoaSAtIDEuNSkgKiAwLjA1IC8vIFRpZ2h0IGNsdXN0ZXJpbmdcbiAgICAgIG5ld1BhcnRpY2xlcy5wdXNoKHtcbiAgICAgICAgaWQ6IGksXG4gICAgICAgIHg6IENFTlRFUl9YICsgTWF0aC5jb3MoYW5nbGUpICogcmluZ0NlbnRlcixcbiAgICAgICAgeTogQ0VOVEVSX1kgKyBNYXRoLnNpbihhbmdsZSkgKiByaW5nQ2VudGVyLFxuICAgICAgICB2eDogMCxcbiAgICAgICAgdnk6IDAsXG4gICAgICAgIHJhZGl1czogUEFSVElDTEVfUkFESVVTLFxuICAgICAgICBpbkFtcHVsbGE6IGZhbHNlLFxuICAgICAgICBkaXNzb2x2aW5nOiBmYWxzZSxcbiAgICAgICAgb3JpZ2luYWxSYWRpdXM6IFBBUlRJQ0xFX1JBRElVU1xuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgc2V0UGFydGljbGVzKG5ld1BhcnRpY2xlcylcbiAgICBwYXJ0aWNsZXNSZWYuY3VycmVudCA9IG5ld1BhcnRpY2xlc1xuICAgIHNldEVwbGV5Q29tcGxldGUoZmFsc2UpXG4gICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKDEpIC8vIFJlc2V0IGF2YXRhciB0byBzdGFydGluZyBwb3NpdGlvblxuICAgIFxuICAgIC8vIFJlc2V0IGNvbXBsZXRpb24gYW5pbWF0aW9uIHN0YXRlXG4gICAgc2V0Q29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQoZmFsc2UpXG4gICAgc2V0QXZhdGFyT3BhY2l0eSgxLjApXG4gICAgc2V0U3VjY2Vzc09wYWNpdHkoMC4wKVxuICAgIGlmIChjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICAgIFxuICAgIC8vIFJlc2V0IHRyYW5zaXRpb24gYW5pbWF0aW9uIHN0YXRlXG4gICAgc2V0SXNUcmFuc2l0aW9uaW5nKGZhbHNlKVxuICAgIHNldFByZXZpb3VzQXZhdGFyU3RhZ2UoMSlcbiAgICBzZXRUcmFuc2l0aW9uUHJvZ3Jlc3MoMClcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICB0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbFxuICAgIH1cbiAgfSwgW3NlbGVjdGVkRWFyXSlcblxuICAvLyBTdGFydCBjb21wbGV0aW9uIGFuaW1hdGlvbiBzZXF1ZW5jZVxuICBjb25zdCBzdGFydENvbXBsZXRpb25BbmltYXRpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGNvbXBsZXRpb25BbmltYXRpb25TdGFydGVkKSByZXR1cm5cbiAgICBcbiAgICBzZXRDb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZCh0cnVlKVxuICAgIFxuICAgIC8vIFBoYXNlIDE6IEZhZGUgb3V0IGF2YXRhciBvdmVyIDEgc2Vjb25kXG4gICAgY29uc3QgZmFkZU91dEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0QXZhdGFyT3BhY2l0eShwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgbmV3T3BhY2l0eSA9IHByZXYgLSAwLjA1IC8vIEZhZGUgb3V0IGluIDIwIHN0ZXBzICgxIHNlY29uZCBhdCA1MG1zIGludGVydmFscylcbiAgICAgICAgaWYgKG5ld09wYWNpdHkgPD0gMCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZmFkZU91dEludGVydmFsKVxuICAgICAgICAgIHJldHVybiAwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld09wYWNpdHlcbiAgICAgIH0pXG4gICAgfSwgNTApXG4gICAgXG4gICAgLy8gUGhhc2UgMjogQWZ0ZXIgMSBzZWNvbmQsIGZhZGUgaW4gc3VjY2VzcyBpbmRpY2F0b3JcbiAgICBjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRFcGxleUNvbXBsZXRlKHRydWUpXG4gICAgICBcbiAgICAgIGNvbnN0IGZhZGVJbkludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBzZXRTdWNjZXNzT3BhY2l0eShwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdPcGFjaXR5ID0gcHJldiArIDAuMDUgLy8gRmFkZSBpbiBvdmVyIDEgc2Vjb25kXG4gICAgICAgICAgaWYgKG5ld09wYWNpdHkgPj0gMSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChmYWRlSW5JbnRlcnZhbClcbiAgICAgICAgICAgIHJldHVybiAxXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXdPcGFjaXR5XG4gICAgICAgIH0pXG4gICAgICB9LCA1MClcbiAgICB9LCAxMDAwKVxuICB9LCBbY29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWRdKVxuXG4gIC8vIFN0YXJ0IGF2YXRhciB0cmFuc2l0aW9uIGFuaW1hdGlvblxuICBjb25zdCBzdGFydEF2YXRhclRyYW5zaXRpb24gPSB1c2VDYWxsYmFjaygobmV3U3RhZ2U6IG51bWJlcikgPT4ge1xuICAgIGlmIChpc1RyYW5zaXRpb25pbmcgfHwgbmV3U3RhZ2UgPT09IGN1cnJlbnRBdmF0YXJTdGFnZSkgcmV0dXJuXG4gICAgXG4gICAgLy8gQ2xlYW4gdXAgYW55IGV4aXN0aW5nIHRyYW5zaXRpb25cbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgfVxuICAgIFxuICAgIHNldFByZXZpb3VzQXZhdGFyU3RhZ2UoY3VycmVudEF2YXRhclN0YWdlKVxuICAgIHNldElzVHJhbnNpdGlvbmluZyh0cnVlKVxuICAgIHNldFRyYW5zaXRpb25Qcm9ncmVzcygwKVxuICAgIFxuICAgIC8vIFNtb290aCB0cmFuc2l0aW9uIG92ZXIgODAwbXNcbiAgICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb24gPSA4MDBcbiAgICBjb25zdCBzdGVwcyA9IDQwIC8vIDIwbXMgaW50ZXJ2YWxzIGZvciBzbW9vdGggYW5pbWF0aW9uXG4gICAgY29uc3Qgc3RlcER1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uIC8gc3RlcHNcbiAgICBcbiAgICBsZXQgc3RlcCA9IDBcbiAgICBjb25zdCB0cmFuc2l0aW9uSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzdGVwKytcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gc3RlcCAvIHN0ZXBzXG4gICAgICBcbiAgICAgIC8vIFVzZSBlYXNlSW5PdXRDdWJpYyBmb3IgbmF0dXJhbCBtb3ZlbWVudCBmZWVsXG4gICAgICBjb25zdCBlYXNlZFByb2dyZXNzID0gcHJvZ3Jlc3MgPCAwLjUgXG4gICAgICAgID8gNCAqIHByb2dyZXNzICogcHJvZ3Jlc3MgKiBwcm9ncmVzcyBcbiAgICAgICAgOiAxIC0gTWF0aC5wb3coLTIgKiBwcm9ncmVzcyArIDIsIDMpIC8gMlxuICAgICAgXG4gICAgICBzZXRUcmFuc2l0aW9uUHJvZ3Jlc3MoZWFzZWRQcm9ncmVzcylcbiAgICAgIFxuICAgICAgaWYgKHN0ZXAgPj0gc3RlcHMpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0cmFuc2l0aW9uSW50ZXJ2YWwpXG4gICAgICAgIHNldEN1cnJlbnRBdmF0YXJTdGFnZShuZXdTdGFnZSlcbiAgICAgICAgc2V0SXNUcmFuc2l0aW9uaW5nKGZhbHNlKVxuICAgICAgICBzZXRUcmFuc2l0aW9uUHJvZ3Jlc3MoMClcbiAgICAgIH1cbiAgICB9LCBzdGVwRHVyYXRpb24pXG4gICAgXG4gICAgLy8gQ2xlYW51cCB0aW1lb3V0XG4gICAgdHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0cmFuc2l0aW9uSW50ZXJ2YWwpXG4gICAgICBzZXRDdXJyZW50QXZhdGFyU3RhZ2UobmV3U3RhZ2UpXG4gICAgICBzZXRJc1RyYW5zaXRpb25pbmcoZmFsc2UpXG4gICAgICBzZXRUcmFuc2l0aW9uUHJvZ3Jlc3MoMClcbiAgICB9LCB0cmFuc2l0aW9uRHVyYXRpb24gKyAxMDApXG4gIH0sIFtpc1RyYW5zaXRpb25pbmcsIGN1cnJlbnRBdmF0YXJTdGFnZV0pXG5cbiAgLy8gVHJ5IHRvIGxvY2sgb3JpZW50YXRpb25cbiAgY29uc3QgbG9ja09yaWVudGF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUeXBlIGFzc2VydGlvbiBmb3Igc2NyZWVuIG9yaWVudGF0aW9uIGxvY2sgKG5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB0aGlzKVxuICAgICAgaWYgKHNjcmVlbi5vcmllbnRhdGlvbiAmJiAoc2NyZWVuLm9yaWVudGF0aW9uIGFzIGFueSkubG9jaykge1xuICAgICAgICBhd2FpdCAoc2NyZWVuLm9yaWVudGF0aW9uIGFzIGFueSkubG9jaygncG9ydHJhaXQnKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnT3JpZW50YXRpb24gbG9jayBub3Qgc3VwcG9ydGVkIG9yIGZhaWxlZDonLCBlcnJvcilcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBSZXF1ZXN0IGRldmljZSBvcmllbnRhdGlvbiBwZXJtaXNzaW9uXG4gIGNvbnN0IHJlcXVlc3RPcmllbnRhdGlvblBlcm1pc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gT25seSBzaG93IG9yaWVudGF0aW9uIHNldHVwIGlmIG5vdCBhbHJlYWR5IGNvbXBsZXRlZFxuICAgIGlmICghb3JpZW50YXRpb25TZXR1cENvbXBsZXRlKSB7XG4gICAgICAvLyBGaXJzdCB0cnkgdG8gbG9jayBvcmllbnRhdGlvblxuICAgICAgY29uc3QgbG9ja1N1Y2Nlc3MgPSBhd2FpdCBsb2NrT3JpZW50YXRpb24oKVxuICAgICAgXG4gICAgICBpZiAoIWxvY2tTdWNjZXNzICYmICFvcmllbnRhdGlvbkxvY2tQcm9tcHRlZCkge1xuICAgICAgICBzZXRPcmllbnRhdGlvbkxvY2tQcm9tcHRlZCh0cnVlKVxuICAgICAgICByZXR1cm4gLy8gU2hvdyBtYW51YWwgaW5zdHJ1Y3Rpb24gZmlyc3RcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIERldmljZU9yaWVudGF0aW9uRXZlbnQgIT09ICd1bmRlZmluZWQnICYmICdyZXF1ZXN0UGVybWlzc2lvbicgaW4gRGV2aWNlT3JpZW50YXRpb25FdmVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGVybWlzc2lvbiA9IGF3YWl0IChEZXZpY2VPcmllbnRhdGlvbkV2ZW50IGFzIGFueSkucmVxdWVzdFBlcm1pc3Npb24oKVxuICAgICAgICBpZiAocGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XG4gICAgICAgICAgc2V0UGVybWlzc2lvbkdyYW50ZWQodHJ1ZSlcbiAgICAgICAgICBzZXRPcmllbnRhdGlvblNldHVwQ29tcGxldGUodHJ1ZSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVxdWVzdGluZyBvcmllbnRhdGlvbiBwZXJtaXNzaW9uOicsIGVycm9yKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRQZXJtaXNzaW9uR3JhbnRlZCh0cnVlKVxuICAgICAgc2V0T3JpZW50YXRpb25TZXR1cENvbXBsZXRlKHRydWUpXG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIG1hbnVhbCBvcmllbnRhdGlvbiBsb2NrIGFja25vd2xlZGdtZW50XG4gIGNvbnN0IGhhbmRsZU9yaWVudGF0aW9uTG9ja0FjayA9ICgpID0+IHtcbiAgICBzZXRPcmllbnRhdGlvbkxvY2tQcm9tcHRlZChmYWxzZSlcbiAgICByZXF1ZXN0T3JpZW50YXRpb25QZXJtaXNzaW9uKClcbiAgfVxuXG4gIC8vIEhhbmRsZSBkZXZpY2Ugb3JpZW50YXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXBlcm1pc3Npb25HcmFudGVkKSByZXR1cm5cblxuICAgIGNvbnN0IGhhbmRsZU9yaWVudGF0aW9uID0gKGV2ZW50OiBEZXZpY2VPcmllbnRhdGlvbkV2ZW50KSA9PiB7XG4gICAgICAvLyBHZXQgcmF3IG9yaWVudGF0aW9uIHZhbHVlc1xuICAgICAgbGV0IGJldGEgPSBldmVudC5iZXRhIHx8IDBcbiAgICAgIGxldCBnYW1tYSA9IGV2ZW50LmdhbW1hIHx8IDBcbiAgICAgIFxuICAgICAgLy8gRGV0ZWN0IGFuZCBmaWx0ZXIgb3V0IGV4dHJlbWUgb3JpZW50YXRpb24gY2hhbmdlcyB0aGF0IGNhdXNlIGdpbWJhbCBsb2NrXG4gICAgICAvLyBJZiBiZXRhIGp1bXBzIG1vcmUgdGhhbiA5MCBkZWdyZWVzIGZyb20gcHJldmlvdXMgdmFsdWUsIGl0J3MgbGlrZWx5IGEgZ2ltYmFsIGxvY2sgc3Bpa2VcbiAgICAgIHNldE9yaWVudGF0aW9uKHByZXYgPT4ge1xuICAgICAgICBjb25zdCBiZXRhRGlmZiA9IE1hdGguYWJzKGJldGEgLSBwcmV2LmJldGEpXG4gICAgICAgIGNvbnN0IGdhbW1hRGlmZiA9IE1hdGguYWJzKGdhbW1hIC0gcHJldi5nYW1tYSlcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYSBtYXNzaXZlIGp1bXAgKD45MMKwKSwgaWdub3JlIHRoaXMgcmVhZGluZyBhbmQga2VlcCBwcmV2aW91cyB2YWx1ZXNcbiAgICAgICAgaWYgKGJldGFEaWZmID4gOTAgfHwgZ2FtbWFEaWZmID4gOTApIHtcbiAgICAgICAgICByZXR1cm4gcHJldiAvLyBLZWVwIHByZXZpb3VzIHN0YWJsZSB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2xhbXAgdG8gcmVhc29uYWJsZSBwaHlzaW9sb2dpY2FsIHJhbmdlICjCsTMwwrAgaXMgcGxlbnR5IGZvciBFcGxleSlcbiAgICAgICAgYmV0YSA9IE1hdGgubWF4KC0zMCwgTWF0aC5taW4oMzAsIGJldGEpKVxuICAgICAgICBnYW1tYSA9IE1hdGgubWF4KC0zMCwgTWF0aC5taW4oMzAsIGdhbW1hKSlcbiAgICAgICAgXG4gICAgICAgIC8vIEVuc3VyZSB3ZSBuZXZlciBjcmVhdGUgXCJ1cHdhcmRcIiBncmF2aXR5IC0gYWx3YXlzIG1haW50YWluIGRvd253YXJkIGNvbXBvbmVudFxuICAgICAgICAvLyBJZiBiZXRhIHdvdWxkIGNyZWF0ZSBzdHJvbmcgdXB3YXJkIGZvcmNlLCBsaW1pdCBpdFxuICAgICAgICBpZiAoYmV0YSA8IC0yMCkgYmV0YSA9IC0yMCAgLy8gUHJldmVudCBleHRyZW1lIGZvcndhcmQgdGlsdFxuICAgICAgICBpZiAoYmV0YSA+IDIwKSBiZXRhID0gMjAgICAgLy8gUHJldmVudCBleHRyZW1lIGJhY2t3YXJkIHRpbHRcbiAgICAgICAgXG4gICAgICAgIC8vIFNtb290aCB0aGUgb3JpZW50YXRpb24gY2hhbmdlc1xuICAgICAgICBjb25zdCBzbW9vdGhpbmdGYWN0b3IgPSAwLjg1IC8vIEluY3JlYXNlZCBzbW9vdGhpbmdcbiAgICAgICAgY29uc3QgbmV3QmV0YSA9IHByZXYuYmV0YSAqIHNtb290aGluZ0ZhY3RvciArIGJldGEgKiAoMSAtIHNtb290aGluZ0ZhY3RvcilcbiAgICAgICAgY29uc3QgbmV3R2FtbWEgPSBwcmV2LmdhbW1hICogc21vb3RoaW5nRmFjdG9yICsgZ2FtbWEgKiAoMSAtIHNtb290aGluZ0ZhY3RvcilcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYmV0YTogbmV3QmV0YSxcbiAgICAgICAgICBnYW1tYTogbmV3R2FtbWFcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCBoYW5kbGVPcmllbnRhdGlvbilcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RldmljZW9yaWVudGF0aW9uJywgaGFuZGxlT3JpZW50YXRpb24pXG4gIH0sIFtwZXJtaXNzaW9uR3JhbnRlZF0pXG5cbiAgLy8gQ2hlY2sgaWYgcG9pbnQgaXMgaW5zaWRlIHRoZSByaW5nIHR1YmVcbiAgY29uc3QgaXNJbnNpZGVSaW5nID0gKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZGlzdEZyb21DZW50ZXIgPSBNYXRoLnNxcnQoKHggLSBDRU5URVJfWCkgKiogMiArICh5IC0gQ0VOVEVSX1kpICoqIDIpXG4gICAgcmV0dXJuIGRpc3RGcm9tQ2VudGVyID49IElOTkVSX1JBRElVUyAmJiBkaXN0RnJvbUNlbnRlciA8PSBPVVRFUl9SQURJVVNcbiAgfVxuXG4gIC8vIENoZWNrIGNvbGxpc2lvbiB3aXRoIGN1cHVsYVxuICBjb25zdCBjaGVja0N1cHVsYUNvbGxpc2lvbiA9ICh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBjdXB1bGFYID0gQ0VOVEVSX1hcbiAgICBjb25zdCBjdXB1bGFXaWR0aCA9IFRVQkVfV0lEVEggKiAwLjdcbiAgICBjb25zdCBjdXB1bGFIZWlnaHQgPSBUVUJFX1dJRFRIICogMC44NVxuICAgIGNvbnN0IGN1cHVsYVkgPSBDRU5URVJfWSArIE9VVEVSX1JBRElVUyAtIGN1cHVsYUhlaWdodCAvIDJcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgeCAtIHJhZGl1cyA8IGN1cHVsYVggKyBjdXB1bGFXaWR0aCAvIDIgJiZcbiAgICAgIHggKyByYWRpdXMgPiBjdXB1bGFYIC0gY3VwdWxhV2lkdGggLyAyICYmXG4gICAgICB5IC0gcmFkaXVzIDwgY3VwdWxhWSArIGN1cHVsYUhlaWdodCAvIDIgJiZcbiAgICAgIHkgKyByYWRpdXMgPiBjdXB1bGFZIC0gY3VwdWxhSGVpZ2h0IC8gMlxuICAgIClcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBvaW50IGlzIGluc2lkZSB0aGUgdmVzdGlidWxlXG4gIGNvbnN0IGlzSW5zaWRlVmVzdGlidWxlID0gKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgdmVzdGlidWxlQ29uZmlnID0gZ2V0VmVzdGlidWxlQ29uZmlnKClcbiAgICBcbiAgICAvLyBNYWluIHZlc3RpYnVsZSBjaGFtYmVyXG4gICAgY29uc3QgZGlzdEZyb21WZXN0aWJ1bGVDZW50ZXIgPSBNYXRoLnNxcnQoKHggLSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWCkgKiogMiArICh5IC0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclkpICoqIDIpXG4gICAgaWYgKGRpc3RGcm9tVmVzdGlidWxlQ2VudGVyIDw9IHZlc3RpYnVsZUNvbmZpZy5yYWRpdXMpIHJldHVybiB0cnVlXG4gICAgXG4gICAgLy8gRXh0ZW5kZWQgdmVzdGlidWxlIGFyZWEgLSBjb25uZWN0aW9uIGJyaWRnZSBhcmVhXG4gICAgY29uc3QgY29ubmVjdGlvblggPSBDRU5URVJfWCArIE1hdGguY29zKHZlc3RpYnVsZUNvbmZpZy5hbmdsZSkgKiBPVVRFUl9SQURJVVNcbiAgICBjb25zdCBjb25uZWN0aW9uWSA9IENFTlRFUl9ZICsgTWF0aC5zaW4odmVzdGlidWxlQ29uZmlnLmFuZ2xlKSAqIE9VVEVSX1JBRElVU1xuICAgIGNvbnN0IGNvbm5lY3Rpb25XaWR0aCA9IDUwXG4gICAgY29uc3QgY29ubmVjdGlvbkhlaWdodCA9IDM4XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgcG9pbnQgaXMgaW4gdGhlIGNvbm5lY3Rpb24vYnJpZGdlIGFyZWEgKHJvdGF0ZWQgcmVjdGFuZ2xlKVxuICAgIGNvbnN0IGR4ID0geCAtIGNvbm5lY3Rpb25YXG4gICAgY29uc3QgZHkgPSB5IC0gY29ubmVjdGlvbllcbiAgICBjb25zdCByb3RhdGVkWCA9IGR4ICogTWF0aC5jb3MoLXZlc3RpYnVsZUNvbmZpZy5hbmdsZSkgLSBkeSAqIE1hdGguc2luKC12ZXN0aWJ1bGVDb25maWcuYW5nbGUpXG4gICAgY29uc3Qgcm90YXRlZFkgPSBkeCAqIE1hdGguc2luKC12ZXN0aWJ1bGVDb25maWcuYW5nbGUpICsgZHkgKiBNYXRoLmNvcygtdmVzdGlidWxlQ29uZmlnLmFuZ2xlKVxuICAgIFxuICAgIHJldHVybiBNYXRoLmFicyhyb3RhdGVkWCkgPD0gY29ubmVjdGlvbldpZHRoIC8gMiAmJiBNYXRoLmFicyhyb3RhdGVkWSkgPD0gY29ubmVjdGlvbkhlaWdodCAvIDJcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHBvaW50IGlzIGluIHZhbGlkIGNhbmFsIHNwYWNlXG4gIGNvbnN0IGlzSW5WYWxpZFNwYWNlID0gKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIGlzSW5zaWRlUmluZyh4LCB5KSB8fCBpc0luc2lkZVZlc3RpYnVsZSh4LCB5KVxuICB9XG5cbiAgLy8gUGh5c2ljcyB1cGRhdGVcbiAgY29uc3QgdXBkYXRlUGh5c2ljcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWNhbnZhc1JlZi5jdXJyZW50IHx8ICFzZWxlY3RlZEVhcikgcmV0dXJuXG5cbiAgICBjb25zdCBuZXdQYXJ0aWNsZXMgPSBwYXJ0aWNsZXNSZWYuY3VycmVudC5tYXAoKHBhcnRpY2xlLCBpbmRleCkgPT4ge1xuICAgICAgLy8gSWYgcGFydGljbGUgaXMgZGlzc29sdmluZywganVzdCBzaHJpbmsgaXRcbiAgICAgIGlmIChwYXJ0aWNsZS5kaXNzb2x2aW5nKSB7XG4gICAgICAgIGNvbnN0IG5ld1JhZGl1cyA9IE1hdGgubWF4KDAsIHBhcnRpY2xlLnJhZGl1cyAtIDAuMDIpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucGFydGljbGUsXG4gICAgICAgICAgcmFkaXVzOiBuZXdSYWRpdXNcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IGRldmljZSBvcmllbnRhdGlvbiB0byBncmF2aXR5IHZlY3RvclxuICAgICAgY29uc3QgZ3Jhdml0eVN0cmVuZ3RoID0gMC4wMiAgLy8gRnVydGhlciByZWR1Y2VkIGZvciB2aXNjb3VzIGZsdWlkIHNpbXVsYXRpb24gLSBsaWtlIG90b2NvbmlhIGluIGVuZG9seW1waFxuICAgICAgXG4gICAgICAvLyBEZXRlY3QgaWYgZGV2aWNlIGlzIHJvdWdobHkgaG9yaXpvbnRhbFxuICAgICAgY29uc3QgaXNIb3Jpem9udGFsID0gTWF0aC5hYnMoTWF0aC5hYnMob3JpZW50YXRpb24uZ2FtbWEgfHwgMCkgLSA5MCkgPCAzMFxuICAgICAgXG4gICAgICBsZXQgZ3Jhdml0eVgsIGdyYXZpdHlZXG4gICAgICBcbiAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgZ3Jhdml0eVggPSBNYXRoLnNpbigob3JpZW50YXRpb24uZ2FtbWEgfHwgMCkgKiBNYXRoLlBJIC8gMTgwKSAqIGdyYXZpdHlTdHJlbmd0aFxuICAgICAgICBncmF2aXR5WSA9IE1hdGguc2luKChvcmllbnRhdGlvbi5iZXRhIHx8IDApICogTWF0aC5QSSAvIDE4MCkgKiBncmF2aXR5U3RyZW5ndGggKiAwLjFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyYXZpdHlYID0gTWF0aC5zaW4oKG9yaWVudGF0aW9uLmdhbW1hIHx8IDApICogTWF0aC5QSSAvIDE4MCkgKiBncmF2aXR5U3RyZW5ndGhcbiAgICAgICAgZ3Jhdml0eVkgPSBNYXRoLnNpbigob3JpZW50YXRpb24uYmV0YSB8fCAwKSAqIE1hdGguUEkgLyAxODApICogZ3Jhdml0eVN0cmVuZ3RoXG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB2ZWxvY2l0eSB3aXRoIGdyYXZpdHlcbiAgICAgIGxldCBuZXdWeCA9IHBhcnRpY2xlLnZ4ICsgZ3Jhdml0eVhcbiAgICAgIGxldCBuZXdWeSA9IHBhcnRpY2xlLnZ5ICsgZ3Jhdml0eVlcblxuICAgICAgLy8gQXBwbHkgbGlnaHRlciBkYW1waW5nIHRvIHJlZHVjZSBzdGlja2luZ1xuICAgICAgbmV3VnggKj0gMC45OTggIC8vIFJlZHVjZWQgZGFtcGluZyB0byBwcmV2ZW50IHdhbGwgc3RpY2tpbmdcbiAgICAgIG5ld1Z5ICo9IDAuOTk4XG5cbiAgICAgIC8vIFByZWRpY3QgbmV3IHBvc2l0aW9uXG4gICAgICBsZXQgbmV3WCA9IHBhcnRpY2xlLnggKyBuZXdWeFxuICAgICAgbGV0IG5ld1kgPSBwYXJ0aWNsZS55ICsgbmV3VnlcblxuICAgICAgLy8gQ2hlY2sgaWYgcGFydGljbGUgaXMgaW4gdmVzdGlidWxlXG4gICAgICBjb25zdCBub3dJblZlc3RpYnVsZSA9IGlzSW5zaWRlVmVzdGlidWxlKG5ld1gsIG5ld1kpXG4gICAgICBcbiAgICAgIGlmIChub3dJblZlc3RpYnVsZSAmJiAhcGFydGljbGUuaW5BbXB1bGxhKSB7XG4gICAgICAgIHBhcnRpY2xlLmluQW1wdWxsYSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgLy8gQm91bmRhcnkgY2hlY2tzIGFuZCBwaHlzaWNzIC0gc2ltcGxpZmllZCBhbmQgaW1wcm92ZWRcbiAgICAgIGNvbnN0IGRpc3RGcm9tQ2VudGVyID0gTWF0aC5zcXJ0KChuZXdYIC0gQ0VOVEVSX1gpICoqIDIgKyAobmV3WSAtIENFTlRFUl9ZKSAqKiAyKVxuICAgICAgY29uc3QgdmVzdGlidWxlQ29uZmlnID0gZ2V0VmVzdGlidWxlQ29uZmlnKClcbiAgICAgIFxuICAgICAgaWYgKGlzSW5zaWRlUmluZyhuZXdYLCBuZXdZKSkge1xuICAgICAgICAvLyBPdXRlciBib3VuZGFyeSBjb2xsaXNpb25cbiAgICAgICAgaWYgKGRpc3RGcm9tQ2VudGVyID4gT1VURVJfUkFESVVTIC0gcGFydGljbGUucmFkaXVzKSB7XG4gICAgICAgICAgY29uc3QgYW5nbGVUb1BhcnRpY2xlID0gTWF0aC5hdGFuMihuZXdZIC0gQ0VOVEVSX1ksIG5ld1ggLSBDRU5URVJfWClcbiAgICAgICAgICBjb25zdCB2ZXN0aWJ1bGVDb25uZWN0aW9uU3RhcnQgPSB2ZXN0aWJ1bGVDb25maWcuYW5nbGUgLSAwLjNcbiAgICAgICAgICBjb25zdCB2ZXN0aWJ1bGVDb25uZWN0aW9uRW5kID0gdmVzdGlidWxlQ29uZmlnLmFuZ2xlICsgMC4zXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2ltcGxpZmllZCBhbmdsZSBjaGVja1xuICAgICAgICAgIGxldCBpbkNvbm5lY3Rpb25BcmVhID0gZmFsc2VcbiAgICAgICAgICBsZXQgbm9ybWFsaXplZEFuZ2xlID0gYW5nbGVUb1BhcnRpY2xlXG4gICAgICAgICAgaWYgKG5vcm1hbGl6ZWRBbmdsZSA8IDApIG5vcm1hbGl6ZWRBbmdsZSArPSBNYXRoLlBJICogMlxuICAgICAgICAgIFxuICAgICAgICAgIGxldCBub3JtYWxpemVkU3RhcnQgPSB2ZXN0aWJ1bGVDb25uZWN0aW9uU3RhcnRcbiAgICAgICAgICBpZiAobm9ybWFsaXplZFN0YXJ0IDwgMCkgbm9ybWFsaXplZFN0YXJ0ICs9IE1hdGguUEkgKiAyXG4gICAgICAgICAgXG4gICAgICAgICAgbGV0IG5vcm1hbGl6ZWRFbmQgPSB2ZXN0aWJ1bGVDb25uZWN0aW9uRW5kXG4gICAgICAgICAgaWYgKG5vcm1hbGl6ZWRFbmQgPCAwKSBub3JtYWxpemVkRW5kICs9IE1hdGguUEkgKiAyXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSGFuZGxlIGFuZ2xlIHdyYXBwaW5nIGFyb3VuZCAwLzLPgFxuICAgICAgICAgIGlmIChub3JtYWxpemVkRW5kIDwgbm9ybWFsaXplZFN0YXJ0KSB7XG4gICAgICAgICAgICBpbkNvbm5lY3Rpb25BcmVhID0gKG5vcm1hbGl6ZWRBbmdsZSA+PSBub3JtYWxpemVkU3RhcnQgfHwgbm9ybWFsaXplZEFuZ2xlIDw9IG5vcm1hbGl6ZWRFbmQpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluQ29ubmVjdGlvbkFyZWEgPSAobm9ybWFsaXplZEFuZ2xlID49IG5vcm1hbGl6ZWRTdGFydCAmJiBub3JtYWxpemVkQW5nbGUgPD0gbm9ybWFsaXplZEVuZClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFpbkNvbm5lY3Rpb25BcmVhKSB7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIobmV3WSAtIENFTlRFUl9ZLCBuZXdYIC0gQ0VOVEVSX1gpXG4gICAgICAgICAgICBuZXdYID0gQ0VOVEVSX1ggKyBNYXRoLmNvcyhhbmdsZSkgKiAoT1VURVJfUkFESVVTIC0gcGFydGljbGUucmFkaXVzKVxuICAgICAgICAgICAgbmV3WSA9IENFTlRFUl9ZICsgTWF0aC5zaW4oYW5nbGUpICogKE9VVEVSX1JBRElVUyAtIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gR2VudGxlciByZWZsZWN0aW9uIHRvIHByZXZlbnQgc3RpY2tpbmdcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbFggPSBNYXRoLmNvcyhhbmdsZSlcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbFkgPSBNYXRoLnNpbihhbmdsZSlcbiAgICAgICAgICAgIGNvbnN0IGRvdFByb2R1Y3QgPSBuZXdWeCAqIG5vcm1hbFggKyBuZXdWeSAqIG5vcm1hbFlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT25seSByZWZsZWN0IGlmIG1vdmluZyB0b3dhcmQgdGhlIHdhbGxcbiAgICAgICAgICAgIGlmIChkb3RQcm9kdWN0ID4gMCkge1xuICAgICAgICAgICAgICBuZXdWeCA9IG5ld1Z4IC0gMS4yICogZG90UHJvZHVjdCAqIG5vcm1hbFggIC8vIFJlZHVjZWQgZnJvbSAxLjVcbiAgICAgICAgICAgICAgbmV3VnkgPSBuZXdWeSAtIDEuMiAqIGRvdFByb2R1Y3QgKiBub3JtYWxZXG4gICAgICAgICAgICAgIG5ld1Z4ICo9IDAuOTUgIC8vIEluY3JlYXNlZCBmcm9tIDAuODUgdG8gbWFpbnRhaW4gbW9tZW50dW1cbiAgICAgICAgICAgICAgbmV3VnkgKj0gMC45NVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICAgICAgLy8gSW5uZXIgYm91bmRhcnkgY29sbGlzaW9uXG4gICAgICAgIGVsc2UgaWYgKGRpc3RGcm9tQ2VudGVyIDwgSU5ORVJfUkFESVVTICsgcGFydGljbGUucmFkaXVzKSB7XG4gICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKG5ld1kgLSBDRU5URVJfWSwgbmV3WCAtIENFTlRFUl9YKVxuICAgICAgICAgIG5ld1ggPSBDRU5URVJfWCArIE1hdGguY29zKGFuZ2xlKSAqIChJTk5FUl9SQURJVVMgKyBwYXJ0aWNsZS5yYWRpdXMpXG4gICAgICAgICAgbmV3WSA9IENFTlRFUl9ZICsgTWF0aC5zaW4oYW5nbGUpICogKElOTkVSX1JBRElVUyArIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZW50bGVyIHJlZmxlY3Rpb24gdG8gcHJldmVudCBzdGlja2luZ1xuICAgICAgICAgIGNvbnN0IG5vcm1hbFggPSAtTWF0aC5jb3MoYW5nbGUpXG4gICAgICAgICAgY29uc3Qgbm9ybWFsWSA9IC1NYXRoLnNpbihhbmdsZSlcbiAgICAgICAgICBjb25zdCBkb3RQcm9kdWN0ID0gbmV3VnggKiBub3JtYWxYICsgbmV3VnkgKiBub3JtYWxZXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gT25seSByZWZsZWN0IGlmIG1vdmluZyB0b3dhcmQgdGhlIHdhbGxcbiAgICAgICAgICBpZiAoZG90UHJvZHVjdCA+IDApIHtcbiAgICAgICAgICAgIG5ld1Z4ID0gbmV3VnggLSAxLjIgKiBkb3RQcm9kdWN0ICogbm9ybWFsWCAgLy8gUmVkdWNlZCBmcm9tIDEuNVxuICAgICAgICAgICAgbmV3VnkgPSBuZXdWeSAtIDEuMiAqIGRvdFByb2R1Y3QgKiBub3JtYWxZXG4gICAgICAgICAgICBuZXdWeCAqPSAwLjk1ICAvLyBJbmNyZWFzZWQgZnJvbSAwLjg1IHRvIG1haW50YWluIG1vbWVudHVtXG4gICAgICAgICAgICBuZXdWeSAqPSAwLjk1XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzSW5zaWRlVmVzdGlidWxlKG5ld1gsIG5ld1kpKSB7XG4gICAgICAgIGNvbnN0IGRpc3RGcm9tVmVzdGlidWxlQ2VudGVyID0gTWF0aC5zcXJ0KChuZXdYIC0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclgpICoqIDIgKyAobmV3WSAtIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJZKSAqKiAyKVxuICAgICAgICBcbiAgICAgICAgaWYgKGRpc3RGcm9tVmVzdGlidWxlQ2VudGVyID4gdmVzdGlidWxlQ29uZmlnLnJhZGl1cyAtIHBhcnRpY2xlLnJhZGl1cykge1xuICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihuZXdZIC0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclksIG5ld1ggLSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWClcbiAgICAgICAgICBuZXdYID0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclggKyBNYXRoLmNvcyhhbmdsZSkgKiAodmVzdGlidWxlQ29uZmlnLnJhZGl1cyAtIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICBuZXdZID0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclkgKyBNYXRoLnNpbihhbmdsZSkgKiAodmVzdGlidWxlQ29uZmlnLnJhZGl1cyAtIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZW50bGVyIGNvbGxpc2lvbiBpbiB2ZXN0aWJ1bGVcbiAgICAgICAgICBjb25zdCBub3JtYWxYID0gTWF0aC5jb3MoYW5nbGUpXG4gICAgICAgICAgY29uc3Qgbm9ybWFsWSA9IE1hdGguc2luKGFuZ2xlKVxuICAgICAgICAgIGNvbnN0IGRvdFByb2R1Y3QgPSBuZXdWeCAqIG5vcm1hbFggKyBuZXdWeSAqIG5vcm1hbFlcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZG90UHJvZHVjdCA+IDApIHtcbiAgICAgICAgICAgIG5ld1Z4ID0gbmV3VnggLSAxLjIgKiBkb3RQcm9kdWN0ICogbm9ybWFsWFxuICAgICAgICAgICAgbmV3VnkgPSBuZXdWeSAtIDEuMiAqIGRvdFByb2R1Y3QgKiBub3JtYWxZXG4gICAgICAgICAgICBuZXdWeCAqPSAwLjcgIC8vIE1vcmUgZGFtcGluZyBpbiB2ZXN0aWJ1bGUgZm9yIHNldHRsaW5nXG4gICAgICAgICAgICBuZXdWeSAqPSAwLjdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGZvciBkaXNzb2x1dGlvblxuICAgICAgICBpZiAoTWF0aC5hYnMobmV3VngpIDwgMC4xICYmIE1hdGguYWJzKG5ld1Z5KSA8IDAuMSkge1xuICAgICAgICAgIHBhcnRpY2xlLmRpc3NvbHZpbmcgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWlzSW5WYWxpZFNwYWNlKG5ld1gsIG5ld1kpKSB7XG4gICAgICAgIC8vIFB1c2ggcGFydGljbGUgYmFjayB0byB2YWxpZCBzcGFjZSB3aXRoIG1pbmltYWwgZW5lcmd5IGxvc3NcbiAgICAgICAgaWYgKGlzSW5zaWRlUmluZyhwYXJ0aWNsZS54LCBwYXJ0aWNsZS55KSkge1xuICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihuZXdZIC0gQ0VOVEVSX1ksIG5ld1ggLSBDRU5URVJfWClcbiAgICAgICAgICBuZXdYID0gQ0VOVEVSX1ggKyBNYXRoLmNvcyhhbmdsZSkgKiAoT1VURVJfUkFESVVTIC0gcGFydGljbGUucmFkaXVzKVxuICAgICAgICAgIG5ld1kgPSBDRU5URVJfWSArIE1hdGguc2luKGFuZ2xlKSAqIChPVVRFUl9SQURJVVMgLSBwYXJ0aWNsZS5yYWRpdXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKG5ld1kgLSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWSwgbmV3WCAtIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJYKVxuICAgICAgICAgIG5ld1ggPSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWCArIE1hdGguY29zKGFuZ2xlKSAqICh2ZXN0aWJ1bGVDb25maWcucmFkaXVzIC0gcGFydGljbGUucmFkaXVzKVxuICAgICAgICAgIG5ld1kgPSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWSArIE1hdGguc2luKGFuZ2xlKSAqICh2ZXN0aWJ1bGVDb25maWcucmFkaXVzIC0gcGFydGljbGUucmFkaXVzKVxuICAgICAgICB9XG4gICAgICAgIG5ld1Z4ICo9IDAuOCAgLy8gTGVzcyBlbmVyZ3kgbG9zcyB3aGVuIGNvcnJlY3RpbmcgcG9zaXRpb25cbiAgICAgICAgbmV3VnkgKj0gMC44XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGN1cHVsYSBjb2xsaXNpb25cbiAgICAgIGlmIChjaGVja0N1cHVsYUNvbGxpc2lvbihuZXdYLCBuZXdZLCBwYXJ0aWNsZS5yYWRpdXMpICYmICFub3dJblZlc3RpYnVsZSkge1xuICAgICAgICBjb25zdCBjdXB1bGFYID0gQ0VOVEVSX1hcbiAgICAgICAgY29uc3QgY3VwdWxhSGVpZ2h0ID0gVFVCRV9XSURUSCAqIDAuODVcbiAgICAgICAgY29uc3QgY3VwdWxhWSA9IENFTlRFUl9ZICsgT1VURVJfUkFESVVTIC0gY3VwdWxhSGVpZ2h0IC8gMlxuICAgICAgICBjb25zdCBwdXNoQW5nbGUgPSBNYXRoLmF0YW4yKG5ld1kgLSBjdXB1bGFZLCBuZXdYIC0gY3VwdWxhWClcbiAgICAgICAgY29uc3QgcHVzaERpc3RhbmNlID0gcGFydGljbGUucmFkaXVzICsgVFVCRV9XSURUSCAqIDAuNVxuICAgICAgICBuZXdYID0gY3VwdWxhWCArIE1hdGguY29zKHB1c2hBbmdsZSkgKiBwdXNoRGlzdGFuY2VcbiAgICAgICAgbmV3WSA9IGN1cHVsYVkgKyBNYXRoLnNpbihwdXNoQW5nbGUpICogcHVzaERpc3RhbmNlXG4gICAgICAgIFxuICAgICAgICBuZXdWeCAqPSAwLjdcbiAgICAgICAgbmV3VnkgKj0gMC43XG4gICAgICB9XG5cbiAgICAgIC8vIFBhcnRpY2xlLXRvLXBhcnRpY2xlIGNvbGxpc2lvbiAoa2VlcCBleGlzdGluZyBsb2dpYylcbiAgICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50LmZvckVhY2goKG90aGVyUGFydGljbGUsIG90aGVySW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ICE9PSBvdGhlckluZGV4ICYmICFwYXJ0aWNsZS5kaXNzb2x2aW5nICYmICFvdGhlclBhcnRpY2xlLmRpc3NvbHZpbmcpIHtcbiAgICAgICAgICBjb25zdCBkeCA9IG5ld1ggLSBvdGhlclBhcnRpY2xlLnhcbiAgICAgICAgICBjb25zdCBkeSA9IG5ld1kgLSBvdGhlclBhcnRpY2xlLnlcbiAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSlcbiAgICAgICAgICBjb25zdCBtaW5EaXN0YW5jZSA9IHBhcnRpY2xlLnJhZGl1cyArIG90aGVyUGFydGljbGUucmFkaXVzXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UgJiYgZGlzdGFuY2UgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVybGFwID0gbWluRGlzdGFuY2UgLSBkaXN0YW5jZVxuICAgICAgICAgICAgY29uc3Qgc2VwYXJhdGlvblggPSAoZHggLyBkaXN0YW5jZSkgKiAob3ZlcmxhcCAqIDAuNSlcbiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRpb25ZID0gKGR5IC8gZGlzdGFuY2UpICogKG92ZXJsYXAgKiAwLjUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5ld1ggKz0gc2VwYXJhdGlvblhcbiAgICAgICAgICAgIG5ld1kgKz0gc2VwYXJhdGlvbllcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgbm9ybWFsWCA9IGR4IC8gZGlzdGFuY2VcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbFkgPSBkeSAvIGRpc3RhbmNlXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVZlbG9jaXR5WCA9IG5ld1Z4IC0gb3RoZXJQYXJ0aWNsZS52eFxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVWZWxvY2l0eVkgPSBuZXdWeSAtIG90aGVyUGFydGljbGUudnlcbiAgICAgICAgICAgIGNvbnN0IHZlbG9jaXR5QWxvbmdOb3JtYWwgPSByZWxhdGl2ZVZlbG9jaXR5WCAqIG5vcm1hbFggKyByZWxhdGl2ZVZlbG9jaXR5WSAqIG5vcm1hbFlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHZlbG9jaXR5QWxvbmdOb3JtYWwgPiAwKSByZXR1cm5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzdGl0dXRpb24gPSAwLjhcbiAgICAgICAgICAgIGNvbnN0IGltcHVsc2UgPSAtKDEgKyByZXN0aXR1dGlvbikgKiB2ZWxvY2l0eUFsb25nTm9ybWFsIC8gMlxuICAgICAgICAgICAgbmV3VnggKz0gaW1wdWxzZSAqIG5vcm1hbFhcbiAgICAgICAgICAgIG5ld1Z5ICs9IGltcHVsc2UgKiBub3JtYWxZXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBBZGQgbWluaW11bSB2ZWxvY2l0eSB0byBwcmV2ZW50IGNvbXBsZXRlIHN0aWNraW5nXG4gICAgICBjb25zdCBtaW5WZWxvY2l0eSA9IDAuMDFcbiAgICAgIGNvbnN0IGN1cnJlbnRTcGVlZCA9IE1hdGguc3FydChuZXdWeCAqIG5ld1Z4ICsgbmV3VnkgKiBuZXdWeSlcbiAgICAgIGlmIChjdXJyZW50U3BlZWQgPiAwICYmIGN1cnJlbnRTcGVlZCA8IG1pblZlbG9jaXR5ICYmICFwYXJ0aWNsZS5kaXNzb2x2aW5nKSB7XG4gICAgICAgIGNvbnN0IHNwZWVkTXVsdGlwbGllciA9IG1pblZlbG9jaXR5IC8gY3VycmVudFNwZWVkXG4gICAgICAgIG5ld1Z4ICo9IHNwZWVkTXVsdGlwbGllclxuICAgICAgICBuZXdWeSAqPSBzcGVlZE11bHRpcGxpZXJcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucGFydGljbGUsXG4gICAgICAgIHg6IG5ld1gsXG4gICAgICAgIHk6IG5ld1ksXG4gICAgICAgIHZ4OiBuZXdWeCxcbiAgICAgICAgdnk6IG5ld1Z5XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIENoZWNrIGlmIGFsbCBwYXJ0aWNsZXMgYXJlIGluIHZlc3RpYnVsZVxuICAgIGNvbnN0IGFsbFBhcnRpY2xlc0luVmVzdGlidWxlID0gbmV3UGFydGljbGVzLmV2ZXJ5KHAgPT4gcC5pbkFtcHVsbGEpXG4gICAgXG4gICAgaWYgKGFsbFBhcnRpY2xlc0luVmVzdGlidWxlICYmICFlcGxleUNvbXBsZXRlICYmIGN1cnJlbnRBdmF0YXJTdGFnZSA9PT0gNSAmJiAhY29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQpIHtcbiAgICAgIC8vIEFsbCBwYXJ0aWNsZXMgYXJlIGluIHZlc3RpYnVsZSBBTkQgd2UncmUgYXQgZmluYWwgc3RhZ2UgNSAtIHN0YXJ0IGNvbXBsZXRpb24gYW5pbWF0aW9uXG4gICAgICBzdGFydENvbXBsZXRpb25BbmltYXRpb24oKVxuICAgIH1cblxuICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50ID0gbmV3UGFydGljbGVzXG4gICAgc2V0UGFydGljbGVzKG5ld1BhcnRpY2xlcylcbiAgICBcbiAgICAvLyBVcGRhdGUgYXZhdGFyIHN0YWdlIGJhc2VkIG9uIHBhcnRpY2xlIHBvc2l0aW9uc1xuICAgIHVwZGF0ZUF2YXRhclN0YWdlKClcbiAgfSwgW29yaWVudGF0aW9uLCBlcGxleUNvbXBsZXRlLCBzZWxlY3RlZEVhciwgY3VycmVudEF2YXRhclN0YWdlLCBjb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZCwgc3RhcnRDb21wbGV0aW9uQW5pbWF0aW9uXSlcblxuICAvLyBBbmltYXRpb24gbG9vcFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgICB1cGRhdGVQaHlzaWNzKClcbiAgICAgIGRyYXcoKVxuICAgICAgYW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSlcbiAgICB9XG5cbiAgICBpZiAocGVybWlzc2lvbkdyYW50ZWQgJiYgc2VsZWN0ZWRFYXIgJiYgc2VsZWN0ZWRQZXJzcGVjdGl2ZSkge1xuICAgICAgYW5pbWF0ZSgpXG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChhbmltYXRpb25SZWYuY3VycmVudCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25SZWYuY3VycmVudClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1cGRhdGVQaHlzaWNzLCBwZXJtaXNzaW9uR3JhbnRlZCwgc2VsZWN0ZWRFYXIsIHNlbGVjdGVkUGVyc3BlY3RpdmVdKVxuXG4gIC8vIEhhbmRsZSBFcGxleSBDb21wbGV0ZSBjbGlja1xuICBjb25zdCBoYW5kbGVFcGxleUNvbXBsZXRlQ2xpY2sgPSAoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZVBhcnRpY2xlcygpXG4gICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKDEpIC8vIFJlc2V0IGF2YXRhciB0byBzdGFydGluZyBwb3NpdGlvblxuICAgIFxuICAgIC8vIFJlc2V0IGFsbCBhbmltYXRpb24gc3RhdGVzXG4gICAgc2V0Q29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQoZmFsc2UpXG4gICAgc2V0QXZhdGFyT3BhY2l0eSgxLjApXG4gICAgc2V0U3VjY2Vzc09wYWNpdHkoMC4wKVxuICAgIGlmIChjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICAgIFxuICAgIC8vIFJlc2V0IHRyYW5zaXRpb24gYW5pbWF0aW9uIHN0YXRlc1xuICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSlcbiAgICBzZXRQcmV2aW91c0F2YXRhclN0YWdlKDEpXG4gICAgc2V0VHJhbnNpdGlvblByb2dyZXNzKDApXG4gICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgdHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICB9XG4gIH1cblxuICAvLyBEcmF3IGZ1bmN0aW9uXG4gIGNvbnN0IGRyYXcgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnRcbiAgICBpZiAoIWNhbnZhcyB8fCAhc2VsZWN0ZWRFYXIpIHJldHVyblxuXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICBpZiAoIWN0eCkgcmV0dXJuXG5cbiAgICBjb25zdCB2ZXN0aWJ1bGVDb25maWcgPSBnZXRWZXN0aWJ1bGVDb25maWcoKVxuXG4gICAgLy8gQ2xlYXIgY2FudmFzXG4gICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBDQU5WQVNfV0lEVEgsIENBTlZBU19IRUlHSFQpXG5cbiAgICAvLyBEcmF3IG91dGVyIHJpbmcgKGxpZ2h0IGJsdWUgZmx1aWQpXG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjODdDRUVCJ1xuICAgIGN0eC5iZWdpblBhdGgoKVxuICAgIGN0eC5hcmMoQ0VOVEVSX1gsIENFTlRFUl9ZLCBPVVRFUl9SQURJVVMsIDAsIE1hdGguUEkgKiAyKVxuICAgIGN0eC5maWxsKClcblxuICAgIC8vIERyYXcgaW5uZXIgaG9sZSAod2hpdGUpXG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSdcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjdHguYXJjKENFTlRFUl9YLCBDRU5URVJfWSwgSU5ORVJfUkFESVVTLCAwLCBNYXRoLlBJICogMilcbiAgICBjdHguZmlsbCgpXG5cbiAgICAvLyBEcmF3IHZlc3RpYnVsZVxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzg3Q0VFQidcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjdHguYXJjKHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJYLCB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWSwgdmVzdGlidWxlQ29uZmlnLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpXG4gICAgY3R4LmZpbGwoKVxuXG4gICAgLy8gRHJhdyBjb25uZWN0aW9uIGJldHdlZW4gcmluZyBhbmQgdmVzdGlidWxlXG4gICAgY29uc3QgY29ubmVjdGlvblggPSBDRU5URVJfWCArIE1hdGguY29zKHZlc3RpYnVsZUNvbmZpZy5hbmdsZSkgKiBPVVRFUl9SQURJVVNcbiAgICBjb25zdCBjb25uZWN0aW9uWSA9IENFTlRFUl9ZICsgTWF0aC5zaW4odmVzdGlidWxlQ29uZmlnLmFuZ2xlKSAqIE9VVEVSX1JBRElVU1xuICAgIGNvbnN0IGNvbm5lY3Rpb25XaWR0aCA9IDUwICAvLyBJbmNyZWFzZWQgZnJvbSA0MFxuICAgIGNvbnN0IGNvbm5lY3Rpb25IZWlnaHQgPSAzOCAvLyBJbmNyZWFzZWQgZnJvbSAzMFxuICAgIFxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzg3Q0VFQidcbiAgICBjdHguc2F2ZSgpXG4gICAgY3R4LnRyYW5zbGF0ZShjb25uZWN0aW9uWCwgY29ubmVjdGlvblkpXG4gICAgY3R4LnJvdGF0ZSh2ZXN0aWJ1bGVDb25maWcuYW5nbGUpXG4gICAgY3R4LmZpbGxSZWN0KC01LCAtY29ubmVjdGlvbkhlaWdodC8yLCBjb25uZWN0aW9uV2lkdGgsIGNvbm5lY3Rpb25IZWlnaHQpXG4gICAgY3R4LnJlc3RvcmUoKVxuXG4gICAgLy8gRHJhdyByaW5nIGJvcmRlcnNcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzQ2ODJCNCdcbiAgICBjdHgubGluZVdpZHRoID0gMlxuICAgIFxuICAgIC8vIERyYXcgb3V0ZXIgcmluZyBib3JkZXIgaW4gc2VnbWVudHMsIHNraXBwaW5nIHZlc3RpYnVsZSBjb25uZWN0aW9uIGFyZWFcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjb25zdCBjb25uZWN0aW9uU3RhcnRBbmdsZSA9IHZlc3RpYnVsZUNvbmZpZy5hbmdsZSAtIDAuM1xuICAgIGNvbnN0IGNvbm5lY3Rpb25FbmRBbmdsZSA9IHZlc3RpYnVsZUNvbmZpZy5hbmdsZSArIDAuM1xuICAgIGN0eC5hcmMoQ0VOVEVSX1gsIENFTlRFUl9ZLCBPVVRFUl9SQURJVVMsIDAsIGNvbm5lY3Rpb25TdGFydEFuZ2xlKVxuICAgIGN0eC5zdHJva2UoKVxuICAgIFxuICAgIGN0eC5iZWdpblBhdGgoKVxuICAgIGN0eC5hcmMoQ0VOVEVSX1gsIENFTlRFUl9ZLCBPVVRFUl9SQURJVVMsIGNvbm5lY3Rpb25FbmRBbmdsZSwgTWF0aC5QSSAqIDIpXG4gICAgY3R4LnN0cm9rZSgpXG4gICAgXG4gICAgLy8gSW5uZXIgcmluZyBib3JkZXJcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjdHguYXJjKENFTlRFUl9YLCBDRU5URVJfWSwgSU5ORVJfUkFESVVTLCAwLCBNYXRoLlBJICogMilcbiAgICBjdHguc3Ryb2tlKClcblxuICAgIC8vIERyYXcgdmVzdGlidWxlIGJvcmRlclxuICAgIGN0eC5iZWdpblBhdGgoKVxuICAgIGNvbnN0IHJpbmdDb25uZWN0aW9uQW5nbGUgPSBNYXRoLmF0YW4yKGNvbm5lY3Rpb25ZIC0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclksIGNvbm5lY3Rpb25YIC0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclgpXG4gICAgY29uc3Qgc2tpcFN0YXJ0QW5nbGUgPSByaW5nQ29ubmVjdGlvbkFuZ2xlIC0gMC40XG4gICAgY29uc3Qgc2tpcEVuZEFuZ2xlID0gcmluZ0Nvbm5lY3Rpb25BbmdsZSArIDAuNFxuICAgIGN0eC5hcmModmVzdGlidWxlQ29uZmlnLmNlbnRlclgsIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJZLCB2ZXN0aWJ1bGVDb25maWcucmFkaXVzLCBza2lwRW5kQW5nbGUsIHNraXBTdGFydEFuZ2xlICsgTWF0aC5QSSAqIDIpXG4gICAgY3R4LnN0cm9rZSgpXG5cbiAgICAvLyBEcmF3IGN1cHVsYVxuICAgIGNvbnN0IGN1cHVsYVggPSBDRU5URVJfWFxuICAgIGNvbnN0IGN1cHVsYVdpZHRoID0gVFVCRV9XSURUSCAqIDAuN1xuICAgIGNvbnN0IGN1cHVsYUhlaWdodCA9IFRVQkVfV0lEVEggKiAwLjg1XG4gICAgY29uc3QgY3VwdWxhWSA9IENFTlRFUl9ZICsgT1VURVJfUkFESVVTIC0gY3VwdWxhSGVpZ2h0IC8gMlxuICAgIFxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzhCNDUxMydcbiAgICBjdHguZmlsbFJlY3QoXG4gICAgICBjdXB1bGFYIC0gY3VwdWxhV2lkdGggLyAyLFxuICAgICAgY3VwdWxhWSAtIGN1cHVsYUhlaWdodCAvIDIsXG4gICAgICBjdXB1bGFXaWR0aCxcbiAgICAgIGN1cHVsYUhlaWdodFxuICAgIClcbiAgICBcbiAgICAvLyBEcmF3IGhhaXIgc3RydWN0dXJlcyAtIHNjYWxlZCBmb3IgbGFyZ2VyIGN1cHVsYVxuICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNjU0MzIxJ1xuICAgIGN0eC5saW5lV2lkdGggPSAyIC8vIEluY3JlYXNlZCBmcm9tIDEuNSBmb3IgYmV0dGVyIHZpc2liaWxpdHlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHsgLy8gSW5jcmVhc2VkIGZyb20gMTAgaGFpcnNcbiAgICAgIGNvbnN0IGhhaXJYID0gY3VwdWxhWCAtIGN1cHVsYVdpZHRoIC8gMiArIChjdXB1bGFXaWR0aCAvIDExKSAqIGlcbiAgICAgIGN0eC5iZWdpblBhdGgoKVxuICAgICAgY3R4Lm1vdmVUbyhoYWlyWCwgY3VwdWxhWSAtIGN1cHVsYUhlaWdodCAvIDIpXG4gICAgICBjb25zdCBoYWlySGVpZ2h0ID0gNiArIE1hdGguc2luKGkgKiAwLjUpICogMyAvLyBJbmNyZWFzZWQgaGFpciBoZWlnaHRcbiAgICAgIGN0eC5saW5lVG8oaGFpclgsIGN1cHVsYVkgLSBjdXB1bGFIZWlnaHQgLyAyIC0gaGFpckhlaWdodClcbiAgICAgIGN0eC5zdHJva2UoKVxuICAgIH1cblxuICAgIC8vIERyYXcgcGFydGljbGVzXG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjOEEyQkUyJ1xuICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50LmZvckVhY2gocGFydGljbGUgPT4ge1xuICAgICAgaWYgKHBhcnRpY2xlLnJhZGl1cyA+IDApIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICAgIGN0eC5hcmMocGFydGljbGUueCwgcGFydGljbGUueSwgcGFydGljbGUucmFkaXVzLCAwLCBNYXRoLlBJICogMilcbiAgICAgICAgY3R4LmZpbGwoKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBEcmF3IHBlcnNwZWN0aXZlIGF2YXRhcnMgaW4gY2VudGVyIG9mIHJpbmdcbiAgICBpZiAoc2VsZWN0ZWRQZXJzcGVjdGl2ZSAmJiAoc2VsZWN0ZWRQZXJzcGVjdGl2ZSA9PT0gJ2NsaW5pY2lhbicgfHwgc2VsZWN0ZWRQZXJzcGVjdGl2ZSA9PT0gJ3BhdGllbnQnKSkge1xuICAgICAgY29uc3QgbWF4QXZhdGFyU2l6ZSA9IElOTkVSX1JBRElVUyAqIDEuNCAvLyBNYXhpbXVtIHNpemUgdG8gZml0IGluIGNlbnRlclxuICAgICAgXG4gICAgICBpZiAoaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIC8vIER1cmluZyB0cmFuc2l0aW9uLCBkcmF3IGJvdGggcHJldmlvdXMgYW5kIGN1cnJlbnQgYXZhdGFycyB3aXRoIGNyb3NzZmFkZVxuICAgICAgICBjb25zdCBwcmV2aW91c0F2YXRhckltYWdlID0gbmV3IEltYWdlKClcbiAgICAgICAgY29uc3QgY3VycmVudEF2YXRhckltYWdlID0gbmV3IEltYWdlKClcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBwYXRocyBmb3IgYm90aCBhdmF0YXJzXG4gICAgICAgIGNvbnN0IGVhclByZWZpeCA9IHNlbGVjdGVkRWFyID09PSAncmlnaHQnID8gJ1InIDogJ0wnXG4gICAgICAgIGNvbnN0IHBlcnNwZWN0aXZlVHlwZSA9IHNlbGVjdGVkUGVyc3BlY3RpdmUgPT09ICdwYXRpZW50JyA/ICd0cmVhdCcgOiAnZXBsZXknXG4gICAgICAgIFxuICAgICAgICBwcmV2aW91c0F2YXRhckltYWdlLnNyYyA9IGAvYXZhdGFycy8ke2VhclByZWZpeH1fJHtwZXJzcGVjdGl2ZVR5cGV9XyR7cHJldmlvdXNBdmF0YXJTdGFnZX0ucG5nYFxuICAgICAgICBjdXJyZW50QXZhdGFySW1hZ2Uuc3JjID0gYC9hdmF0YXJzLyR7ZWFyUHJlZml4fV8ke3BlcnNwZWN0aXZlVHlwZX1fJHtjdXJyZW50QXZhdGFyU3RhZ2V9LnBuZ2BcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRyYXdUcmFuc2l0aW9uQXZhdGFycyA9ICgpID0+IHtcbiAgICAgICAgICBpZiAocHJldmlvdXNBdmF0YXJJbWFnZS5jb21wbGV0ZSAmJiBjdXJyZW50QXZhdGFySW1hZ2UuY29tcGxldGUgJiYgXG4gICAgICAgICAgICAgIHByZXZpb3VzQXZhdGFySW1hZ2UubmF0dXJhbFdpZHRoID4gMCAmJiBjdXJyZW50QXZhdGFySW1hZ2UubmF0dXJhbFdpZHRoID4gMCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgZGltZW5zaW9ucyBmb3IgYm90aCBhdmF0YXJzXG4gICAgICAgICAgICBjb25zdCBwcmV2QXNwZWN0UmF0aW8gPSBwcmV2aW91c0F2YXRhckltYWdlLm5hdHVyYWxXaWR0aCAvIHByZXZpb3VzQXZhdGFySW1hZ2UubmF0dXJhbEhlaWdodFxuICAgICAgICAgICAgY29uc3QgY3VyckFzcGVjdFJhdGlvID0gY3VycmVudEF2YXRhckltYWdlLm5hdHVyYWxXaWR0aCAvIGN1cnJlbnRBdmF0YXJJbWFnZS5uYXR1cmFsSGVpZ2h0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBwcmV2V2lkdGgsIHByZXZIZWlnaHQsIGN1cnJXaWR0aCwgY3VyckhlaWdodFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBQcmV2aW91cyBhdmF0YXIgZGltZW5zaW9uc1xuICAgICAgICAgICAgaWYgKHByZXZBc3BlY3RSYXRpbyA+IDEpIHtcbiAgICAgICAgICAgICAgcHJldldpZHRoID0gbWF4QXZhdGFyU2l6ZVxuICAgICAgICAgICAgICBwcmV2SGVpZ2h0ID0gbWF4QXZhdGFyU2l6ZSAvIHByZXZBc3BlY3RSYXRpb1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJldkhlaWdodCA9IG1heEF2YXRhclNpemVcbiAgICAgICAgICAgICAgcHJldldpZHRoID0gbWF4QXZhdGFyU2l6ZSAqIHByZXZBc3BlY3RSYXRpb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDdXJyZW50IGF2YXRhciBkaW1lbnNpb25zXG4gICAgICAgICAgICBpZiAoY3VyckFzcGVjdFJhdGlvID4gMSkge1xuICAgICAgICAgICAgICBjdXJyV2lkdGggPSBtYXhBdmF0YXJTaXplXG4gICAgICAgICAgICAgIGN1cnJIZWlnaHQgPSBtYXhBdmF0YXJTaXplIC8gY3VyckFzcGVjdFJhdGlvXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjdXJySGVpZ2h0ID0gbWF4QXZhdGFyU2l6ZVxuICAgICAgICAgICAgICBjdXJyV2lkdGggPSBtYXhBdmF0YXJTaXplICogY3VyckFzcGVjdFJhdGlvXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbnMgd2l0aCBzbGlnaHQgbW92ZW1lbnQgc2ltdWxhdGlvblxuICAgICAgICAgICAgY29uc3QgYmFzZVggPSBDRU5URVJfWFxuICAgICAgICAgICAgY29uc3QgYmFzZVkgPSBDRU5URVJfWVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTaW11bGF0ZSBuYXR1cmFsIGhlYWQvbmVjayBtb3ZlbWVudCBkdXJpbmcgdHJhbnNpdGlvbnNcbiAgICAgICAgICAgIGNvbnN0IG1vdmVtZW50T2Zmc2V0ID0gOCAvLyBwaXhlbHMgb2YgbW92ZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uTW92ZW1lbnQgPSBNYXRoLnNpbih0cmFuc2l0aW9uUHJvZ3Jlc3MgKiBNYXRoLlBJKSAqIG1vdmVtZW50T2Zmc2V0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFByZXZpb3VzIGF2YXRhciBwb3NpdGlvbiAoZmFkaW5nIG91dClcbiAgICAgICAgICAgIGNvbnN0IHByZXZYID0gYmFzZVggLSBwcmV2V2lkdGggLyAyIC0gcm90YXRpb25Nb3ZlbWVudCAqIDAuM1xuICAgICAgICAgICAgY29uc3QgcHJldlkgPSBiYXNlWSAtIHByZXZIZWlnaHQgLyAyXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgYXZhdGFyIHBvc2l0aW9uIChmYWRpbmcgaW4pXG4gICAgICAgICAgICBjb25zdCBjdXJyWCA9IGJhc2VYIC0gY3VycldpZHRoIC8gMiArIHJvdGF0aW9uTW92ZW1lbnQgKiAwLjNcbiAgICAgICAgICAgIGNvbnN0IGN1cnJZID0gYmFzZVkgLSBjdXJySGVpZ2h0IC8gMlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEcmF3IHByZXZpb3VzIGF2YXRhciAoZmFkaW5nIG91dClcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9ICgxIC0gdHJhbnNpdGlvblByb2dyZXNzKSAqIGF2YXRhck9wYWNpdHlcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocHJldmlvdXNBdmF0YXJJbWFnZSwgcHJldlgsIHByZXZZLCBwcmV2V2lkdGgsIHByZXZIZWlnaHQpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERyYXcgY3VycmVudCBhdmF0YXIgKGZhZGluZyBpbilcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRyYW5zaXRpb25Qcm9ncmVzcyAqIGF2YXRhck9wYWNpdHlcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoY3VycmVudEF2YXRhckltYWdlLCBjdXJyWCwgY3VyclksIGN1cnJXaWR0aCwgY3VyckhlaWdodClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMS4wIC8vIFJlc2V0IGFscGhhXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IGltbWVkaWF0ZWx5IGlmIGJvdGggbG9hZGVkLCBvciBzZXQgb25sb2FkIGhhbmRsZXJzXG4gICAgICAgIGlmIChwcmV2aW91c0F2YXRhckltYWdlLmNvbXBsZXRlICYmIGN1cnJlbnRBdmF0YXJJbWFnZS5jb21wbGV0ZSkge1xuICAgICAgICAgIGRyYXdUcmFuc2l0aW9uQXZhdGFycygpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGxvYWRlZENvdW50ID0gMFxuICAgICAgICAgIGNvbnN0IGNoZWNrQm90aExvYWRlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGxvYWRlZENvdW50KytcbiAgICAgICAgICAgIGlmIChsb2FkZWRDb3VudCA9PT0gMikgZHJhd1RyYW5zaXRpb25BdmF0YXJzKClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFwcmV2aW91c0F2YXRhckltYWdlLmNvbXBsZXRlKSBwcmV2aW91c0F2YXRhckltYWdlLm9ubG9hZCA9IGNoZWNrQm90aExvYWRlZFxuICAgICAgICAgIGlmICghY3VycmVudEF2YXRhckltYWdlLmNvbXBsZXRlKSBjdXJyZW50QXZhdGFySW1hZ2Uub25sb2FkID0gY2hlY2tCb3RoTG9hZGVkXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgb25lIGlzIGFscmVhZHkgbG9hZGVkLCBpbmNyZW1lbnQgY291bnRlclxuICAgICAgICAgIGlmIChwcmV2aW91c0F2YXRhckltYWdlLmNvbXBsZXRlKSBsb2FkZWRDb3VudCsrXG4gICAgICAgICAgaWYgKGN1cnJlbnRBdmF0YXJJbWFnZS5jb21wbGV0ZSkgbG9hZGVkQ291bnQrK1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChsb2FkZWRDb3VudCA9PT0gMikgZHJhd1RyYW5zaXRpb25BdmF0YXJzKClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm9ybWFsIGRyYXdpbmcgKG5vIHRyYW5zaXRpb24pXG4gICAgICAgIGNvbnN0IGF2YXRhckltYWdlID0gbmV3IEltYWdlKClcbiAgICAgICAgYXZhdGFySW1hZ2Uuc3JjID0gZ2V0QXZhdGFySW1hZ2VQYXRoKClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRyYXdBdmF0YXIgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKGF2YXRhckltYWdlLmNvbXBsZXRlICYmIGF2YXRhckltYWdlLm5hdHVyYWxXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBhc3BlY3QgcmF0aW8gdG8gbWFpbnRhaW4gb3JpZ2luYWwgcHJvcG9ydGlvbnNcbiAgICAgICAgICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gYXZhdGFySW1hZ2UubmF0dXJhbFdpZHRoIC8gYXZhdGFySW1hZ2UubmF0dXJhbEhlaWdodFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgYXZhdGFyV2lkdGgsIGF2YXRhckhlaWdodFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoYXNwZWN0UmF0aW8gPiAxKSB7XG4gICAgICAgICAgICAgIC8vIFdpZGVyIHRoYW4gdGFsbCAtIGNvbnN0cmFpbiBieSB3aWR0aFxuICAgICAgICAgICAgICBhdmF0YXJXaWR0aCA9IG1heEF2YXRhclNpemVcbiAgICAgICAgICAgICAgYXZhdGFySGVpZ2h0ID0gbWF4QXZhdGFyU2l6ZSAvIGFzcGVjdFJhdGlvXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUYWxsZXIgdGhhbiB3aWRlIC0gY29uc3RyYWluIGJ5IGhlaWdodFxuICAgICAgICAgICAgICBhdmF0YXJIZWlnaHQgPSBtYXhBdmF0YXJTaXplXG4gICAgICAgICAgICAgIGF2YXRhcldpZHRoID0gbWF4QXZhdGFyU2l6ZSAqIGFzcGVjdFJhdGlvXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGF2YXRhclggPSBDRU5URVJfWCAtIGF2YXRhcldpZHRoIC8gMlxuICAgICAgICAgICAgY29uc3QgYXZhdGFyWSA9IENFTlRFUl9ZIC0gYXZhdGFySGVpZ2h0IC8gMlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBcHBseSBvcGFjaXR5IGZvciBmYWRlLW91dCBhbmltYXRpb25cbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGF2YXRhck9wYWNpdHlcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYXZhdGFySW1hZ2UsIGF2YXRhclgsIGF2YXRhclksIGF2YXRhcldpZHRoLCBhdmF0YXJIZWlnaHQpXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxLjAgLy8gUmVzZXQgYWxwaGFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIERyYXcgaW1tZWRpYXRlbHkgaWYgYWxyZWFkeSBsb2FkZWQsIG9yIHNldCBvbmxvYWQgaGFuZGxlclxuICAgICAgICBpZiAoYXZhdGFySW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICBkcmF3QXZhdGFyKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdmF0YXJJbWFnZS5vbmxvYWQgPSBkcmF3QXZhdGFyXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEcmF3IFwiRXBsZXkgQ29tcGxldGVcIiBzdWNjZXNzIGluZGljYXRvclxuICAgIGlmIChlcGxleUNvbXBsZXRlKSB7XG4gICAgICAvLyBBcHBseSBvcGFjaXR5IGZvciBmYWRlLWluIGFuaW1hdGlvblxuICAgICAgY3R4Lmdsb2JhbEFscGhhID0gc3VjY2Vzc09wYWNpdHlcbiAgICAgIFxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMTBCOTgxJ1xuICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICBjdHguYXJjKENFTlRFUl9YLCBDRU5URVJfWSwgMjUsIDAsIE1hdGguUEkgKiAyKVxuICAgICAgY3R4LmZpbGwoKVxuICAgICAgXG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnd2hpdGUnXG4gICAgICBjdHgubGluZVdpZHRoID0gM1xuICAgICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgICBjdHgubW92ZVRvKENFTlRFUl9YIC0gMTAsIENFTlRFUl9ZKVxuICAgICAgY3R4LmxpbmVUbyhDRU5URVJfWCAtIDMsIENFTlRFUl9ZICsgNylcbiAgICAgIGN0eC5saW5lVG8oQ0VOVEVSX1ggKyAxMCwgQ0VOVEVSX1kgLSA3KVxuICAgICAgY3R4LnN0cm9rZSgpXG4gICAgICBcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzEwQjk4MSdcbiAgICAgIGN0eC5mb250ID0gJzEycHggQXJpYWwnXG4gICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcidcbiAgICAgIGN0eC5maWxsVGV4dCgnRXBsZXkgQ29tcGxldGUnLCBDRU5URVJfWCwgQ0VOVEVSX1kgKyA0NSlcbiAgICAgIGN0eC5maWxsVGV4dCgnVGFwIHRvIFJlc2V0JywgQ0VOVEVSX1gsIENFTlRFUl9ZICsgNjApXG4gICAgICBcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDEuMCAvLyBSZXNldCBhbHBoYVxuICAgIH1cblxuICAgIC8vIERyYXcgbGFiZWxzXG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjMzMzJ1xuICAgIGN0eC5mb250ID0gJzE0cHggQXJpYWwnXG4gICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInXG4gICAgY3R4LmZpbGxUZXh0KGAke3NlbGVjdGVkRWFyID09PSAnbGVmdCcgPyAnTGVmdCcgOiAnUmlnaHQnfSBTZW1pY2lyY3VsYXIgQ2FuYWxgLCBDRU5URVJfWCwgQ0VOVEVSX1kgLSBPVVRFUl9SQURJVVMgLSAyMClcbiAgICBjdHguZmlsbFRleHQoJ0N1cHVsYScsIGN1cHVsYVgsIGN1cHVsYVkgKyBjdXB1bGFIZWlnaHQgLyAyICsgMjApXG4gICAgY3R4LmZpbGxUZXh0KCdWZXN0aWJ1bGUnLCB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWCwgdmVzdGlidWxlQ29uZmlnLmNlbnRlclkgKyB2ZXN0aWJ1bGVDb25maWcucmFkaXVzICsgMTUpXG4gICAgXG4gICAgLy8gRGVidWc6IFNob3cgb3JpZW50YXRpb24gdmFsdWVzIGZvciBsb2NhbCBkZXZlbG9wbWVudFxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzY2NidcbiAgICBjdHguZm9udCA9ICcxMnB4IEFyaWFsJ1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnbGVmdCdcbiAgICBjdHguZmlsbFRleHQoYM6yOiAke29yaWVudGF0aW9uLmJldGEudG9GaXhlZCgxKX3CsGAsIDEwLCAzMClcbiAgICBjdHguZmlsbFRleHQoYM6zOiAke29yaWVudGF0aW9uLmdhbW1hLnRvRml4ZWQoMSl9wrBgLCAxMCwgNTApXG4gICAgY3R4LmZpbGxUZXh0KGBQZXJtaXNzaW9uOiAke3Blcm1pc3Npb25HcmFudGVkID8gJ1llcycgOiAnTm8nfWAsIDEwLCA3MClcbiAgfVxuXG4gIC8vIEhhbmRsZSBjYW52YXMgY2xpY2sgZm9yIEVwbGV5IENvbXBsZXRlIHJlc2V0XG4gIGNvbnN0IGhhbmRsZUNhbnZhc0NsaWNrID0gKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxDYW52YXNFbGVtZW50PikgPT4ge1xuICAgIGlmICghZXBsZXlDb21wbGV0ZSkgcmV0dXJuXG4gICAgXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnRcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXG4gICAgXG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGNvbnN0IGNsaWNrWCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnRcbiAgICBjb25zdCBjbGlja1kgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3BcbiAgICBcbiAgICBjb25zdCBkaXN0RnJvbUNlbnRlciA9IE1hdGguc3FydCgoY2xpY2tYIC0gQ0VOVEVSX1gpICoqIDIgKyAoY2xpY2tZIC0gQ0VOVEVSX1kpICoqIDIpXG4gICAgaWYgKGRpc3RGcm9tQ2VudGVyIDw9IDI1KSB7XG4gICAgICBoYW5kbGVFcGxleUNvbXBsZXRlQ2xpY2soKVxuICAgIH1cbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgcGFydGljbGVzIHdoZW4gZWFyIGFuZCBwZXJzcGVjdGl2ZSBhcmUgc2VsZWN0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRFYXIgJiYgc2VsZWN0ZWRQZXJzcGVjdGl2ZSkge1xuICAgICAgaW5pdGlhbGl6ZVBhcnRpY2xlcygpXG4gICAgfVxuICB9LCBbc2VsZWN0ZWRFYXIsIHNlbGVjdGVkUGVyc3BlY3RpdmUsIGluaXRpYWxpemVQYXJ0aWNsZXNdKVxuXG4gIC8vIENsZWFudXAgY29tcGxldGlvbiB0aW1lb3V0IG9uIHVubW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICB9XG4gICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hpY2ggYnJhY2tldCBhIHBhcnRpY2xlIGlzIGluXG4gIGZ1bmN0aW9uIGdldFBhcnRpY2xlQnJhY2tldChwYXJ0aWNsZTogUGFydGljbGUpOiBzdHJpbmcge1xuICAgIGNvbnN0IGR4ID0gcGFydGljbGUueCAtIENFTlRFUl9YXG4gICAgY29uc3QgZHkgPSBwYXJ0aWNsZS55IC0gQ0VOVEVSX1lcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoZHksIGR4KVxuICAgIGxldCBkZWdyZWVzID0gKGFuZ2xlICogMTgwKSAvIE1hdGguUElcbiAgICBpZiAoZGVncmVlcyA8IDApIGRlZ3JlZXMgKz0gMzYwXG5cbiAgICBpZiAoc2VsZWN0ZWRFYXIgPT09ICdyaWdodCcpIHtcbiAgICAgIC8vIFJpZ2h0IGVhciBicmFja2V0cyAob3JpZ2luYWwgbG9naWMpXG4gICAgICAvLyBSZWQgYnJhY2tldDogU3RhcnRpbmcgcG9zaXRpb24gKDMtNiBvJ2Nsb2NrKSAtIHdoZXJlIHBhcnRpY2xlcyBzcGF3biBmb3IgcmlnaHQgZWFyXG4gICAgICBpZiAoZGVncmVlcyA+PSA5MCAmJiBkZWdyZWVzIDwgMTgwKSByZXR1cm4gJ3JlZCdcbiAgICAgIC8vIFllbGxvdyBicmFja2V0OiBNb3ZpbmcgdG93YXJkIDYtOSBvJ2Nsb2NrIChsZWZ0IHNpZGUgb2YgY2FuYWwpXG4gICAgICBpZiAoZGVncmVlcyA+PSAxODAgJiYgZGVncmVlcyA8IDIyNSkgcmV0dXJuICd5ZWxsb3cnXG4gICAgICAvLyBCbHVlIGJyYWNrZXQ6IDktMTIgbydjbG9jayAodG9wIG9mIGNhbmFsKVxuICAgICAgaWYgKGRlZ3JlZXMgPj0gMjI1ICYmIGRlZ3JlZXMgPCAzMTUpIHJldHVybiAnYmx1ZSdcbiAgICAgIC8vIE9yYW5nZSBicmFja2V0OiAxMi0zIG8nY2xvY2sgKHJpZ2h0IHNpZGUsIGFwcHJvYWNoaW5nIHZlc3RpYnVsZSlcbiAgICAgIGlmIChkZWdyZWVzID49IDMxNSB8fCBkZWdyZWVzIDwgNDUpIHJldHVybiAnb3JhbmdlJ1xuICAgICAgLy8gR3JlZW4gYnJhY2tldDogRmluYWwgdmVzdGlidWxlIHBvc2l0aW9uIChuZWFyIGNvbm5lY3Rpb24gcG9pbnQpXG4gICAgICBpZiAoZGVncmVlcyA+PSA0NSAmJiBkZWdyZWVzIDwgOTApIHJldHVybiAnZ3JlZW4nXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExlZnQgZWFyIGJyYWNrZXRzIChtaXJyb3JlZCBhY3Jvc3MgWS1heGlzKVxuICAgICAgLy8gUmVkIGJyYWNrZXQ6IFN0YXJ0aW5nIHBvc2l0aW9uICgxMi0zIG8nY2xvY2spIC0gd2hlcmUgcGFydGljbGVzIHNwYXduIGZvciBsZWZ0IGVhclxuICAgICAgaWYgKGRlZ3JlZXMgPj0gMCAmJiBkZWdyZWVzIDwgOTApIHJldHVybiAncmVkJ1xuICAgICAgLy8gWWVsbG93IGJyYWNrZXQ6IE1vdmluZyB0b3dhcmQgMTA6MzAtMTIgbydjbG9jayAocmlnaHQgc2lkZSBvZiBjYW5hbClcbiAgICAgIGlmIChkZWdyZWVzID49IDMxNSAmJiBkZWdyZWVzIDwgMzYwKSByZXR1cm4gJ3llbGxvdydcbiAgICAgIC8vIEJsdWUgYnJhY2tldDogNzozMC0xMDozMCBvJ2Nsb2NrICh0b3Agb2YgY2FuYWwpIC0gc2FtZSBhcyByaWdodCBlYXJcbiAgICAgIGlmIChkZWdyZWVzID49IDIyNSAmJiBkZWdyZWVzIDwgMzE1KSByZXR1cm4gJ2JsdWUnXG4gICAgICAvLyBPcmFuZ2UgYnJhY2tldDogNDozMC03OjMwIG8nY2xvY2sgKGxlZnQgc2lkZSwgYXBwcm9hY2hpbmcgdmVzdGlidWxlKVxuICAgICAgaWYgKGRlZ3JlZXMgPj0gMTM1ICYmIGRlZ3JlZXMgPCAyMjUpIHJldHVybiAnb3JhbmdlJ1xuICAgICAgLy8gR3JlZW4gYnJhY2tldDogRmluYWwgdmVzdGlidWxlIHBvc2l0aW9uICgzLTQ6MzAgbydjbG9jaylcbiAgICAgIGlmIChkZWdyZWVzID49IDkwICYmIGRlZ3JlZXMgPCAxMzUpIHJldHVybiAnZ3JlZW4nXG4gICAgfVxuICAgIFxuICAgIHJldHVybiAncmVkJyAvLyBkZWZhdWx0IHRvIHN0YXJ0aW5nIHBvc2l0aW9uXG4gIH1cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGF2YXRhciBpbWFnZSBwYXRoXG4gIGZ1bmN0aW9uIGdldEF2YXRhckltYWdlUGF0aCgpOiBzdHJpbmcge1xuICAgIGlmICghc2VsZWN0ZWRFYXIgfHwgIXNlbGVjdGVkUGVyc3BlY3RpdmUpIHJldHVybiAnJ1xuICAgIFxuICAgIGNvbnN0IGVhclByZWZpeCA9IHNlbGVjdGVkRWFyID09PSAncmlnaHQnID8gJ1InIDogJ0wnXG4gICAgY29uc3QgcGVyc3BlY3RpdmVUeXBlID0gc2VsZWN0ZWRQZXJzcGVjdGl2ZSA9PT0gJ3BhdGllbnQnID8gJ3RyZWF0JyA6ICdlcGxleSdcbiAgICBcbiAgICByZXR1cm4gYC9hdmF0YXJzLyR7ZWFyUHJlZml4fV8ke3BlcnNwZWN0aXZlVHlwZX1fJHtjdXJyZW50QXZhdGFyU3RhZ2V9LnBuZ2BcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgc3RhZ2UgZGVzY3JpcHRpb25cbiAgZnVuY3Rpb24gZ2V0U3RhZ2VEZXNjcmlwdGlvbigpOiBzdHJpbmcge1xuICAgIGlmIChzZWxlY3RlZEVhciA9PT0gJ2xlZnQnKSB7XG4gICAgICAvLyBMZWZ0IGVhciBFcGxleSBtYW5ldXZlciBpbnN0cnVjdGlvbnNcbiAgICAgIHN3aXRjaCAoY3VycmVudEF2YXRhclN0YWdlKSB7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuICdTZWF0ZWQgSGVhZCBMZWZ0J1xuICAgICAgICBjYXNlIDI6IHJldHVybiAnU3VwaW5lIEhlYWQgTGVmdCBOZWNrIEV4dGVuZGVkJ1xuICAgICAgICBjYXNlIDM6IHJldHVybiAnU3VwaW5lIEhlYWQgUmlnaHQgTmVjayBFeHRlbmRlZCdcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gJ1JpZ2h0IFNpZGVseWluZyBIZWFkIFJpZ2h0IGFuZCBDaGluIFR1Y2tlZCdcbiAgICAgICAgY2FzZSA1OiByZXR1cm4gJ1NlYXRlZCB3aXRoIENoaW4gVHVja2VkJ1xuICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ1NlYXRlZCBIZWFkIExlZnQnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJpZ2h0IGVhciBFcGxleSBtYW5ldXZlciBpbnN0cnVjdGlvbnMgKG9yaWdpbmFsKVxuICAgICAgc3dpdGNoIChjdXJyZW50QXZhdGFyU3RhZ2UpIHtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gJ1NlYXRlZCBIZWFkIFJpZ2h0J1xuICAgICAgICBjYXNlIDI6IHJldHVybiAnU3VwaW5lIEhlYWQgUmlnaHQgTmVjayBFeHRlbmRlZCdcbiAgICAgICAgY2FzZSAzOiByZXR1cm4gJ1N1cGluZSBIZWFkIExlZnQgTmVjayBFeHRlbmRlZCdcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gJ0xlZnQgU2lkZWx5aW5nIEhlYWQgTGVmdCBhbmQgQ2hpbiBUdWNrZWQnXG4gICAgICAgIGNhc2UgNTogcmV0dXJuICdTZWF0ZWQgd2l0aCBDaGluIFR1Y2tlZCdcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuICdTZWF0ZWQgSGVhZCBSaWdodCdcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgYXZhdGFyIHN0YWdlIGJhc2VkIG9uIHBhcnRpY2xlIHBvc2l0aW9uc1xuICBmdW5jdGlvbiB1cGRhdGVBdmF0YXJTdGFnZSgpIHtcbiAgICBpZiAocGFydGljbGVzUmVmLmN1cnJlbnQubGVuZ3RoIDwgMikgcmV0dXJuXG5cbiAgICAvLyBDb3VudCBwYXJ0aWNsZXMgaW4gZWFjaCBicmFja2V0XG4gICAgY29uc3QgYnJhY2tldENvdW50cyA9IHsgcmVkOiAwLCB5ZWxsb3c6IDAsIGJsdWU6IDAsIG9yYW5nZTogMCwgZ3JlZW46IDAgfVxuICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50LmZvckVhY2gocGFydGljbGUgPT4ge1xuICAgICAgY29uc3QgYnJhY2tldCA9IGdldFBhcnRpY2xlQnJhY2tldChwYXJ0aWNsZSlcbiAgICAgIGJyYWNrZXRDb3VudHNbYnJhY2tldCBhcyBrZXlvZiB0eXBlb2YgYnJhY2tldENvdW50c10rK1xuICAgIH0pXG5cbiAgICAvLyBGaW5kIHRoZSBicmFja2V0IHdpdGggYXQgbGVhc3QgMiBwYXJ0aWNsZXMgKDUwJSB0aHJlc2hvbGQgaW5zdGVhZCBvZiBtYWpvcml0eSlcbiAgICBsZXQgdGFyZ2V0QnJhY2tldCA9ICdyZWQnIC8vIGRlZmF1bHRcbiAgICBmb3IgKGNvbnN0IFticmFja2V0LCBjb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoYnJhY2tldENvdW50cykpIHtcbiAgICAgIGlmIChjb3VudCA+PSAyKSB7XG4gICAgICAgIHRhcmdldEJyYWNrZXQgPSBicmFja2V0XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFwIGJyYWNrZXRzIHRvIGF2YXRhciBzdGFnZXMgKG9ubHkgbW92ZSBmb3J3YXJkKVxuICAgIGNvbnN0IGJyYWNrZXRUb1N0YWdlOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICAgICAgcmVkOiAxLCAgICAvLyBTdGFnZSAxXG4gICAgICB5ZWxsb3c6IDIsIC8vIFN0YWdlIDJcbiAgICAgIGJsdWU6IDMsICAgLy8gU3RhZ2UgM1xuICAgICAgb3JhbmdlOiA0LCAvLyBTdGFnZSA0XG4gICAgICBncmVlbjogNSAgIC8vIFN0YWdlIDVcbiAgICB9XG5cbiAgICBjb25zdCBuZXdTdGFnZSA9IGJyYWNrZXRUb1N0YWdlW3RhcmdldEJyYWNrZXRdXG4gICAgXG4gICAgaWYgKG5ld1N0YWdlID4gY3VycmVudEF2YXRhclN0YWdlKSB7XG4gICAgICBzdGFydEF2YXRhclRyYW5zaXRpb24obmV3U3RhZ2UpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcidcbiAgICB9fT5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBwYWRkaW5nOiAnMjBweCcsXG4gICAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCAjZTJlOGYwJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnXG4gICAgICB9fT5cbiAgICAgICAgPGgyIHN0eWxlPXt7IG1hcmdpbjogMCwgZm9udFNpemU6ICcxLjJyZW0nLCBmb250V2VpZ2h0OiAnNjAwJyB9fT5cbiAgICAgICAgICDwn46vIFBvY2tldCBFcGxleSBUcmFpbmVyXG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICBwYWRkaW5nOiAnOHB4IDE2cHgnLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAjZDFkNWRiJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNYWluIGNvbnRlbnQgKi99XG4gICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICBtYXJnaW5Ub3A6ICc3MHB4JywgIC8vIFJlZHVjZWQgZnJvbSA4MHB4XG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzE1cHgnLCAvLyBSZWR1Y2VkIGZyb20gMjBweFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgZ2FwOiAnMTJweCcsICAvLyBSZWR1Y2VkIGZyb20gMTVweFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBtYXhXaWR0aDogJzUwMHB4JyxcbiAgICAgICAgcGFkZGluZzogJzAgMTVweCcsICAvLyBSZWR1Y2VkIGZyb20gMjBweFxuICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgbWF4SGVpZ2h0OiAnY2FsYygxMDB2aCAtIDEwMHB4KScgIC8vIEFkanVzdGVkIGZvciBzbWFsbGVyIGhlYWRlciBtYXJnaW5cbiAgICAgIH19PlxuICAgICAgICB7LyogRWFyIFNlbGVjdGlvbiBTY3JlZW4gKi99XG4gICAgICAgIHshc2VsZWN0ZWRFYXIgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzQwcHggMjBweCcgfX0+XG4gICAgICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMTBweCcgfX0+U2VsZWN0IEVhciBmb3IgVHJhaW5pbmc8L2gzPlxuICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMzBweCcsIGNvbG9yOiAnIzY2NicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgIENob29zZSB3aGljaCBlYXIgeW91IHdhbnQgdG8gcHJhY3RpY2UgdGhlIEVwbGV5IG1hbmV1dmVyIG9uXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnMjBweCcsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkRWFyKCdsZWZ0Jyl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4IDMwcHgnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTJweCcsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggc29saWQgIzM3NDE1MScsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyMzNzQxNTEnLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxNXB4IHJnYmEoNTUsIDY1LCA4MSwgMC4xKScsXG4gICAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzE0MHB4JyxcbiAgICAgICAgICAgICAgICAgIG9yZGVyOiAxLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBMZWZ0IEVhcjxici8+XG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6ICcxMnB4Jywgb3BhY2l0eTogMC43IH19PkVwbGV5IE1hbmV1dmVyPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkRWFyKCdyaWdodCcpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCAzMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICMzNzQxNTEnLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMzc0MTUxJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggMTVweCByZ2JhKDU1LCA2NSwgODEsIDAuMSknLFxuICAgICAgICAgICAgICAgICAgbWluV2lkdGg6ICcxNDBweCcsXG4gICAgICAgICAgICAgICAgICBvcmRlcjogMixcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgUmlnaHQgRWFyPGJyLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogJzEycHgnLCBvcGFjaXR5OiAwLjcgfX0+RXBsZXkgTWFuZXV2ZXI8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFBlcnNwZWN0aXZlIFNlbGVjdGlvbiBTY3JlZW4gKi99XG4gICAgICAgIHtzZWxlY3RlZEVhciAmJiAhc2VsZWN0ZWRQZXJzcGVjdGl2ZSAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnNDBweCAyMHB4JyB9fT5cbiAgICAgICAgICAgIDxoMyBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcxMHB4JyB9fT5TZWxlY3QgVHJhaW5pbmcgUGVyc3BlY3RpdmU8L2gzPlxuICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMzBweCcsIGNvbG9yOiAnIzY2NicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgIENob29zZSB5b3VyIGxlYXJuaW5nIHBlcnNwZWN0aXZlIGZvciB0aGUge3NlbGVjdGVkRWFyfSBlYXIgRXBsZXkgbWFuZXV2ZXJcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICcyMHB4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBmbGV4V3JhcDogJ3dyYXAnIH19PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRQZXJzcGVjdGl2ZSgncGF0aWVudCcpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCAzMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICM2NjdlZWEnLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICcjNjY3ZWVhJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggMTVweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMSknLFxuICAgICAgICAgICAgICAgICAgbWluV2lkdGg6ICcxNDBweCcsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFBhdGllbnQgUGVyc3BlY3RpdmU8YnIvPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAnMTJweCcsIG9wYWNpdHk6IDAuNyB9fT5XaGF0IHlvdSBmZWVsPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkUGVyc3BlY3RpdmUoJ2NsaW5pY2lhbicpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCAzMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICMxMGI5ODEnLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMTBiOTgxJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggMTVweCByZ2JhKDE2LCAxODUsIDEyOSwgMC4xKScsXG4gICAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzE0MHB4JyxcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2xpbmljaWFuIFBlcnNwZWN0aXZlPGJyLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogJzEycHgnLCBvcGFjaXR5OiAwLjcgfX0+V2hhdCB0aGV5IHNlZTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRWFyKG51bGwpXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQZXJzcGVjdGl2ZShudWxsKVxuICAgICAgICAgICAgICAgIHNldEVwbGV5Q29tcGxldGUoZmFsc2UpXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKDEpIC8vIFJlc2V0IGF2YXRhciBzdGFnZVxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJlc2V0IG9yaWVudGF0aW9uIHNldHVwIC0ga2VlcCBpdCBmb3Igc3dpdGNoaW5nIGVhcnNcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBjb21wbGV0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIHNldENvbXBsZXRpb25BbmltYXRpb25TdGFydGVkKGZhbHNlKVxuICAgICAgICAgICAgICAgIHNldEF2YXRhck9wYWNpdHkoMS4wKVxuICAgICAgICAgICAgICAgIHNldFN1Y2Nlc3NPcGFjaXR5KDAuMClcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICBjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0cmFuc2l0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSlcbiAgICAgICAgICAgICAgICBzZXRQcmV2aW91c0F2YXRhclN0YWdlKDEpXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvblByb2dyZXNzKDApXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMjBweCcsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHggMjBweCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2QxZDVkYicsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzY2NicsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDihpAgQmFjayB0byBFYXIgU2VsZWN0aW9uXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogT3JpZW50YXRpb24gTG9jayBQcm9tcHQgLSBPbmx5IHNob3cgaWYgb3JpZW50YXRpb24gc2V0dXAgbm90IGNvbXBsZXRlICovfVxuICAgICAgICB7c2VsZWN0ZWRFYXIgJiYgc2VsZWN0ZWRQZXJzcGVjdGl2ZSAmJiBvcmllbnRhdGlvbkxvY2tQcm9tcHRlZCAmJiAhb3JpZW50YXRpb25TZXR1cENvbXBsZXRlICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICc0MHB4IDIwcHgnIH19PlxuICAgICAgICAgICAgPGgzPvCfk7EgTG9jayBTY3JlZW4gUm90YXRpb248L2gzPlxuICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMjBweCcsIGNvbG9yOiAnIzY2NicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgIEZvciB0aGUgYmVzdCB0cmFpbmluZyBleHBlcmllbmNlLCBwbGVhc2UgbG9jayB5b3VyIGRldmljZSB0byBwb3J0cmFpdCBtb2RlOlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y4ZjlmYScsIFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsIFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLCBcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMjBweCcsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgPHN0cm9uZz5pT1M6PC9zdHJvbmc+IFN3aXBlIGRvd24gZnJvbSB0b3AtcmlnaHQg4oaSIFRhcCByb3RhdGlvbiBsb2NrIGljb248YnIvPlxuICAgICAgICAgICAgICA8c3Ryb25nPkFuZHJvaWQ6PC9zdHJvbmc+IFN3aXBlIGRvd24gZnJvbSB0b3Ag4oaSIFRhcCBhdXRvLXJvdGF0ZSB0byBkaXNhYmxlXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlT3JpZW50YXRpb25Mb2NrQWNrfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDI0cHgnLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzY2N2VlYScsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxNXB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KSdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ29udGludWUgdG8gVHJhaW5pbmdcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBPcmllbnRhdGlvbiBQZXJtaXNzaW9uIFNjcmVlbiAtIE9ubHkgc2hvdyBpZiBvcmllbnRhdGlvbiBzZXR1cCBub3QgY29tcGxldGUgKi99XG4gICAgICAgIHtzZWxlY3RlZEVhciAmJiBzZWxlY3RlZFBlcnNwZWN0aXZlICYmICFvcmllbnRhdGlvbkxvY2tQcm9tcHRlZCAmJiAhcGVybWlzc2lvbkdyYW50ZWQgJiYgIW9yaWVudGF0aW9uU2V0dXBDb21wbGV0ZSAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnNDBweCAyMHB4JyB9fT5cbiAgICAgICAgICAgIDxoMz7wn5OyIEVuYWJsZSBEZXZpY2UgT3JpZW50YXRpb248L2gzPlxuICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMjBweCcsIGNvbG9yOiAnIzY2NicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgIFRpbHQgeW91ciBkZXZpY2UgdG8gbW92ZSB0aGUgcGFydGljbGVzIHRocm91Z2ggdGhlIHtzZWxlY3RlZEVhcn0gZWFyIGNhbmFsLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtyZXF1ZXN0T3JpZW50YXRpb25QZXJtaXNzaW9ufVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDI0cHgnLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzY2N2VlYScsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxNXB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KSdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRW5hYmxlIE9yaWVudGF0aW9uXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogU2ltdWxhdGlvbiBDYW52YXMgLSBTaG93IGlmIGVhciBhbmQgcGVyc3BlY3RpdmUgc2VsZWN0ZWQgYW5kIChwZXJtaXNzaW9uIGdyYW50ZWQgT1Igb3JpZW50YXRpb24gc2V0dXAgY29tcGxldGUpICovfVxuICAgICAgICB7c2VsZWN0ZWRFYXIgJiYgc2VsZWN0ZWRQZXJzcGVjdGl2ZSAmJiAocGVybWlzc2lvbkdyYW50ZWQgfHwgb3JpZW50YXRpb25TZXR1cENvbXBsZXRlKSAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIHsvKiBDbGluaWNpYW4gUGVyc3BlY3RpdmUgSW5zdHJ1Y3Rpb25zIChhYm92ZSBjYW52YXMpICovfVxuICAgICAgICAgICAge3NlbGVjdGVkUGVyc3BlY3RpdmUgPT09ICdjbGluaWNpYW4nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyMzMzMnLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDJweCAwJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICBTdGFnZSB7Y3VycmVudEF2YXRhclN0YWdlfS81OiB7Z2V0U3RhZ2VEZXNjcmlwdGlvbigpfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogUGF0aWVudCBQZXJzcGVjdGl2ZSBJbnN0cnVjdGlvbnMgKGFib3ZlIGNhbnZhcykgKi99XG4gICAgICAgICAgICB7c2VsZWN0ZWRQZXJzcGVjdGl2ZSA9PT0gJ3BhdGllbnQnICYmIChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyMzMzMnLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDJweCAwJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICBTdGFnZSB7Y3VycmVudEF2YXRhclN0YWdlfS81OiB7Z2V0U3RhZ2VEZXNjcmlwdGlvbigpfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8Y2FudmFzXG4gICAgICAgICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICAgICAgICB3aWR0aD17Q0FOVkFTX1dJRFRIfVxuICAgICAgICAgICAgICBoZWlnaHQ9e0NBTlZBU19IRUlHSFR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbnZhc0NsaWNrfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjZGRkJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IGVwbGV5Q29tcGxldGUgPyAncG9pbnRlcicgOiAnZGVmYXVsdCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgbWF4V2lkdGg6ICczNTBweCcgfX0+XG4gICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzY2NicsIG1hcmdpbkJvdHRvbTogJzEwcHgnIH19PlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+e3NlbGVjdGVkRWFyID09PSAnbGVmdCcgPyAnTGVmdCcgOiAnUmlnaHQnfSBFYXIgRXBsZXkgVHJhaW5pbmc6PC9zdHJvbmc+PGJyLz5cbiAgICAgICAgICAgICAgICBUaWx0IHlvdXIgZGV2aWNlIHRvIGd1aWRlIHBhcnRpY2xlcyBpbnRvIHRoZSB2ZXN0aWJ1bGUuIFxuICAgICAgICAgICAgICAgIENvbXBsZXRlIHRoZSBtYW5ldXZlciBieSBnZXR0aW5nIGFsbCBwYXJ0aWNsZXMgdG8gZGlzc29sdmUgaW4gdGhlIHZlc3RpYnVsZSBjaGFtYmVyLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnMTBweCcsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbml0aWFsaXplUGFydGljbGVzfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHggMjBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMTBiOTgxJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBSZXNldCBQYXJ0aWNsZXNcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRWFyKG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUGVyc3BlY3RpdmUobnVsbClcbiAgICAgICAgICAgICAgICAgICAgc2V0RXBsZXlDb21wbGV0ZShmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKDEpIC8vIFJlc2V0IGF2YXRhciBzdGFnZVxuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZXNldCBvcmllbnRhdGlvbiBzZXR1cCAtIGtlZXAgaXQgZm9yIHN3aXRjaGluZyBlYXJzXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBjb21wbGV0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICBzZXRDb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZChmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgc2V0QXZhdGFyT3BhY2l0eSgxLjApXG4gICAgICAgICAgICAgICAgICAgIHNldFN1Y2Nlc3NPcGFjaXR5KDAuMClcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0cmFuc2l0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICBzZXRJc1RyYW5zaXRpb25pbmcoZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHNldFByZXZpb3VzQXZhdGFyU3RhZ2UoMSlcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvblByb2dyZXNzKDApXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMHB4IDIwcHgnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc2cHgnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2QxZDVkYicsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjNjY2JyxcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFN3aXRjaCBFYXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJDYW5hbFNpbXVsYXRpb24iLCJvbkNsb3NlIiwiY2FudmFzUmVmIiwiYW5pbWF0aW9uUmVmIiwicGFydGljbGVzIiwic2V0UGFydGljbGVzIiwib3JpZW50YXRpb24iLCJzZXRPcmllbnRhdGlvbiIsImJldGEiLCJnYW1tYSIsInBlcm1pc3Npb25HcmFudGVkIiwic2V0UGVybWlzc2lvbkdyYW50ZWQiLCJlcGxleUNvbXBsZXRlIiwic2V0RXBsZXlDb21wbGV0ZSIsInNlbGVjdGVkRWFyIiwic2V0U2VsZWN0ZWRFYXIiLCJzZWxlY3RlZFBlcnNwZWN0aXZlIiwic2V0U2VsZWN0ZWRQZXJzcGVjdGl2ZSIsIm9yaWVudGF0aW9uTG9ja1Byb21wdGVkIiwic2V0T3JpZW50YXRpb25Mb2NrUHJvbXB0ZWQiLCJvcmllbnRhdGlvblNldHVwQ29tcGxldGUiLCJzZXRPcmllbnRhdGlvblNldHVwQ29tcGxldGUiLCJwYXJ0aWNsZXNSZWYiLCJjdXJyZW50QXZhdGFyU3RhZ2UiLCJzZXRDdXJyZW50QXZhdGFyU3RhZ2UiLCJjb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZCIsInNldENvbXBsZXRpb25BbmltYXRpb25TdGFydGVkIiwiYXZhdGFyT3BhY2l0eSIsInNldEF2YXRhck9wYWNpdHkiLCJzdWNjZXNzT3BhY2l0eSIsInNldFN1Y2Nlc3NPcGFjaXR5IiwiY29tcGxldGlvblRpbWVvdXRSZWYiLCJpc1RyYW5zaXRpb25pbmciLCJzZXRJc1RyYW5zaXRpb25pbmciLCJwcmV2aW91c0F2YXRhclN0YWdlIiwic2V0UHJldmlvdXNBdmF0YXJTdGFnZSIsInRyYW5zaXRpb25Qcm9ncmVzcyIsInNldFRyYW5zaXRpb25Qcm9ncmVzcyIsInRyYW5zaXRpb25UaW1lb3V0UmVmIiwiZGV0ZWN0ZWRTdGFnZSIsInNldERldGVjdGVkU3RhZ2UiLCJkZXRlY3Rpb25UaW1lciIsInNldERldGVjdGlvblRpbWVyIiwiZGV0ZWN0aW9uRGVsYXlNcyIsIkNBTlZBU19XSURUSCIsIkNBTlZBU19IRUlHSFQiLCJDRU5URVJfWCIsIkNFTlRFUl9ZIiwiT1VURVJfUkFESVVTIiwiSU5ORVJfUkFESVVTIiwiVFVCRV9XSURUSCIsIlBBUlRJQ0xFX1JBRElVUyIsIk1hdGgiLCJmbG9vciIsImdldFZlc3RpYnVsZUNvbmZpZyIsIlZFU1RJQlVMRV9BTkdMRSIsIlBJIiwiYW5nbGUiLCJjZW50ZXJYIiwiY29zIiwiY2VudGVyWSIsInNpbiIsInJhZGl1cyIsImluaXRpYWxpemVQYXJ0aWNsZXMiLCJuZXdQYXJ0aWNsZXMiLCJjdXB1bGFBbmdsZSIsInJpbmdDZW50ZXIiLCJwYXJ0aWNsZUFuZ2xlIiwiaSIsInB1c2giLCJpZCIsIngiLCJ5IiwidngiLCJ2eSIsImluQW1wdWxsYSIsImRpc3NvbHZpbmciLCJvcmlnaW5hbFJhZGl1cyIsImN1cnJlbnQiLCJjbGVhclRpbWVvdXQiLCJzdGFydENvbXBsZXRpb25BbmltYXRpb24iLCJmYWRlT3V0SW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInByZXYiLCJuZXdPcGFjaXR5IiwiY2xlYXJJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJmYWRlSW5JbnRlcnZhbCIsInN0YXJ0QXZhdGFyVHJhbnNpdGlvbiIsIm5ld1N0YWdlIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwic3RlcHMiLCJzdGVwRHVyYXRpb24iLCJzdGVwIiwidHJhbnNpdGlvbkludGVydmFsIiwicHJvZ3Jlc3MiLCJlYXNlZFByb2dyZXNzIiwicG93IiwibG9ja09yaWVudGF0aW9uIiwic2NyZWVuIiwibG9jayIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlcXVlc3RPcmllbnRhdGlvblBlcm1pc3Npb24iLCJsb2NrU3VjY2VzcyIsIkRldmljZU9yaWVudGF0aW9uRXZlbnQiLCJwZXJtaXNzaW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJoYW5kbGVPcmllbnRhdGlvbkxvY2tBY2siLCJoYW5kbGVPcmllbnRhdGlvbiIsImV2ZW50IiwiYmV0YURpZmYiLCJhYnMiLCJnYW1tYURpZmYiLCJtYXgiLCJtaW4iLCJzbW9vdGhpbmdGYWN0b3IiLCJuZXdCZXRhIiwibmV3R2FtbWEiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzSW5zaWRlUmluZyIsImRpc3RGcm9tQ2VudGVyIiwic3FydCIsImNoZWNrQ3VwdWxhQ29sbGlzaW9uIiwiY3VwdWxhWCIsImN1cHVsYVdpZHRoIiwiY3VwdWxhSGVpZ2h0IiwiY3VwdWxhWSIsImlzSW5zaWRlVmVzdGlidWxlIiwidmVzdGlidWxlQ29uZmlnIiwiZGlzdEZyb21WZXN0aWJ1bGVDZW50ZXIiLCJjb25uZWN0aW9uWCIsImNvbm5lY3Rpb25ZIiwiY29ubmVjdGlvbldpZHRoIiwiY29ubmVjdGlvbkhlaWdodCIsImR4IiwiZHkiLCJyb3RhdGVkWCIsInJvdGF0ZWRZIiwiaXNJblZhbGlkU3BhY2UiLCJ1cGRhdGVQaHlzaWNzIiwibWFwIiwicGFydGljbGUiLCJpbmRleCIsIm5ld1JhZGl1cyIsImdyYXZpdHlTdHJlbmd0aCIsImlzSG9yaXpvbnRhbCIsImdyYXZpdHlYIiwiZ3Jhdml0eVkiLCJuZXdWeCIsIm5ld1Z5IiwibmV3WCIsIm5ld1kiLCJub3dJblZlc3RpYnVsZSIsImFuZ2xlVG9QYXJ0aWNsZSIsImF0YW4yIiwidmVzdGlidWxlQ29ubmVjdGlvblN0YXJ0IiwidmVzdGlidWxlQ29ubmVjdGlvbkVuZCIsImluQ29ubmVjdGlvbkFyZWEiLCJub3JtYWxpemVkQW5nbGUiLCJub3JtYWxpemVkU3RhcnQiLCJub3JtYWxpemVkRW5kIiwibm9ybWFsWCIsIm5vcm1hbFkiLCJkb3RQcm9kdWN0IiwicHVzaEFuZ2xlIiwicHVzaERpc3RhbmNlIiwiZm9yRWFjaCIsIm90aGVyUGFydGljbGUiLCJvdGhlckluZGV4IiwiZGlzdGFuY2UiLCJtaW5EaXN0YW5jZSIsIm92ZXJsYXAiLCJzZXBhcmF0aW9uWCIsInNlcGFyYXRpb25ZIiwicmVsYXRpdmVWZWxvY2l0eVgiLCJyZWxhdGl2ZVZlbG9jaXR5WSIsInZlbG9jaXR5QWxvbmdOb3JtYWwiLCJyZXN0aXR1dGlvbiIsImltcHVsc2UiLCJtaW5WZWxvY2l0eSIsImN1cnJlbnRTcGVlZCIsInNwZWVkTXVsdGlwbGllciIsImFsbFBhcnRpY2xlc0luVmVzdGlidWxlIiwiZXZlcnkiLCJwIiwidXBkYXRlQXZhdGFyU3RhZ2UiLCJhbmltYXRlIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlRXBsZXlDb21wbGV0ZUNsaWNrIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsImZpbGwiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiZmlsbFJlY3QiLCJyZXN0b3JlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJjb25uZWN0aW9uU3RhcnRBbmdsZSIsImNvbm5lY3Rpb25FbmRBbmdsZSIsInN0cm9rZSIsInJpbmdDb25uZWN0aW9uQW5nbGUiLCJza2lwU3RhcnRBbmdsZSIsInNraXBFbmRBbmdsZSIsImhhaXJYIiwibW92ZVRvIiwiaGFpckhlaWdodCIsImxpbmVUbyIsIm1heEF2YXRhclNpemUiLCJwcmV2aW91c0F2YXRhckltYWdlIiwiSW1hZ2UiLCJjdXJyZW50QXZhdGFySW1hZ2UiLCJlYXJQcmVmaXgiLCJwZXJzcGVjdGl2ZVR5cGUiLCJzcmMiLCJkcmF3VHJhbnNpdGlvbkF2YXRhcnMiLCJjb21wbGV0ZSIsIm5hdHVyYWxXaWR0aCIsInByZXZBc3BlY3RSYXRpbyIsIm5hdHVyYWxIZWlnaHQiLCJjdXJyQXNwZWN0UmF0aW8iLCJwcmV2V2lkdGgiLCJwcmV2SGVpZ2h0IiwiY3VycldpZHRoIiwiY3VyckhlaWdodCIsImJhc2VYIiwiYmFzZVkiLCJtb3ZlbWVudE9mZnNldCIsInJvdGF0aW9uTW92ZW1lbnQiLCJwcmV2WCIsInByZXZZIiwiY3VyclgiLCJjdXJyWSIsImdsb2JhbEFscGhhIiwiZHJhd0ltYWdlIiwibG9hZGVkQ291bnQiLCJjaGVja0JvdGhMb2FkZWQiLCJvbmxvYWQiLCJhdmF0YXJJbWFnZSIsImdldEF2YXRhckltYWdlUGF0aCIsImRyYXdBdmF0YXIiLCJhc3BlY3RSYXRpbyIsImF2YXRhcldpZHRoIiwiYXZhdGFySGVpZ2h0IiwiYXZhdGFyWCIsImF2YXRhclkiLCJmb250IiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJ0b0ZpeGVkIiwiaGFuZGxlQ2FudmFzQ2xpY2siLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpY2tYIiwiY2xpZW50WCIsImxlZnQiLCJjbGlja1kiLCJjbGllbnRZIiwidG9wIiwiZ2V0UGFydGljbGVCcmFja2V0IiwiZGVncmVlcyIsImdldFN0YWdlRGVzY3JpcHRpb24iLCJsZW5ndGgiLCJicmFja2V0Q291bnRzIiwicmVkIiwieWVsbG93IiwiYmx1ZSIsIm9yYW5nZSIsImdyZWVuIiwiYnJhY2tldCIsInRhcmdldEJyYWNrZXQiLCJjb3VudCIsIk9iamVjdCIsImVudHJpZXMiLCJicmFja2V0VG9TdGFnZSIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsImJhY2tncm91bmRDb2xvciIsInpJbmRleCIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwicGFkZGluZyIsImJvcmRlckJvdHRvbSIsImgyIiwibWFyZ2luIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwiYnV0dG9uIiwib25DbGljayIsImJvcmRlclJhZGl1cyIsImJvcmRlciIsImN1cnNvciIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsImdhcCIsIndpZHRoIiwibWF4V2lkdGgiLCJvdmVyZmxvd1kiLCJtYXhIZWlnaHQiLCJoMyIsImNvbG9yIiwiZmxleFdyYXAiLCJib3hTaGFkb3ciLCJtaW5XaWR0aCIsIm9yZGVyIiwiYnIiLCJzcGFuIiwib3BhY2l0eSIsInN0cm9uZyIsInJlZiIsImhlaWdodCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/CanalSimulation.tsx\n"));

/***/ })

});