"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/CanalSimulation.tsx":
/*!****************************************!*\
  !*** ./components/CanalSimulation.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanalSimulation: function() { return /* binding */ CanalSimulation; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ CanalSimulation auto */ \nvar _s = $RefreshSig$();\n\nfunction CanalSimulation(param) {\n    let { onClose } = param;\n    _s();\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const animationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const [particles, setParticles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [orientation, setOrientation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        beta: 0,\n        gamma: 0\n    });\n    const [permissionGranted, setPermissionGranted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [epleyComplete, setEpleyComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedEar, setSelectedEar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedPerspective, setSelectedPerspective] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [orientationLockPrompted, setOrientationLockPrompted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [orientationSetupComplete, setOrientationSetupComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const particlesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    // Avatar slideshow state\n    const [currentAvatarStage, setCurrentAvatarStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1) // Start with stage 1\n    ;\n    // Completion animation state\n    const [completionAnimationStarted, setCompletionAnimationStarted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [avatarOpacity, setAvatarOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1.0);\n    const [successOpacity, setSuccessOpacity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0.0);\n    const completionTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Avatar transition animation state\n    const [isTransitioning, setIsTransitioning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previousAvatarStage, setPreviousAvatarStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [transitionProgress, setTransitionProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0) // 0 to 1\n    ;\n    const transitionTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Particle detection delay state\n    const [detectedStage, setDetectedStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [detectionTimer, setDetectionTimer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const detectionDelayMs = 250 // 0.25 seconds\n    ;\n    // Canvas dimensions - optimized for mobile\n    const CANVAS_WIDTH = 450 // Increased from 400\n    ;\n    const CANVAS_HEIGHT = 450 // Increased from 400\n    ;\n    const CENTER_X = CANVAS_WIDTH / 2;\n    const CENTER_Y = CANVAS_HEIGHT / 2;\n    // Ring dimensions - scaled to fill larger canvas\n    const OUTER_RADIUS = 180 // Increased from 157 (was 140 originally)\n    ;\n    const INNER_RADIUS = 130 // Increased from 112 (was 100 originally)\n    ;\n    const TUBE_WIDTH = OUTER_RADIUS - INNER_RADIUS;\n    const PARTICLE_RADIUS = Math.floor(TUBE_WIDTH / 8) // 1/8th tube width\n    ;\n    // Get vestibule configuration based on ear type\n    const getVestibuleConfig = ()=>{\n        if (selectedEar === \"left\") {\n            // Left ear: vestibule at 4 o'clock position (120 degrees)\n            const VESTIBULE_ANGLE = Math.PI * 2 / 3 // 4 o'clock position (120 degrees)\n            ;\n            return {\n                angle: VESTIBULE_ANGLE,\n                centerX: CENTER_X + Math.cos(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                centerY: CENTER_Y + Math.sin(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                radius: 85 // Increased from 70\n            };\n        } else {\n            // Right ear: vestibule at 4 o'clock position (original)\n            const VESTIBULE_ANGLE = Math.PI / 3 // 4 o'clock position (60 degrees)\n            ;\n            return {\n                angle: VESTIBULE_ANGLE,\n                centerX: CENTER_X + Math.cos(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                centerY: CENTER_Y + Math.sin(VESTIBULE_ANGLE) * (OUTER_RADIUS + 60),\n                radius: 85 // Increased from 70\n            };\n        }\n    };\n    // Initialize particles based on ear type\n    const initializeParticles = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!selectedEar) return;\n        const newParticles = [];\n        const cupulaAngle = Math.PI / 2 // Bottom of ring (6 o'clock)\n        ;\n        const ringCenter = (OUTER_RADIUS + INNER_RADIUS) / 2 // Middle of tube\n        ;\n        let particleAngle;\n        if (selectedEar === \"left\") {\n            // Left ear: particles spawn on RIGHT side of cupula (4-5 o'clock position)\n            particleAngle = cupulaAngle - Math.PI / 6 // RIGHT side of cupula (30 degrees left of bottom = 4-5 o'clock)\n            ;\n        } else {\n            // Right ear: particles spawn on LEFT side of cupula (7-8 o'clock position) - original\n            particleAngle = cupulaAngle + Math.PI / 6 // LEFT side of cupula (30 degrees right of bottom = 7-8 o'clock)\n            ;\n        }\n        for(let i = 0; i < 4; i++){\n            // Cluster all particles tightly on appropriate side of cupula\n            const angle = particleAngle + (i - 1.5) * 0.05 // Tight clustering\n            ;\n            newParticles.push({\n                id: i,\n                x: CENTER_X + Math.cos(angle) * ringCenter,\n                y: CENTER_Y + Math.sin(angle) * ringCenter,\n                vx: 0,\n                vy: 0,\n                radius: PARTICLE_RADIUS,\n                inAmpulla: false,\n                dissolving: false,\n                originalRadius: PARTICLE_RADIUS\n            });\n        }\n        setParticles(newParticles);\n        particlesRef.current = newParticles;\n        setEpleyComplete(false);\n        setCurrentAvatarStage(1) // Reset avatar to starting position\n        ;\n        // Reset completion animation state\n        setCompletionAnimationStarted(false);\n        setAvatarOpacity(1.0);\n        setSuccessOpacity(0.0);\n        if (completionTimeoutRef.current) {\n            clearTimeout(completionTimeoutRef.current);\n            completionTimeoutRef.current = null;\n        }\n        // Reset transition animation state\n        setIsTransitioning(false);\n        setPreviousAvatarStage(1);\n        setTransitionProgress(0);\n        if (transitionTimeoutRef.current) {\n            clearTimeout(transitionTimeoutRef.current);\n            transitionTimeoutRef.current = null;\n        }\n        // Reset detection delay state\n        setDetectedStage(1);\n        if (detectionTimer) {\n            clearTimeout(detectionTimer);\n            setDetectionTimer(null);\n        }\n    }, [\n        selectedEar\n    ]);\n    // Start completion animation sequence\n    const startCompletionAnimation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (completionAnimationStarted) return;\n        setCompletionAnimationStarted(true);\n        // Phase 1: Fade out avatar over 1 second\n        const fadeOutInterval = setInterval(()=>{\n            setAvatarOpacity((prev)=>{\n                const newOpacity = prev - 0.05 // Fade out in 20 steps (1 second at 50ms intervals)\n                ;\n                if (newOpacity <= 0) {\n                    clearInterval(fadeOutInterval);\n                    return 0;\n                }\n                return newOpacity;\n            });\n        }, 50);\n        // Phase 2: After 1 second, fade in success indicator\n        completionTimeoutRef.current = setTimeout(()=>{\n            setEpleyComplete(true);\n            const fadeInInterval = setInterval(()=>{\n                setSuccessOpacity((prev)=>{\n                    const newOpacity = prev + 0.05 // Fade in over 1 second\n                    ;\n                    if (newOpacity >= 1) {\n                        clearInterval(fadeInInterval);\n                        return 1;\n                    }\n                    return newOpacity;\n                });\n            }, 50);\n        }, 1000);\n    }, [\n        completionAnimationStarted\n    ]);\n    // Start avatar transition animation\n    const startAvatarTransition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((newStage)=>{\n        if (isTransitioning || newStage === currentAvatarStage) return;\n        // Clean up any existing transition\n        if (transitionTimeoutRef.current) {\n            clearTimeout(transitionTimeoutRef.current);\n        }\n        setPreviousAvatarStage(currentAvatarStage);\n        setIsTransitioning(true);\n        setTransitionProgress(0);\n        // Smooth transition over 800ms\n        const transitionDuration = 800;\n        const steps = 40 // 20ms intervals for smooth animation\n        ;\n        const stepDuration = transitionDuration / steps;\n        let step = 0;\n        const transitionInterval = setInterval(()=>{\n            step++;\n            const progress = step / steps;\n            // Use easeInOutCubic for natural movement feel\n            const easedProgress = progress < 0.5 ? 4 * progress * progress * progress : 1 - Math.pow(-2 * progress + 2, 3) / 2;\n            setTransitionProgress(easedProgress);\n            if (step >= steps) {\n                clearInterval(transitionInterval);\n                setCurrentAvatarStage(newStage);\n                setIsTransitioning(false);\n                setTransitionProgress(0);\n            }\n        }, stepDuration);\n        // Cleanup timeout\n        transitionTimeoutRef.current = setTimeout(()=>{\n            clearInterval(transitionInterval);\n            setCurrentAvatarStage(newStage);\n            setIsTransitioning(false);\n            setTransitionProgress(0);\n        }, transitionDuration + 100);\n    }, [\n        isTransitioning,\n        currentAvatarStage\n    ]);\n    // Try to lock orientation\n    const lockOrientation = async ()=>{\n        try {\n            // Type assertion for screen orientation lock (not all browsers support this)\n            if (screen.orientation && screen.orientation.lock) {\n                await screen.orientation.lock(\"portrait\");\n                return true;\n            }\n        } catch (error) {\n            console.log(\"Orientation lock not supported or failed:\", error);\n        }\n        return false;\n    };\n    // Request device orientation permission\n    const requestOrientationPermission = async ()=>{\n        // Only show orientation setup if not already completed\n        if (!orientationSetupComplete) {\n            // First try to lock orientation\n            const lockSuccess = await lockOrientation();\n            if (!lockSuccess && !orientationLockPrompted) {\n                setOrientationLockPrompted(true);\n                return; // Show manual instruction first\n            }\n        }\n        if (typeof DeviceOrientationEvent !== \"undefined\" && \"requestPermission\" in DeviceOrientationEvent) {\n            try {\n                const permission = await DeviceOrientationEvent.requestPermission();\n                if (permission === \"granted\") {\n                    setPermissionGranted(true);\n                    setOrientationSetupComplete(true);\n                }\n            } catch (error) {\n                console.error(\"Error requesting orientation permission:\", error);\n            }\n        } else {\n            setPermissionGranted(true);\n            setOrientationSetupComplete(true);\n        }\n    };\n    // Handle manual orientation lock acknowledgment\n    const handleOrientationLockAck = ()=>{\n        setOrientationLockPrompted(false);\n        requestOrientationPermission();\n    };\n    // Handle device orientation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!permissionGranted) return;\n        const handleOrientation = (event)=>{\n            // Get raw orientation values\n            let beta = event.beta || 0;\n            let gamma = event.gamma || 0;\n            // Detect and filter out extreme orientation changes that cause gimbal lock\n            // If beta jumps more than 90 degrees from previous value, it's likely a gimbal lock spike\n            setOrientation((prev)=>{\n                const betaDiff = Math.abs(beta - prev.beta);\n                const gammaDiff = Math.abs(gamma - prev.gamma);\n                // If there's a massive jump (>90°), ignore this reading and keep previous values\n                if (betaDiff > 90 || gammaDiff > 90) {\n                    return prev // Keep previous stable values\n                    ;\n                }\n                // Clamp to reasonable physiological range (±30° is plenty for Epley)\n                beta = Math.max(-30, Math.min(30, beta));\n                gamma = Math.max(-30, Math.min(30, gamma));\n                // Ensure we never create \"upward\" gravity - always maintain downward component\n                // If beta would create strong upward force, limit it\n                if (beta < -20) beta = -20 // Prevent extreme forward tilt\n                ;\n                if (beta > 20) beta = 20 // Prevent extreme backward tilt\n                ;\n                // Smooth the orientation changes\n                const smoothingFactor = 0.85 // Increased smoothing\n                ;\n                const newBeta = prev.beta * smoothingFactor + beta * (1 - smoothingFactor);\n                const newGamma = prev.gamma * smoothingFactor + gamma * (1 - smoothingFactor);\n                return {\n                    beta: newBeta,\n                    gamma: newGamma\n                };\n            });\n        };\n        window.addEventListener(\"deviceorientation\", handleOrientation);\n        return ()=>window.removeEventListener(\"deviceorientation\", handleOrientation);\n    }, [\n        permissionGranted\n    ]);\n    // Check if point is inside the ring tube\n    const isInsideRing = (x, y)=>{\n        const distFromCenter = Math.sqrt((x - CENTER_X) ** 2 + (y - CENTER_Y) ** 2);\n        return distFromCenter >= INNER_RADIUS && distFromCenter <= OUTER_RADIUS;\n    };\n    // Check collision with cupula\n    const checkCupulaCollision = (x, y, radius)=>{\n        const cupulaX = CENTER_X;\n        const cupulaWidth = TUBE_WIDTH * 0.7;\n        const cupulaHeight = TUBE_WIDTH * 0.85;\n        const cupulaY = CENTER_Y + OUTER_RADIUS - cupulaHeight / 2;\n        return x - radius < cupulaX + cupulaWidth / 2 && x + radius > cupulaX - cupulaWidth / 2 && y - radius < cupulaY + cupulaHeight / 2 && y + radius > cupulaY - cupulaHeight / 2;\n    };\n    // Check if point is inside the vestibule\n    const isInsideVestibule = (x, y)=>{\n        const vestibuleConfig = getVestibuleConfig();\n        // Main vestibule chamber\n        const distFromVestibuleCenter = Math.sqrt((x - vestibuleConfig.centerX) ** 2 + (y - vestibuleConfig.centerY) ** 2);\n        if (distFromVestibuleCenter <= vestibuleConfig.radius) return true;\n        // Extended vestibule area - connection bridge area\n        const connectionX = CENTER_X + Math.cos(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionY = CENTER_Y + Math.sin(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionWidth = 50;\n        const connectionHeight = 38;\n        // Check if point is in the connection/bridge area (rotated rectangle)\n        const dx = x - connectionX;\n        const dy = y - connectionY;\n        const rotatedX = dx * Math.cos(-vestibuleConfig.angle) - dy * Math.sin(-vestibuleConfig.angle);\n        const rotatedY = dx * Math.sin(-vestibuleConfig.angle) + dy * Math.cos(-vestibuleConfig.angle);\n        return Math.abs(rotatedX) <= connectionWidth / 2 && Math.abs(rotatedY) <= connectionHeight / 2;\n    };\n    // Check if point is in valid canal space\n    const isInValidSpace = (x, y)=>{\n        return isInsideRing(x, y) || isInsideVestibule(x, y);\n    };\n    // Physics update\n    const updatePhysics = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!canvasRef.current || !selectedEar) return;\n        const newParticles = particlesRef.current.map((particle, index)=>{\n            // If particle is dissolving, just shrink it\n            if (particle.dissolving) {\n                const newRadius = Math.max(0, particle.radius - 0.02);\n                return {\n                    ...particle,\n                    radius: newRadius\n                };\n            }\n            // Convert device orientation to gravity vector\n            const gravityStrength = 0.02 // Further reduced for viscous fluid simulation - like otoconia in endolymph\n            ;\n            // Detect if device is roughly horizontal\n            const isHorizontal = Math.abs(Math.abs(orientation.gamma || 0) - 90) < 30;\n            let gravityX, gravityY;\n            if (isHorizontal) {\n                gravityX = Math.sin((orientation.gamma || 0) * Math.PI / 180) * gravityStrength;\n                gravityY = Math.sin((orientation.beta || 0) * Math.PI / 180) * gravityStrength * 0.1;\n            } else {\n                gravityX = Math.sin((orientation.gamma || 0) * Math.PI / 180) * gravityStrength;\n                gravityY = Math.sin((orientation.beta || 0) * Math.PI / 180) * gravityStrength;\n            }\n            // Update velocity with gravity\n            let newVx = particle.vx + gravityX;\n            let newVy = particle.vy + gravityY;\n            // Apply lighter damping to reduce sticking - slightly reduced for better mobility\n            newVx *= 0.999 // Reduced from 0.998 to maintain more momentum\n            ;\n            newVy *= 0.999;\n            // Predict new position\n            let newX = particle.x + newVx;\n            let newY = particle.y + newVy;\n            // Check if particle is in vestibule\n            const nowInVestibule = isInsideVestibule(newX, newY);\n            if (nowInVestibule && !particle.inAmpulla) {\n                particle.inAmpulla = true;\n            }\n            // Boundary checks and physics - simplified and improved\n            const distFromCenter = Math.sqrt((newX - CENTER_X) ** 2 + (newY - CENTER_Y) ** 2);\n            const vestibuleConfig = getVestibuleConfig();\n            if (isInsideRing(newX, newY)) {\n                // Outer boundary collision\n                if (distFromCenter > OUTER_RADIUS - particle.radius) {\n                    const angleToParticle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                    const vestibuleConnectionStart = vestibuleConfig.angle - 0.3;\n                    const vestibuleConnectionEnd = vestibuleConfig.angle + 0.3;\n                    // Simplified angle check\n                    let inConnectionArea = false;\n                    let normalizedAngle = angleToParticle;\n                    if (normalizedAngle < 0) normalizedAngle += Math.PI * 2;\n                    let normalizedStart = vestibuleConnectionStart;\n                    if (normalizedStart < 0) normalizedStart += Math.PI * 2;\n                    let normalizedEnd = vestibuleConnectionEnd;\n                    if (normalizedEnd < 0) normalizedEnd += Math.PI * 2;\n                    // Handle angle wrapping around 0/2π\n                    if (normalizedEnd < normalizedStart) {\n                        inConnectionArea = normalizedAngle >= normalizedStart || normalizedAngle <= normalizedEnd;\n                    } else {\n                        inConnectionArea = normalizedAngle >= normalizedStart && normalizedAngle <= normalizedEnd;\n                    }\n                    if (!inConnectionArea) {\n                        const angle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                        newX = CENTER_X + Math.cos(angle) * (OUTER_RADIUS - particle.radius);\n                        newY = CENTER_Y + Math.sin(angle) * (OUTER_RADIUS - particle.radius);\n                        // Gentler reflection to prevent sticking\n                        const normalX = Math.cos(angle);\n                        const normalY = Math.sin(angle);\n                        const dotProduct = newVx * normalX + newVy * normalY;\n                        // Only reflect if moving toward the wall\n                        if (dotProduct > 0) {\n                            newVx = newVx - 1.1 * dotProduct * normalX // Reduced from 1.2 for gentler reflection\n                            ;\n                            newVy = newVy - 1.1 * dotProduct * normalY;\n                            newVx *= 0.97 // Slightly increased from 0.95 to maintain more energy\n                            ;\n                            newVy *= 0.97;\n                        }\n                    }\n                } else if (distFromCenter < INNER_RADIUS + particle.radius) {\n                    const angle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                    newX = CENTER_X + Math.cos(angle) * (INNER_RADIUS + particle.radius);\n                    newY = CENTER_Y + Math.sin(angle) * (INNER_RADIUS + particle.radius);\n                    // Gentler reflection to prevent sticking\n                    const normalX = -Math.cos(angle);\n                    const normalY = -Math.sin(angle);\n                    const dotProduct = newVx * normalX + newVy * normalY;\n                    // Only reflect if moving toward the wall\n                    if (dotProduct > 0) {\n                        newVx = newVx - 1.1 * dotProduct * normalX // Reduced from 1.2 for gentler reflection\n                        ;\n                        newVy = newVy - 1.1 * dotProduct * normalY;\n                        newVx *= 0.97 // Slightly increased from 0.95 to maintain more energy\n                        ;\n                        newVy *= 0.97;\n                    }\n                }\n            } else if (isInsideVestibule(newX, newY)) {\n                const distFromVestibuleCenter = Math.sqrt((newX - vestibuleConfig.centerX) ** 2 + (newY - vestibuleConfig.centerY) ** 2);\n                if (distFromVestibuleCenter > vestibuleConfig.radius - particle.radius) {\n                    const angle = Math.atan2(newY - vestibuleConfig.centerY, newX - vestibuleConfig.centerX);\n                    newX = vestibuleConfig.centerX + Math.cos(angle) * (vestibuleConfig.radius - particle.radius);\n                    newY = vestibuleConfig.centerY + Math.sin(angle) * (vestibuleConfig.radius - particle.radius);\n                    // Gentler collision in vestibule\n                    const normalX = Math.cos(angle);\n                    const normalY = Math.sin(angle);\n                    const dotProduct = newVx * normalX + newVy * normalY;\n                    if (dotProduct > 0) {\n                        newVx = newVx - 1.2 * dotProduct * normalX;\n                        newVy = newVy - 1.2 * dotProduct * normalY;\n                        newVx *= 0.7 // More damping in vestibule for settling\n                        ;\n                        newVy *= 0.7;\n                    }\n                }\n                // Check for dissolution\n                if (Math.abs(newVx) < 0.1 && Math.abs(newVy) < 0.1) {\n                    particle.dissolving = true;\n                }\n            } else if (!isInValidSpace(newX, newY)) {\n                // Push particle back to valid space with minimal energy loss\n                if (isInsideRing(particle.x, particle.y)) {\n                    const angle = Math.atan2(newY - CENTER_Y, newX - CENTER_X);\n                    newX = CENTER_X + Math.cos(angle) * (OUTER_RADIUS - particle.radius);\n                    newY = CENTER_Y + Math.sin(angle) * (OUTER_RADIUS - particle.radius);\n                } else {\n                    const angle = Math.atan2(newY - vestibuleConfig.centerY, newX - vestibuleConfig.centerX);\n                    newX = vestibuleConfig.centerX + Math.cos(angle) * (vestibuleConfig.radius - particle.radius);\n                    newY = vestibuleConfig.centerY + Math.sin(angle) * (vestibuleConfig.radius - particle.radius);\n                }\n                newVx *= 0.8 // Less energy loss when correcting position\n                ;\n                newVy *= 0.8;\n            }\n            // Check cupula collision\n            if (checkCupulaCollision(newX, newY, particle.radius) && !nowInVestibule) {\n                const cupulaX = CENTER_X;\n                const cupulaHeight = TUBE_WIDTH * 0.85;\n                const cupulaY = CENTER_Y + OUTER_RADIUS - cupulaHeight / 2;\n                const pushAngle = Math.atan2(newY - cupulaY, newX - cupulaX);\n                const pushDistance = particle.radius + TUBE_WIDTH * 0.5;\n                newX = cupulaX + Math.cos(pushAngle) * pushDistance;\n                newY = cupulaY + Math.sin(pushAngle) * pushDistance;\n                newVx *= 0.7;\n                newVy *= 0.7;\n            }\n            // Particle-to-particle collision (keep existing logic)\n            particlesRef.current.forEach((otherParticle, otherIndex)=>{\n                if (index !== otherIndex && !particle.dissolving && !otherParticle.dissolving) {\n                    const dx = newX - otherParticle.x;\n                    const dy = newY - otherParticle.y;\n                    const distance = Math.sqrt(dx * dx + dy * dy);\n                    const minDistance = particle.radius + otherParticle.radius;\n                    if (distance < minDistance && distance > 0) {\n                        const overlap = minDistance - distance;\n                        const separationX = dx / distance * (overlap * 0.6 // Increased from 0.5 for better separation\n                        );\n                        const separationY = dy / distance * (overlap * 0.6);\n                        newX += separationX;\n                        newY += separationY;\n                        const normalX = dx / distance;\n                        const normalY = dy / distance;\n                        const relativeVelocityX = newVx - otherParticle.vx;\n                        const relativeVelocityY = newVy - otherParticle.vy;\n                        const velocityAlongNormal = relativeVelocityX * normalX + relativeVelocityY * normalY;\n                        if (velocityAlongNormal > 0) return;\n                        const restitution = 0.85 // Increased from 0.8 for slightly more bouncy collisions\n                        ;\n                        const impulse = -(1 + restitution) * velocityAlongNormal / 2;\n                        newVx += impulse * normalX;\n                        newVy += impulse * normalY;\n                        // Add slight repulsion to prevent clumping\n                        const repulsionStrength = 0.02;\n                        newVx += normalX * repulsionStrength;\n                        newVy += normalY * repulsionStrength;\n                    }\n                }\n            });\n            // Add minimum velocity to prevent complete sticking\n            const minVelocity = 0.008 // Reduced from 0.01 to allow more natural stopping\n            ;\n            const currentSpeed = Math.sqrt(newVx * newVx + newVy * newVy);\n            if (currentSpeed > 0 && currentSpeed < minVelocity && !particle.dissolving) {\n                const speedMultiplier = minVelocity / currentSpeed;\n                newVx *= speedMultiplier;\n                newVy *= speedMultiplier;\n            }\n            return {\n                ...particle,\n                x: newX,\n                y: newY,\n                vx: newVx,\n                vy: newVy\n            };\n        });\n        // Check if all particles are in vestibule\n        const allParticlesInVestibule = newParticles.every((p)=>p.inAmpulla);\n        if (allParticlesInVestibule && !epleyComplete && currentAvatarStage === 5 && !completionAnimationStarted) {\n            // All particles are in vestibule AND we're at final stage 5 - start completion animation\n            startCompletionAnimation();\n        }\n        particlesRef.current = newParticles;\n        setParticles(newParticles);\n        // Update avatar stage based on particle positions\n        updateAvatarStage();\n    }, [\n        orientation,\n        epleyComplete,\n        selectedEar,\n        currentAvatarStage,\n        completionAnimationStarted,\n        startCompletionAnimation\n    ]);\n    // Animation loop\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const animate = ()=>{\n            updatePhysics();\n            draw();\n            animationRef.current = requestAnimationFrame(animate);\n        };\n        if (permissionGranted && selectedEar && selectedPerspective) {\n            animate();\n        }\n        return ()=>{\n            if (animationRef.current) {\n                cancelAnimationFrame(animationRef.current);\n            }\n        };\n    }, [\n        updatePhysics,\n        permissionGranted,\n        selectedEar,\n        selectedPerspective\n    ]);\n    // Handle Epley Complete click\n    const handleEpleyCompleteClick = ()=>{\n        initializeParticles();\n        setCurrentAvatarStage(1) // Reset avatar to starting position\n        ;\n        // Reset all animation states\n        setCompletionAnimationStarted(false);\n        setAvatarOpacity(1.0);\n        setSuccessOpacity(0.0);\n        if (completionTimeoutRef.current) {\n            clearTimeout(completionTimeoutRef.current);\n            completionTimeoutRef.current = null;\n        }\n        // Reset transition animation states\n        setIsTransitioning(false);\n        setPreviousAvatarStage(1);\n        setTransitionProgress(0);\n        if (transitionTimeoutRef.current) {\n            clearTimeout(transitionTimeoutRef.current);\n            transitionTimeoutRef.current = null;\n        }\n        // Reset detection delay states\n        setDetectedStage(1);\n        if (detectionTimer) {\n            clearTimeout(detectionTimer);\n            setDetectionTimer(null);\n        }\n    };\n    // Draw function\n    const draw = ()=>{\n        const canvas = canvasRef.current;\n        if (!canvas || !selectedEar) return;\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        const vestibuleConfig = getVestibuleConfig();\n        // Clear canvas\n        ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n        // Draw outer ring (light blue fluid)\n        ctx.fillStyle = \"#87CEEB\";\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, OUTER_RADIUS, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw inner hole (white)\n        ctx.fillStyle = \"white\";\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, INNER_RADIUS, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw vestibule\n        ctx.fillStyle = \"#87CEEB\";\n        ctx.beginPath();\n        ctx.arc(vestibuleConfig.centerX, vestibuleConfig.centerY, vestibuleConfig.radius, 0, Math.PI * 2);\n        ctx.fill();\n        // Draw connection between ring and vestibule\n        const connectionX = CENTER_X + Math.cos(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionY = CENTER_Y + Math.sin(vestibuleConfig.angle) * OUTER_RADIUS;\n        const connectionWidth = 50 // Increased from 40\n        ;\n        const connectionHeight = 38 // Increased from 30\n        ;\n        ctx.fillStyle = \"#87CEEB\";\n        ctx.save();\n        ctx.translate(connectionX, connectionY);\n        ctx.rotate(vestibuleConfig.angle);\n        ctx.fillRect(-5, -connectionHeight / 2, connectionWidth, connectionHeight);\n        ctx.restore();\n        // Draw ring borders\n        ctx.strokeStyle = \"#4682B4\";\n        ctx.lineWidth = 2;\n        // Draw outer ring border in segments, skipping vestibule connection area\n        ctx.beginPath();\n        const connectionStartAngle = vestibuleConfig.angle - 0.3;\n        const connectionEndAngle = vestibuleConfig.angle + 0.3;\n        ctx.arc(CENTER_X, CENTER_Y, OUTER_RADIUS, 0, connectionStartAngle);\n        ctx.stroke();\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, OUTER_RADIUS, connectionEndAngle, Math.PI * 2);\n        ctx.stroke();\n        // Inner ring border\n        ctx.beginPath();\n        ctx.arc(CENTER_X, CENTER_Y, INNER_RADIUS, 0, Math.PI * 2);\n        ctx.stroke();\n        // Draw vestibule border\n        ctx.beginPath();\n        const ringConnectionAngle = Math.atan2(connectionY - vestibuleConfig.centerY, connectionX - vestibuleConfig.centerX);\n        const skipStartAngle = ringConnectionAngle - 0.4;\n        const skipEndAngle = ringConnectionAngle + 0.4;\n        ctx.arc(vestibuleConfig.centerX, vestibuleConfig.centerY, vestibuleConfig.radius, skipEndAngle, skipStartAngle + Math.PI * 2);\n        ctx.stroke();\n        // Draw cupula\n        const cupulaX = CENTER_X;\n        const cupulaWidth = TUBE_WIDTH * 0.7;\n        const cupulaHeight = TUBE_WIDTH * 0.85;\n        const cupulaY = CENTER_Y + OUTER_RADIUS - cupulaHeight / 2;\n        ctx.fillStyle = \"#8B4513\";\n        ctx.fillRect(cupulaX - cupulaWidth / 2, cupulaY - cupulaHeight / 2, cupulaWidth, cupulaHeight);\n        // Draw hair structures - scaled for larger cupula\n        ctx.strokeStyle = \"#654321\";\n        ctx.lineWidth = 2 // Increased from 1.5 for better visibility\n        ;\n        for(let i = 0; i < 12; i++){\n            const hairX = cupulaX - cupulaWidth / 2 + cupulaWidth / 11 * i;\n            ctx.beginPath();\n            ctx.moveTo(hairX, cupulaY - cupulaHeight / 2);\n            const hairHeight = 6 + Math.sin(i * 0.5) * 3 // Increased hair height\n            ;\n            ctx.lineTo(hairX, cupulaY - cupulaHeight / 2 - hairHeight);\n            ctx.stroke();\n        }\n        // Draw particles\n        ctx.fillStyle = \"#8A2BE2\";\n        particlesRef.current.forEach((particle)=>{\n            if (particle.radius > 0) {\n                ctx.beginPath();\n                ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);\n                ctx.fill();\n            }\n        });\n        // Draw perspective avatars in center of ring\n        if (selectedPerspective && (selectedPerspective === \"clinician\" || selectedPerspective === \"patient\")) {\n            const maxAvatarSize = INNER_RADIUS * 1.4 // Maximum size to fit in center\n            ;\n            if (isTransitioning) {\n                // During transition, draw both previous and current avatars with crossfade\n                const previousAvatarImage = new Image();\n                const currentAvatarImage = new Image();\n                // Get paths for both avatars\n                const earPrefix = selectedEar === \"right\" ? \"R\" : \"L\";\n                const perspectiveType = selectedPerspective === \"patient\" ? \"treat\" : \"epley\";\n                previousAvatarImage.src = \"/avatars/\".concat(earPrefix, \"_\").concat(perspectiveType, \"_\").concat(previousAvatarStage, \".png\");\n                currentAvatarImage.src = \"/avatars/\".concat(earPrefix, \"_\").concat(perspectiveType, \"_\").concat(currentAvatarStage, \".png\");\n                const drawTransitionAvatars = ()=>{\n                    if (previousAvatarImage.complete && currentAvatarImage.complete && previousAvatarImage.naturalWidth > 0 && currentAvatarImage.naturalWidth > 0) {\n                        // Calculate dimensions for both avatars\n                        const prevAspectRatio = previousAvatarImage.naturalWidth / previousAvatarImage.naturalHeight;\n                        const currAspectRatio = currentAvatarImage.naturalWidth / currentAvatarImage.naturalHeight;\n                        let prevWidth, prevHeight, currWidth, currHeight;\n                        // Previous avatar dimensions\n                        if (prevAspectRatio > 1) {\n                            prevWidth = maxAvatarSize;\n                            prevHeight = maxAvatarSize / prevAspectRatio;\n                        } else {\n                            prevHeight = maxAvatarSize;\n                            prevWidth = maxAvatarSize * prevAspectRatio;\n                        }\n                        // Current avatar dimensions\n                        if (currAspectRatio > 1) {\n                            currWidth = maxAvatarSize;\n                            currHeight = maxAvatarSize / currAspectRatio;\n                        } else {\n                            currHeight = maxAvatarSize;\n                            currWidth = maxAvatarSize * currAspectRatio;\n                        }\n                        // Calculate positions with slight movement simulation\n                        const baseX = CENTER_X;\n                        const baseY = CENTER_Y;\n                        // Simulate natural head/neck movement during transitions\n                        const movementOffset = 8 // pixels of movement\n                        ;\n                        const rotationMovement = Math.sin(transitionProgress * Math.PI) * movementOffset;\n                        // Previous avatar position (fading out)\n                        const prevX = baseX - prevWidth / 2 - rotationMovement * 0.3;\n                        const prevY = baseY - prevHeight / 2;\n                        // Current avatar position (fading in)\n                        const currX = baseX - currWidth / 2 + rotationMovement * 0.3;\n                        const currY = baseY - currHeight / 2;\n                        // Draw previous avatar (fading out)\n                        ctx.globalAlpha = (1 - transitionProgress) * avatarOpacity;\n                        ctx.drawImage(previousAvatarImage, prevX, prevY, prevWidth, prevHeight);\n                        // Draw current avatar (fading in)\n                        ctx.globalAlpha = transitionProgress * avatarOpacity;\n                        ctx.drawImage(currentAvatarImage, currX, currY, currWidth, currHeight);\n                        ctx.globalAlpha = 1.0 // Reset alpha\n                        ;\n                    }\n                };\n                // Draw immediately if both loaded, or set onload handlers\n                if (previousAvatarImage.complete && currentAvatarImage.complete) {\n                    drawTransitionAvatars();\n                } else {\n                    let loadedCount = 0;\n                    const checkBothLoaded = ()=>{\n                        loadedCount++;\n                        if (loadedCount === 2) drawTransitionAvatars();\n                    };\n                    if (!previousAvatarImage.complete) previousAvatarImage.onload = checkBothLoaded;\n                    if (!currentAvatarImage.complete) currentAvatarImage.onload = checkBothLoaded;\n                    // If one is already loaded, increment counter\n                    if (previousAvatarImage.complete) loadedCount++;\n                    if (currentAvatarImage.complete) loadedCount++;\n                    if (loadedCount === 2) drawTransitionAvatars();\n                }\n            } else {\n                // Normal drawing (no transition)\n                const avatarImage = new Image();\n                avatarImage.src = getAvatarImagePath();\n                const drawAvatar = ()=>{\n                    if (avatarImage.complete && avatarImage.naturalWidth > 0) {\n                        // Calculate aspect ratio to maintain original proportions\n                        const aspectRatio = avatarImage.naturalWidth / avatarImage.naturalHeight;\n                        let avatarWidth, avatarHeight;\n                        if (aspectRatio > 1) {\n                            // Wider than tall - constrain by width\n                            avatarWidth = maxAvatarSize;\n                            avatarHeight = maxAvatarSize / aspectRatio;\n                        } else {\n                            // Taller than wide - constrain by height\n                            avatarHeight = maxAvatarSize;\n                            avatarWidth = maxAvatarSize * aspectRatio;\n                        }\n                        const avatarX = CENTER_X - avatarWidth / 2;\n                        const avatarY = CENTER_Y - avatarHeight / 2;\n                        // Apply opacity for fade-out animation\n                        ctx.globalAlpha = avatarOpacity;\n                        ctx.drawImage(avatarImage, avatarX, avatarY, avatarWidth, avatarHeight);\n                        ctx.globalAlpha = 1.0 // Reset alpha\n                        ;\n                    }\n                };\n                // Draw immediately if already loaded, or set onload handler\n                if (avatarImage.complete) {\n                    drawAvatar();\n                } else {\n                    avatarImage.onload = drawAvatar;\n                }\n            }\n        }\n        // Draw \"Epley Complete\" success indicator\n        if (epleyComplete) {\n            // Apply opacity for fade-in animation\n            ctx.globalAlpha = successOpacity;\n            ctx.fillStyle = \"#10B981\";\n            ctx.beginPath();\n            ctx.arc(CENTER_X, CENTER_Y, 25, 0, Math.PI * 2);\n            ctx.fill();\n            ctx.strokeStyle = \"white\";\n            ctx.lineWidth = 3;\n            ctx.beginPath();\n            ctx.moveTo(CENTER_X - 10, CENTER_Y);\n            ctx.lineTo(CENTER_X - 3, CENTER_Y + 7);\n            ctx.lineTo(CENTER_X + 10, CENTER_Y - 7);\n            ctx.stroke();\n            ctx.fillStyle = \"#10B981\";\n            ctx.font = \"12px Arial\";\n            ctx.textAlign = \"center\";\n            ctx.fillText(\"Epley Complete\", CENTER_X, CENTER_Y + 45);\n            ctx.fillText(\"Tap to Reset\", CENTER_X, CENTER_Y + 60);\n            ctx.globalAlpha = 1.0 // Reset alpha\n            ;\n        }\n        // Draw labels\n        ctx.fillStyle = \"#333\";\n        ctx.font = \"14px Arial\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(\"\".concat(selectedEar === \"left\" ? \"Left\" : \"Right\", \" Semicircular Canal\"), CENTER_X, CENTER_Y - OUTER_RADIUS - 20);\n        ctx.fillText(\"Cupula\", cupulaX, cupulaY + cupulaHeight / 2 + 20);\n        ctx.fillText(\"Vestibule\", vestibuleConfig.centerX, vestibuleConfig.centerY + vestibuleConfig.radius + 15);\n    };\n    // Handle canvas click for Epley Complete reset\n    const handleCanvasClick = (event)=>{\n        if (!epleyComplete) return;\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const rect = canvas.getBoundingClientRect();\n        const clickX = event.clientX - rect.left;\n        const clickY = event.clientY - rect.top;\n        const distFromCenter = Math.sqrt((clickX - CENTER_X) ** 2 + (clickY - CENTER_Y) ** 2);\n        if (distFromCenter <= 25) {\n            handleEpleyCompleteClick();\n        }\n    };\n    // Initialize particles when ear and perspective are selected\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedEar && selectedPerspective) {\n            initializeParticles();\n        }\n    }, [\n        selectedEar,\n        selectedPerspective,\n        initializeParticles\n    ]);\n    // Cleanup completion timeout on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (completionTimeoutRef.current) {\n                clearTimeout(completionTimeoutRef.current);\n            }\n            if (transitionTimeoutRef.current) {\n                clearTimeout(transitionTimeoutRef.current);\n            }\n            if (detectionTimer) {\n                clearTimeout(detectionTimer);\n            }\n        };\n    }, [\n        detectionTimer\n    ]);\n    // Helper function to determine which bracket a particle is in\n    function getParticleBracket(particle) {\n        const dx = particle.x - CENTER_X;\n        const dy = particle.y - CENTER_Y;\n        const angle = Math.atan2(dy, dx);\n        let degrees = angle * 180 / Math.PI;\n        if (degrees < 0) degrees += 360;\n        if (selectedEar === \"right\") {\n            // Right ear brackets - stage 2 triggers after 30-40° of movement\n            // Red bracket: Starting position + initial settling zone (3-5 o'clock)\n            if (degrees >= 90 && degrees < 130) return \"red\" // 40° window for settling\n            ;\n            // Yellow bracket: First intentional movement (supine position)\n            if (degrees >= 130 && degrees < 210) return \"yellow\" // Triggers after 40° movement\n            ;\n            // Blue bracket: Top of canal\n            if (degrees >= 210 && degrees < 290) return \"blue\";\n            // Orange bracket: Right side, approaching vestibule\n            if (degrees >= 290 || degrees < 45) return \"orange\";\n            // Green bracket: Final vestibule position\n            if (degrees >= 45 && degrees < 90) return \"green\";\n        } else {\n            // Left ear brackets - stage 2 triggers after 30-40° of movement\n            // Red bracket: Starting position + initial settling zone (12-2 o'clock)\n            if (degrees >= 30 && degrees < 70) return \"red\" // 40° window for settling\n            ;\n            // Yellow bracket: First intentional movement (supine position)\n            if (degrees >= 70 && degrees < 150) return \"yellow\" // Triggers after 40° movement\n            ;\n            if (degrees >= 320 || degrees < 30) return \"yellow\" // Additional coverage for left ear\n            ;\n            // Blue bracket: Top of canal\n            if (degrees >= 210 && degrees < 290) return \"blue\";\n            // Orange bracket: Left side, approaching vestibule\n            if (degrees >= 150 && degrees < 210) return \"orange\";\n            // Green bracket: Final vestibule position\n            if (degrees >= 290 && degrees < 320) return \"green\";\n        }\n        return \"red\" // default to starting position\n        ;\n    }\n    // Helper function to get avatar image path\n    function getAvatarImagePath() {\n        if (!selectedEar || !selectedPerspective) return \"\";\n        const earPrefix = selectedEar === \"right\" ? \"R\" : \"L\";\n        const perspectiveType = selectedPerspective === \"patient\" ? \"treat\" : \"epley\";\n        return \"/avatars/\".concat(earPrefix, \"_\").concat(perspectiveType, \"_\").concat(currentAvatarStage, \".png\");\n    }\n    // Helper function to get stage description\n    function getStageDescription() {\n        if (selectedEar === \"left\") {\n            // Left ear Epley maneuver instructions\n            switch(currentAvatarStage){\n                case 1:\n                    return \"Seated Head Left\";\n                case 2:\n                    return \"Supine Head Left Neck Extended\";\n                case 3:\n                    return \"Supine Head Right Neck Extended\";\n                case 4:\n                    return \"Right Sidelying Head Right and Chin Tucked\";\n                case 5:\n                    return \"Seated with Chin Tucked\";\n                default:\n                    return \"Seated Head Left\";\n            }\n        } else {\n            // Right ear Epley maneuver instructions (original)\n            switch(currentAvatarStage){\n                case 1:\n                    return \"Seated Head Right\";\n                case 2:\n                    return \"Supine Head Right Neck Extended\";\n                case 3:\n                    return \"Supine Head Left Neck Extended\";\n                case 4:\n                    return \"Left Sidelying Head Left and Chin Tucked\";\n                case 5:\n                    return \"Seated with Chin Tucked\";\n                default:\n                    return \"Seated Head Right\";\n            }\n        }\n    }\n    // Update avatar stage based on particle positions\n    function updateAvatarStage() {\n        if (particlesRef.current.length < 1) return;\n        // Count particles in each bracket\n        const bracketCounts = {\n            red: 0,\n            yellow: 0,\n            blue: 0,\n            orange: 0,\n            green: 0\n        };\n        particlesRef.current.forEach((particle)=>{\n            const bracket = getParticleBracket(particle);\n            bracketCounts[bracket]++;\n        });\n        // Find the bracket with at least 1 particle (1/4 threshold)\n        let targetBracket = \"red\" // default\n        ;\n        for (const [bracket, count] of Object.entries(bracketCounts)){\n            if (count >= 1) {\n                targetBracket = bracket;\n                break;\n            }\n        }\n        // Map brackets to avatar stages (only move forward)\n        const bracketToStage = {\n            red: 1,\n            yellow: 2,\n            blue: 3,\n            orange: 4,\n            green: 5 // Stage 5\n        };\n        const newStage = bracketToStage[targetBracket];\n        if (newStage > currentAvatarStage) {\n            // Check if this is a new detection or the same stage we're already waiting for\n            if (newStage !== detectedStage) {\n                // New stage detected - clear any existing timer and start new one\n                if (detectionTimer) {\n                    clearTimeout(detectionTimer);\n                }\n                setDetectedStage(newStage);\n                const newTimer = setTimeout(()=>{\n                    startAvatarTransition(newStage);\n                    setDetectionTimer(null);\n                }, detectionDelayMs);\n                setDetectionTimer(newTimer);\n            }\n        // If it's the same stage we're already waiting for, just let the timer continue\n        } else if (newStage <= currentAvatarStage && detectionTimer) {\n            // Particles moved back to previous stage - cancel pending transition\n            clearTimeout(detectionTimer);\n            setDetectionTimer(null);\n            setDetectedStage(currentAvatarStage);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: \"white\",\n            zIndex: 1000,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    padding: \"20px\",\n                    borderBottom: \"1px solid #e2e8f0\",\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                    backgroundColor: \"white\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            margin: 0,\n                            fontSize: \"1.2rem\",\n                            fontWeight: \"600\"\n                        },\n                        children: \"\\uD83C\\uDFAF Pocket Epley Trainer\"\n                    }, void 0, false, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1143,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        style: {\n                            padding: \"8px 16px\",\n                            borderRadius: \"6px\",\n                            border: \"1px solid #d1d5db\",\n                            backgroundColor: \"white\",\n                            cursor: \"pointer\"\n                        },\n                        children: \"← Back\"\n                    }, void 0, false, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1146,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                lineNumber: 1131,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    marginTop: \"70px\",\n                    marginBottom: \"15px\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    gap: \"12px\",\n                    width: \"100%\",\n                    maxWidth: \"500px\",\n                    padding: \"0 15px\",\n                    overflowY: \"auto\",\n                    maxHeight: \"calc(100vh - 100px)\" // Adjusted for smaller header margin\n                },\n                children: [\n                    !selectedEar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                style: {\n                                    marginBottom: \"10px\"\n                                },\n                                children: \"Select Ear for Training\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1177,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"30px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: \"Choose which ear you want to practice the Epley maneuver on\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1178,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"20px\",\n                                    justifyContent: \"center\",\n                                    flexWrap: \"wrap\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedEar(\"left\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #374151\",\n                                            backgroundColor: \"white\",\n                                            color: \"#374151\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(55, 65, 81, 0.1)\",\n                                            minWidth: \"140px\",\n                                            order: 1,\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Left Ear\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1199,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"Epley Maneuver\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1200,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1182,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedEar(\"right\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #374151\",\n                                            backgroundColor: \"white\",\n                                            color: \"#374151\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(55, 65, 81, 0.1)\",\n                                            minWidth: \"140px\",\n                                            order: 2,\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Right Ear\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1219,\n                                                columnNumber: 26\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"Epley Maneuver\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1220,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1202,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1181,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1176,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && !selectedPerspective && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                style: {\n                                    marginBottom: \"10px\"\n                                },\n                                children: \"Select Training Perspective\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1229,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"30px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: [\n                                    \"Choose your learning perspective for the \",\n                                    selectedEar,\n                                    \" ear Epley maneuver\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1230,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"20px\",\n                                    justifyContent: \"center\",\n                                    flexWrap: \"wrap\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedPerspective(\"patient\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #667eea\",\n                                            backgroundColor: \"white\",\n                                            color: \"#667eea\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(102, 126, 234, 0.1)\",\n                                            minWidth: \"140px\",\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Patient Perspective\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1250,\n                                                columnNumber: 36\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"3rd Person Body View\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1251,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1234,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedPerspective(\"clinician\"),\n                                        style: {\n                                            padding: \"20px 30px\",\n                                            borderRadius: \"12px\",\n                                            border: \"2px solid #10b981\",\n                                            backgroundColor: \"white\",\n                                            color: \"#10b981\",\n                                            fontSize: \"16px\",\n                                            fontWeight: \"600\",\n                                            cursor: \"pointer\",\n                                            boxShadow: \"0 4px 15px rgba(16, 185, 129, 0.1)\",\n                                            minWidth: \"140px\",\n                                            textAlign: \"center\"\n                                        },\n                                        children: [\n                                            \"Clinician Perspective\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1269,\n                                                columnNumber: 38\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                style: {\n                                                    fontSize: \"12px\",\n                                                    opacity: 0.7\n                                                },\n                                                children: \"1st Person Face View\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1270,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1253,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1233,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    setSelectedEar(null);\n                                    setSelectedPerspective(null);\n                                    setEpleyComplete(false);\n                                    setCurrentAvatarStage(1) // Reset avatar stage\n                                    ;\n                                    // Don't reset orientation setup - keep it for switching ears\n                                    // Clean up completion animation\n                                    setCompletionAnimationStarted(false);\n                                    setAvatarOpacity(1.0);\n                                    setSuccessOpacity(0.0);\n                                    if (completionTimeoutRef.current) {\n                                        clearTimeout(completionTimeoutRef.current);\n                                        completionTimeoutRef.current = null;\n                                    }\n                                    // Clean up transition animation\n                                    setIsTransitioning(false);\n                                    setPreviousAvatarStage(1);\n                                    setTransitionProgress(0);\n                                    if (transitionTimeoutRef.current) {\n                                        clearTimeout(transitionTimeoutRef.current);\n                                        transitionTimeoutRef.current = null;\n                                    }\n                                    // Clean up detection delay\n                                    setDetectedStage(1);\n                                    if (detectionTimer) {\n                                        clearTimeout(detectionTimer);\n                                        setDetectionTimer(null);\n                                    }\n                                },\n                                style: {\n                                    marginTop: \"20px\",\n                                    padding: \"10px 20px\",\n                                    borderRadius: \"6px\",\n                                    border: \"1px solid #d1d5db\",\n                                    backgroundColor: \"white\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\",\n                                    cursor: \"pointer\"\n                                },\n                                children: \"← Back to Ear Selection\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1273,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1228,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && selectedPerspective && orientationLockPrompted && !orientationSetupComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"\\uD83D\\uDCF1 Lock Screen Rotation\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1325,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"20px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: \"For the best training experience, please lock your device to portrait mode:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1326,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    backgroundColor: \"#f8f9fa\",\n                                    padding: \"20px\",\n                                    borderRadius: \"8px\",\n                                    marginBottom: \"20px\",\n                                    textAlign: \"left\",\n                                    fontSize: \"14px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"iOS:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1337,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Swipe down from top-right → Tap rotation lock icon\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1337,\n                                        columnNumber: 87\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Android:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1338,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Swipe down from top → Tap auto-rotate to disable\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1329,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleOrientationLockAck,\n                                style: {\n                                    padding: \"12px 24px\",\n                                    borderRadius: \"8px\",\n                                    border: \"none\",\n                                    backgroundColor: \"#667eea\",\n                                    color: \"white\",\n                                    fontSize: \"16px\",\n                                    fontWeight: \"600\",\n                                    cursor: \"pointer\",\n                                    boxShadow: \"0 4px 15px rgba(102, 126, 234, 0.4)\"\n                                },\n                                children: \"Continue to Training\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1340,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1324,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && selectedPerspective && !orientationLockPrompted && !permissionGranted && !orientationSetupComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"40px 20px\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"\\uD83D\\uDCF2 Enable Device Orientation\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1362,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    marginBottom: \"20px\",\n                                    color: \"#666\",\n                                    fontSize: \"14px\"\n                                },\n                                children: [\n                                    \"Tilt your device to move the particles through the \",\n                                    selectedEar,\n                                    \" ear canal.\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1363,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: requestOrientationPermission,\n                                style: {\n                                    padding: \"12px 24px\",\n                                    borderRadius: \"8px\",\n                                    border: \"none\",\n                                    backgroundColor: \"#667eea\",\n                                    color: \"white\",\n                                    fontSize: \"16px\",\n                                    fontWeight: \"600\",\n                                    cursor: \"pointer\",\n                                    boxShadow: \"0 4px 15px rgba(102, 126, 234, 0.4)\"\n                                },\n                                children: \"Enable Orientation\"\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1366,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                        lineNumber: 1361,\n                        columnNumber: 11\n                    }, this),\n                    selectedEar && selectedPerspective && (permissionGranted || orientationSetupComplete) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            selectedPerspective === \"clinician\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"8px\",\n                                    textAlign: \"center\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"#333\",\n                                        margin: \"0 0 2px 0\",\n                                        fontWeight: \"600\"\n                                    },\n                                    children: [\n                                        \"Stage \",\n                                        currentAvatarStage,\n                                        \"/5: \",\n                                        getStageDescription()\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                    lineNumber: 1397,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1390,\n                                columnNumber: 15\n                            }, this),\n                            selectedPerspective === \"patient\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"center\",\n                                    marginBottom: \"8px\",\n                                    textAlign: \"center\"\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    style: {\n                                        fontSize: \"14px\",\n                                        color: \"#333\",\n                                        margin: \"0 0 2px 0\",\n                                        fontWeight: \"600\"\n                                    },\n                                    children: [\n                                        \"Stage \",\n                                        currentAvatarStage,\n                                        \"/5: \",\n                                        getStageDescription()\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                    lineNumber: 1417,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1410,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                ref: canvasRef,\n                                width: CANVAS_WIDTH,\n                                height: CANVAS_HEIGHT,\n                                onClick: handleCanvasClick,\n                                style: {\n                                    border: \"2px solid #ddd\",\n                                    borderRadius: \"8px\",\n                                    backgroundColor: \"white\",\n                                    cursor: epleyComplete ? \"pointer\" : \"default\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1428,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    textAlign: \"center\",\n                                    maxWidth: \"350px\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        style: {\n                                            fontSize: \"14px\",\n                                            color: \"#666\",\n                                            marginBottom: \"10px\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: [\n                                                    selectedEar === \"left\" ? \"Left\" : \"Right\",\n                                                    \" Ear Epley Training:\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1443,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1443,\n                                                columnNumber: 97\n                                            }, this),\n                                            \"Tilt your device to guide particles into the vestibule. Complete the maneuver by getting all particles to dissolve in the vestibule chamber.\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1442,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        style: {\n                                            display: \"flex\",\n                                            gap: \"10px\",\n                                            justifyContent: \"center\",\n                                            flexWrap: \"wrap\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: initializeParticles,\n                                                style: {\n                                                    padding: \"10px 20px\",\n                                                    borderRadius: \"6px\",\n                                                    border: \"none\",\n                                                    backgroundColor: \"#10b981\",\n                                                    color: \"white\",\n                                                    fontSize: \"14px\",\n                                                    fontWeight: \"600\",\n                                                    cursor: \"pointer\"\n                                                },\n                                                children: \"Reset Particles\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1449,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setSelectedEar(null);\n                                                    setSelectedPerspective(null);\n                                                    setEpleyComplete(false);\n                                                    setCurrentAvatarStage(1) // Reset avatar stage\n                                                    ;\n                                                    // Don't reset orientation setup - keep it for switching ears\n                                                    // Clean up completion animation\n                                                    setCompletionAnimationStarted(false);\n                                                    setAvatarOpacity(1.0);\n                                                    setSuccessOpacity(0.0);\n                                                    if (completionTimeoutRef.current) {\n                                                        clearTimeout(completionTimeoutRef.current);\n                                                        completionTimeoutRef.current = null;\n                                                    }\n                                                    // Clean up transition animation\n                                                    setIsTransitioning(false);\n                                                    setPreviousAvatarStage(1);\n                                                    setTransitionProgress(0);\n                                                    if (transitionTimeoutRef.current) {\n                                                        clearTimeout(transitionTimeoutRef.current);\n                                                        transitionTimeoutRef.current = null;\n                                                    }\n                                                    // Clean up detection delay\n                                                    setDetectedStage(1);\n                                                    if (detectionTimer) {\n                                                        clearTimeout(detectionTimer);\n                                                        setDetectionTimer(null);\n                                                    }\n                                                },\n                                                style: {\n                                                    padding: \"10px 20px\",\n                                                    borderRadius: \"6px\",\n                                                    border: \"1px solid #d1d5db\",\n                                                    backgroundColor: \"white\",\n                                                    color: \"#666\",\n                                                    fontSize: \"14px\",\n                                                    fontWeight: \"600\",\n                                                    cursor: \"pointer\"\n                                                },\n                                                children: \"Switch Ear\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                                lineNumber: 1464,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                        lineNumber: 1448,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                                lineNumber: 1441,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n                lineNumber: 1161,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/new/Desktop/Vestibular Screening WebApp/components/CanalSimulation.tsx\",\n        lineNumber: 1117,\n        columnNumber: 5\n    }, this);\n}\n_s(CanalSimulation, \"rkYvQVZN19SACxQ8feCLdpEoYVE=\");\n_c = CanalSimulation;\nvar _c;\n$RefreshReg$(_c, \"CanalSimulation\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQ2FuYWxTaW11bGF0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFdUU7QUFxQmhFLFNBQVNLLGdCQUFnQixLQUFpQztRQUFqQyxFQUFFQyxPQUFPLEVBQXdCLEdBQWpDOztJQUM5QixNQUFNQyxZQUFZSiw2Q0FBTUEsQ0FBb0I7SUFDNUMsTUFBTUssZUFBZUwsNkNBQU1BO0lBQzNCLE1BQU0sQ0FBQ00sV0FBV0MsYUFBYSxHQUFHVCwrQ0FBUUEsQ0FBYSxFQUFFO0lBQ3pELE1BQU0sQ0FBQ1UsYUFBYUMsZUFBZSxHQUFHWCwrQ0FBUUEsQ0FBQztRQUFFWSxNQUFNO1FBQUdDLE9BQU87SUFBRTtJQUNuRSxNQUFNLENBQUNDLG1CQUFtQkMscUJBQXFCLEdBQUdmLCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQ2dCLGVBQWVDLGlCQUFpQixHQUFHakIsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDa0IsYUFBYUMsZUFBZSxHQUFHbkIsK0NBQVFBLENBQVU7SUFDeEQsTUFBTSxDQUFDb0IscUJBQXFCQyx1QkFBdUIsR0FBR3JCLCtDQUFRQSxDQUFrQjtJQUNoRixNQUFNLENBQUNzQix5QkFBeUJDLDJCQUEyQixHQUFHdkIsK0NBQVFBLENBQUM7SUFDdkUsTUFBTSxDQUFDd0IsMEJBQTBCQyw0QkFBNEIsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQ3pFLE1BQU0wQixlQUFleEIsNkNBQU1BLENBQWEsRUFBRTtJQUUxQyx5QkFBeUI7SUFDekIsTUFBTSxDQUFDeUIsb0JBQW9CQyxzQkFBc0IsR0FBRzVCLCtDQUFRQSxDQUFDLEdBQUcscUJBQXFCOztJQUVyRiw2QkFBNkI7SUFDN0IsTUFBTSxDQUFDNkIsNEJBQTRCQyw4QkFBOEIsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQzdFLE1BQU0sQ0FBQytCLGVBQWVDLGlCQUFpQixHQUFHaEMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDaUMsZ0JBQWdCQyxr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QUNSZixpQkFBaUI7b0RBQ2pCeUIsT0FBTztvREFDUGYsVUFBVTtvREFDVkMsWUFBWTtvREFDWkssUUFBUTtnREFDVjswREFDRDs7Ozs7OzBEQUdELDhEQUFDSjtnREFDQ0MsU0FBUztvREFDUG5TLGVBQWU7b0RBQ2ZFLHVCQUF1QjtvREFDdkJKLGlCQUFpQjtvREFDakJXLHNCQUFzQixHQUFHLHFCQUFxQjs7b0RBQzlDLDZEQUE2RDtvREFFN0QsZ0NBQWdDO29EQUNoQ0UsOEJBQThCO29EQUM5QkUsaUJBQWlCO29EQUNqQkUsa0JBQWtCO29EQUNsQixJQUFJQyxxQkFBcUIrQyxPQUFPLEVBQUU7d0RBQ2hDQyxhQUFhaEQscUJBQXFCK0MsT0FBTzt3REFDekMvQyxxQkFBcUIrQyxPQUFPLEdBQUc7b0RBQ2pDO29EQUVBLGdDQUFnQztvREFDaEM3QyxtQkFBbUI7b0RBQ25CRSx1QkFBdUI7b0RBQ3ZCRSxzQkFBc0I7b0RBQ3RCLElBQUlDLHFCQUFxQndDLE9BQU8sRUFBRTt3REFDaENDLGFBQWF6QyxxQkFBcUJ3QyxPQUFPO3dEQUN6Q3hDLHFCQUFxQndDLE9BQU8sR0FBRztvREFDakM7b0RBRUEsMkJBQTJCO29EQUMzQnRDLGlCQUFpQjtvREFDakIsSUFBSUMsZ0JBQWdCO3dEQUNsQnNDLGFBQWF0Qzt3REFDYkMsa0JBQWtCO29EQUNwQjtnREFDRjtnREFDQXVQLE9BQU87b0RBQ0xVLFNBQVM7b0RBQ1RRLGNBQWM7b0RBQ2RDLFFBQVE7b0RBQ1JmLGlCQUFpQjtvREFDakJ5QixPQUFPO29EQUNQZixVQUFVO29EQUNWQyxZQUFZO29EQUNaSyxRQUFRO2dEQUNWOzBEQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVqQjtHQXI5Q2dCclQ7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9DYW5hbFNpbXVsYXRpb24udHN4PzkxYWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIFBhcnRpY2xlIHtcbiAgaWQ6IG51bWJlclxuICB4OiBudW1iZXJcbiAgeTogbnVtYmVyXG4gIHZ4OiBudW1iZXJcbiAgdnk6IG51bWJlclxuICByYWRpdXM6IG51bWJlclxuICBpbkFtcHVsbGE6IGJvb2xlYW5cbiAgZGlzc29sdmluZzogYm9vbGVhblxuICBvcmlnaW5hbFJhZGl1czogbnVtYmVyXG59XG5cbmludGVyZmFjZSBDYW5hbFNpbXVsYXRpb25Qcm9wcyB7XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWRcbn1cblxudHlwZSBFYXJUeXBlID0gJ3JpZ2h0JyB8ICdsZWZ0JyB8IG51bGxcbnR5cGUgUGVyc3BlY3RpdmVUeXBlID0gJ3BhdGllbnQnIHwgJ2NsaW5pY2lhbicgfCBudWxsXG5cbmV4cG9ydCBmdW5jdGlvbiBDYW5hbFNpbXVsYXRpb24oeyBvbkNsb3NlIH06IENhbmFsU2ltdWxhdGlvblByb3BzKSB7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudD4obnVsbClcbiAgY29uc3QgYW5pbWF0aW9uUmVmID0gdXNlUmVmPG51bWJlcj4oKVxuICBjb25zdCBbcGFydGljbGVzLCBzZXRQYXJ0aWNsZXNdID0gdXNlU3RhdGU8UGFydGljbGVbXT4oW10pXG4gIGNvbnN0IFtvcmllbnRhdGlvbiwgc2V0T3JpZW50YXRpb25dID0gdXNlU3RhdGUoeyBiZXRhOiAwLCBnYW1tYTogMCB9KVxuICBjb25zdCBbcGVybWlzc2lvbkdyYW50ZWQsIHNldFBlcm1pc3Npb25HcmFudGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZXBsZXlDb21wbGV0ZSwgc2V0RXBsZXlDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NlbGVjdGVkRWFyLCBzZXRTZWxlY3RlZEVhcl0gPSB1c2VTdGF0ZTxFYXJUeXBlPihudWxsKVxuICBjb25zdCBbc2VsZWN0ZWRQZXJzcGVjdGl2ZSwgc2V0U2VsZWN0ZWRQZXJzcGVjdGl2ZV0gPSB1c2VTdGF0ZTxQZXJzcGVjdGl2ZVR5cGU+KG51bGwpXG4gIGNvbnN0IFtvcmllbnRhdGlvbkxvY2tQcm9tcHRlZCwgc2V0T3JpZW50YXRpb25Mb2NrUHJvbXB0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtvcmllbnRhdGlvblNldHVwQ29tcGxldGUsIHNldE9yaWVudGF0aW9uU2V0dXBDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgcGFydGljbGVzUmVmID0gdXNlUmVmPFBhcnRpY2xlW10+KFtdKVxuICBcbiAgLy8gQXZhdGFyIHNsaWRlc2hvdyBzdGF0ZVxuICBjb25zdCBbY3VycmVudEF2YXRhclN0YWdlLCBzZXRDdXJyZW50QXZhdGFyU3RhZ2VdID0gdXNlU3RhdGUoMSkgLy8gU3RhcnQgd2l0aCBzdGFnZSAxXG4gIFxuICAvLyBDb21wbGV0aW9uIGFuaW1hdGlvbiBzdGF0ZVxuICBjb25zdCBbY29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQsIHNldENvbXBsZXRpb25BbmltYXRpb25TdGFydGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbYXZhdGFyT3BhY2l0eSwgc2V0QXZhdGFyT3BhY2l0eV0gPSB1c2VTdGF0ZSgxLjApXG4gIGNvbnN0IFtzdWNjZXNzT3BhY2l0eSwgc2V0U3VjY2Vzc09wYWNpdHldID0gdXNlU3RhdGUoMC4wKVxuICBjb25zdCBjb21wbGV0aW9uVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpXG4gIFxuICAvLyBBdmF0YXIgdHJhbnNpdGlvbiBhbmltYXRpb24gc3RhdGVcbiAgY29uc3QgW2lzVHJhbnNpdGlvbmluZywgc2V0SXNUcmFuc2l0aW9uaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbcHJldmlvdXNBdmF0YXJTdGFnZSwgc2V0UHJldmlvdXNBdmF0YXJTdGFnZV0gPSB1c2VTdGF0ZSgxKVxuICBjb25zdCBbdHJhbnNpdGlvblByb2dyZXNzLCBzZXRUcmFuc2l0aW9uUHJvZ3Jlc3NdID0gdXNlU3RhdGUoMCkgLy8gMCB0byAxXG4gIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0UmVmID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbClcbiAgXG4gIC8vIFBhcnRpY2xlIGRldGVjdGlvbiBkZWxheSBzdGF0ZVxuICBjb25zdCBbZGV0ZWN0ZWRTdGFnZSwgc2V0RGV0ZWN0ZWRTdGFnZV0gPSB1c2VTdGF0ZSgxKVxuICBjb25zdCBbZGV0ZWN0aW9uVGltZXIsIHNldERldGVjdGlvblRpbWVyXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbClcbiAgY29uc3QgZGV0ZWN0aW9uRGVsYXlNcyA9IDI1MCAvLyAwLjI1IHNlY29uZHNcblxuICAvLyBDYW52YXMgZGltZW5zaW9ucyAtIG9wdGltaXplZCBmb3IgbW9iaWxlXG4gIGNvbnN0IENBTlZBU19XSURUSCA9IDQ1MCAgLy8gSW5jcmVhc2VkIGZyb20gNDAwXG4gIGNvbnN0IENBTlZBU19IRUlHSFQgPSA0NTAgLy8gSW5jcmVhc2VkIGZyb20gNDAwXG4gIGNvbnN0IENFTlRFUl9YID0gQ0FOVkFTX1dJRFRIIC8gMlxuICBjb25zdCBDRU5URVJfWSA9IENBTlZBU19IRUlHSFQgLyAyXG4gIFxuICAvLyBSaW5nIGRpbWVuc2lvbnMgLSBzY2FsZWQgdG8gZmlsbCBsYXJnZXIgY2FudmFzXG4gIGNvbnN0IE9VVEVSX1JBRElVUyA9IDE4MCAgLy8gSW5jcmVhc2VkIGZyb20gMTU3ICh3YXMgMTQwIG9yaWdpbmFsbHkpXG4gIGNvbnN0IElOTkVSX1JBRElVUyA9IDEzMCAgLy8gSW5jcmVhc2VkIGZyb20gMTEyICh3YXMgMTAwIG9yaWdpbmFsbHkpXG4gIGNvbnN0IFRVQkVfV0lEVEggPSBPVVRFUl9SQURJVVMgLSBJTk5FUl9SQURJVVNcbiAgY29uc3QgUEFSVElDTEVfUkFESVVTID0gTWF0aC5mbG9vcihUVUJFX1dJRFRIIC8gOCkgLy8gMS84dGggdHViZSB3aWR0aFxuXG4gIC8vIEdldCB2ZXN0aWJ1bGUgY29uZmlndXJhdGlvbiBiYXNlZCBvbiBlYXIgdHlwZVxuICBjb25zdCBnZXRWZXN0aWJ1bGVDb25maWcgPSAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkRWFyID09PSAnbGVmdCcpIHtcbiAgICAgIC8vIExlZnQgZWFyOiB2ZXN0aWJ1bGUgYXQgNCBvJ2Nsb2NrIHBvc2l0aW9uICgxMjAgZGVncmVlcylcbiAgICAgIGNvbnN0IFZFU1RJQlVMRV9BTkdMRSA9IE1hdGguUEkgKiAyLzMgLy8gNCBvJ2Nsb2NrIHBvc2l0aW9uICgxMjAgZGVncmVlcylcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuZ2xlOiBWRVNUSUJVTEVfQU5HTEUsXG4gICAgICAgIGNlbnRlclg6IENFTlRFUl9YICsgTWF0aC5jb3MoVkVTVElCVUxFX0FOR0xFKSAqIChPVVRFUl9SQURJVVMgKyA2MCksIC8vIEluY3JlYXNlZCBmcm9tIDUwXG4gICAgICAgIGNlbnRlclk6IENFTlRFUl9ZICsgTWF0aC5zaW4oVkVTVElCVUxFX0FOR0xFKSAqIChPVVRFUl9SQURJVVMgKyA2MCksIC8vIEluY3JlYXNlZCBmcm9tIDUwXG4gICAgICAgIHJhZGl1czogODUgLy8gSW5jcmVhc2VkIGZyb20gNzBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmlnaHQgZWFyOiB2ZXN0aWJ1bGUgYXQgNCBvJ2Nsb2NrIHBvc2l0aW9uIChvcmlnaW5hbClcbiAgICAgIGNvbnN0IFZFU1RJQlVMRV9BTkdMRSA9IE1hdGguUEkgLyAzIC8vIDQgbydjbG9jayBwb3NpdGlvbiAoNjAgZGVncmVlcylcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuZ2xlOiBWRVNUSUJVTEVfQU5HTEUsXG4gICAgICAgIGNlbnRlclg6IENFTlRFUl9YICsgTWF0aC5jb3MoVkVTVElCVUxFX0FOR0xFKSAqIChPVVRFUl9SQURJVVMgKyA2MCksIC8vIEluY3JlYXNlZCBmcm9tIDUwXG4gICAgICAgIGNlbnRlclk6IENFTlRFUl9ZICsgTWF0aC5zaW4oVkVTVElCVUxFX0FOR0xFKSAqIChPVVRFUl9SQURJVVMgKyA2MCksIC8vIEluY3JlYXNlZCBmcm9tIDUwXG4gICAgICAgIHJhZGl1czogODUgLy8gSW5jcmVhc2VkIGZyb20gNzBcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJbml0aWFsaXplIHBhcnRpY2xlcyBiYXNlZCBvbiBlYXIgdHlwZVxuICBjb25zdCBpbml0aWFsaXplUGFydGljbGVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRFYXIpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IG5ld1BhcnRpY2xlczogUGFydGljbGVbXSA9IFtdXG4gICAgY29uc3QgY3VwdWxhQW5nbGUgPSBNYXRoLlBJIC8gMiAvLyBCb3R0b20gb2YgcmluZyAoNiBvJ2Nsb2NrKVxuICAgIGNvbnN0IHJpbmdDZW50ZXIgPSAoT1VURVJfUkFESVVTICsgSU5ORVJfUkFESVVTKSAvIDIgLy8gTWlkZGxlIG9mIHR1YmVcbiAgICBcbiAgICBsZXQgcGFydGljbGVBbmdsZVxuICAgIGlmIChzZWxlY3RlZEVhciA9PT0gJ2xlZnQnKSB7XG4gICAgICAvLyBMZWZ0IGVhcjogcGFydGljbGVzIHNwYXduIG9uIFJJR0hUIHNpZGUgb2YgY3VwdWxhICg0LTUgbydjbG9jayBwb3NpdGlvbilcbiAgICAgIHBhcnRpY2xlQW5nbGUgPSBjdXB1bGFBbmdsZSAtIE1hdGguUEkgLyA2IC8vIFJJR0hUIHNpZGUgb2YgY3VwdWxhICgzMCBkZWdyZWVzIGxlZnQgb2YgYm90dG9tID0gNC01IG8nY2xvY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJpZ2h0IGVhcjogcGFydGljbGVzIHNwYXduIG9uIExFRlQgc2lkZSBvZiBjdXB1bGEgKDctOCBvJ2Nsb2NrIHBvc2l0aW9uKSAtIG9yaWdpbmFsXG4gICAgICBwYXJ0aWNsZUFuZ2xlID0gY3VwdWxhQW5nbGUgKyBNYXRoLlBJIC8gNiAvLyBMRUZUIHNpZGUgb2YgY3VwdWxhICgzMCBkZWdyZWVzIHJpZ2h0IG9mIGJvdHRvbSA9IDctOCBvJ2Nsb2NrKVxuICAgIH1cbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgLy8gQ2x1c3RlciBhbGwgcGFydGljbGVzIHRpZ2h0bHkgb24gYXBwcm9wcmlhdGUgc2lkZSBvZiBjdXB1bGFcbiAgICAgIGNvbnN0IGFuZ2xlID0gcGFydGljbGVBbmdsZSArIChpIC0gMS41KSAqIDAuMDUgLy8gVGlnaHQgY2x1c3RlcmluZ1xuICAgICAgbmV3UGFydGljbGVzLnB1c2goe1xuICAgICAgICBpZDogaSxcbiAgICAgICAgeDogQ0VOVEVSX1ggKyBNYXRoLmNvcyhhbmdsZSkgKiByaW5nQ2VudGVyLFxuICAgICAgICB5OiBDRU5URVJfWSArIE1hdGguc2luKGFuZ2xlKSAqIHJpbmdDZW50ZXIsXG4gICAgICAgIHZ4OiAwLFxuICAgICAgICB2eTogMCxcbiAgICAgICAgcmFkaXVzOiBQQVJUSUNMRV9SQURJVVMsXG4gICAgICAgIGluQW1wdWxsYTogZmFsc2UsXG4gICAgICAgIGRpc3NvbHZpbmc6IGZhbHNlLFxuICAgICAgICBvcmlnaW5hbFJhZGl1czogUEFSVElDTEVfUkFESVVTXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBzZXRQYXJ0aWNsZXMobmV3UGFydGljbGVzKVxuICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50ID0gbmV3UGFydGljbGVzXG4gICAgc2V0RXBsZXlDb21wbGV0ZShmYWxzZSlcbiAgICBzZXRDdXJyZW50QXZhdGFyU3RhZ2UoMSkgLy8gUmVzZXQgYXZhdGFyIHRvIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAgXG4gICAgLy8gUmVzZXQgY29tcGxldGlvbiBhbmltYXRpb24gc3RhdGVcbiAgICBzZXRDb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZChmYWxzZSlcbiAgICBzZXRBdmF0YXJPcGFjaXR5KDEuMClcbiAgICBzZXRTdWNjZXNzT3BhY2l0eSgwLjApXG4gICAgaWYgKGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dChjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICB9XG4gICAgXG4gICAgLy8gUmVzZXQgdHJhbnNpdGlvbiBhbmltYXRpb24gc3RhdGVcbiAgICBzZXRJc1RyYW5zaXRpb25pbmcoZmFsc2UpXG4gICAgc2V0UHJldmlvdXNBdmF0YXJTdGFnZSgxKVxuICAgIHNldFRyYW5zaXRpb25Qcm9ncmVzcygwKVxuICAgIGlmICh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICAgIFxuICAgIC8vIFJlc2V0IGRldGVjdGlvbiBkZWxheSBzdGF0ZVxuICAgIHNldERldGVjdGVkU3RhZ2UoMSlcbiAgICBpZiAoZGV0ZWN0aW9uVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dChkZXRlY3Rpb25UaW1lcilcbiAgICAgIHNldERldGVjdGlvblRpbWVyKG51bGwpXG4gICAgfVxuICB9LCBbc2VsZWN0ZWRFYXJdKVxuXG4gIC8vIFN0YXJ0IGNvbXBsZXRpb24gYW5pbWF0aW9uIHNlcXVlbmNlXG4gIGNvbnN0IHN0YXJ0Q29tcGxldGlvbkFuaW1hdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoY29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQpIHJldHVyblxuICAgIFxuICAgIHNldENvbXBsZXRpb25BbmltYXRpb25TdGFydGVkKHRydWUpXG4gICAgXG4gICAgLy8gUGhhc2UgMTogRmFkZSBvdXQgYXZhdGFyIG92ZXIgMSBzZWNvbmRcbiAgICBjb25zdCBmYWRlT3V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBzZXRBdmF0YXJPcGFjaXR5KHByZXYgPT4ge1xuICAgICAgICBjb25zdCBuZXdPcGFjaXR5ID0gcHJldiAtIDAuMDUgLy8gRmFkZSBvdXQgaW4gMjAgc3RlcHMgKDEgc2Vjb25kIGF0IDUwbXMgaW50ZXJ2YWxzKVxuICAgICAgICBpZiAobmV3T3BhY2l0eSA8PSAwKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChmYWRlT3V0SW50ZXJ2YWwpXG4gICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3T3BhY2l0eVxuICAgICAgfSlcbiAgICB9LCA1MClcbiAgICBcbiAgICAvLyBQaGFzZSAyOiBBZnRlciAxIHNlY29uZCwgZmFkZSBpbiBzdWNjZXNzIGluZGljYXRvclxuICAgIGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldEVwbGV5Q29tcGxldGUodHJ1ZSlcbiAgICAgIFxuICAgICAgY29uc3QgZmFkZUluSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHNldFN1Y2Nlc3NPcGFjaXR5KHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld09wYWNpdHkgPSBwcmV2ICsgMC4wNSAvLyBGYWRlIGluIG92ZXIgMSBzZWNvbmRcbiAgICAgICAgICBpZiAobmV3T3BhY2l0eSA+PSAxKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGZhZGVJbkludGVydmFsKVxuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ld09wYWNpdHlcbiAgICAgICAgfSlcbiAgICAgIH0sIDUwKVxuICAgIH0sIDEwMDApXG4gIH0sIFtjb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZF0pXG5cbiAgLy8gU3RhcnQgYXZhdGFyIHRyYW5zaXRpb24gYW5pbWF0aW9uXG4gIGNvbnN0IHN0YXJ0QXZhdGFyVHJhbnNpdGlvbiA9IHVzZUNhbGxiYWNrKChuZXdTdGFnZTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGlzVHJhbnNpdGlvbmluZyB8fCBuZXdTdGFnZSA9PT0gY3VycmVudEF2YXRhclN0YWdlKSByZXR1cm5cbiAgICBcbiAgICAvLyBDbGVhbiB1cCBhbnkgZXhpc3RpbmcgdHJhbnNpdGlvblxuICAgIGlmICh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICB9XG4gICAgXG4gICAgc2V0UHJldmlvdXNBdmF0YXJTdGFnZShjdXJyZW50QXZhdGFyU3RhZ2UpXG4gICAgc2V0SXNUcmFuc2l0aW9uaW5nKHRydWUpXG4gICAgc2V0VHJhbnNpdGlvblByb2dyZXNzKDApXG4gICAgXG4gICAgLy8gU21vb3RoIHRyYW5zaXRpb24gb3ZlciA4MDBtc1xuICAgIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbiA9IDgwMFxuICAgIGNvbnN0IHN0ZXBzID0gNDAgLy8gMjBtcyBpbnRlcnZhbHMgZm9yIHNtb290aCBhbmltYXRpb25cbiAgICBjb25zdCBzdGVwRHVyYXRpb24gPSB0cmFuc2l0aW9uRHVyYXRpb24gLyBzdGVwc1xuICAgIFxuICAgIGxldCBzdGVwID0gMFxuICAgIGNvbnN0IHRyYW5zaXRpb25JbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHN0ZXArK1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBzdGVwIC8gc3RlcHNcbiAgICAgIFxuICAgICAgLy8gVXNlIGVhc2VJbk91dEN1YmljIGZvciBuYXR1cmFsIG1vdmVtZW50IGZlZWxcbiAgICAgIGNvbnN0IGVhc2VkUHJvZ3Jlc3MgPSBwcm9ncmVzcyA8IDAuNSBcbiAgICAgICAgPyA0ICogcHJvZ3Jlc3MgKiBwcm9ncmVzcyAqIHByb2dyZXNzIFxuICAgICAgICA6IDEgLSBNYXRoLnBvdygtMiAqIHByb2dyZXNzICsgMiwgMykgLyAyXG4gICAgICBcbiAgICAgIHNldFRyYW5zaXRpb25Qcm9ncmVzcyhlYXNlZFByb2dyZXNzKVxuICAgICAgXG4gICAgICBpZiAoc3RlcCA+PSBzdGVwcykge1xuICAgICAgICBjbGVhckludGVydmFsKHRyYW5zaXRpb25JbnRlcnZhbClcbiAgICAgICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKG5ld1N0YWdlKVxuICAgICAgICBzZXRJc1RyYW5zaXRpb25pbmcoZmFsc2UpXG4gICAgICAgIHNldFRyYW5zaXRpb25Qcm9ncmVzcygwKVxuICAgICAgfVxuICAgIH0sIHN0ZXBEdXJhdGlvbilcbiAgICBcbiAgICAvLyBDbGVhbnVwIHRpbWVvdXRcbiAgICB0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHRyYW5zaXRpb25JbnRlcnZhbClcbiAgICAgIHNldEN1cnJlbnRBdmF0YXJTdGFnZShuZXdTdGFnZSlcbiAgICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSlcbiAgICAgIHNldFRyYW5zaXRpb25Qcm9ncmVzcygwKVxuICAgIH0sIHRyYW5zaXRpb25EdXJhdGlvbiArIDEwMClcbiAgfSwgW2lzVHJhbnNpdGlvbmluZywgY3VycmVudEF2YXRhclN0YWdlXSlcblxuICAvLyBUcnkgdG8gbG9jayBvcmllbnRhdGlvblxuICBjb25zdCBsb2NrT3JpZW50YXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFR5cGUgYXNzZXJ0aW9uIGZvciBzY3JlZW4gb3JpZW50YXRpb24gbG9jayAobm90IGFsbCBicm93c2VycyBzdXBwb3J0IHRoaXMpXG4gICAgICBpZiAoc2NyZWVuLm9yaWVudGF0aW9uICYmIChzY3JlZW4ub3JpZW50YXRpb24gYXMgYW55KS5sb2NrKSB7XG4gICAgICAgIGF3YWl0IChzY3JlZW4ub3JpZW50YXRpb24gYXMgYW55KS5sb2NrKCdwb3J0cmFpdCcpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdPcmllbnRhdGlvbiBsb2NrIG5vdCBzdXBwb3J0ZWQgb3IgZmFpbGVkOicsIGVycm9yKVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIFJlcXVlc3QgZGV2aWNlIG9yaWVudGF0aW9uIHBlcm1pc3Npb25cbiAgY29uc3QgcmVxdWVzdE9yaWVudGF0aW9uUGVybWlzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBPbmx5IHNob3cgb3JpZW50YXRpb24gc2V0dXAgaWYgbm90IGFscmVhZHkgY29tcGxldGVkXG4gICAgaWYgKCFvcmllbnRhdGlvblNldHVwQ29tcGxldGUpIHtcbiAgICAgIC8vIEZpcnN0IHRyeSB0byBsb2NrIG9yaWVudGF0aW9uXG4gICAgICBjb25zdCBsb2NrU3VjY2VzcyA9IGF3YWl0IGxvY2tPcmllbnRhdGlvbigpXG4gICAgICBcbiAgICAgIGlmICghbG9ja1N1Y2Nlc3MgJiYgIW9yaWVudGF0aW9uTG9ja1Byb21wdGVkKSB7XG4gICAgICAgIHNldE9yaWVudGF0aW9uTG9ja1Byb21wdGVkKHRydWUpXG4gICAgICAgIHJldHVybiAvLyBTaG93IG1hbnVhbCBpbnN0cnVjdGlvbiBmaXJzdFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgRGV2aWNlT3JpZW50YXRpb25FdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3JlcXVlc3RQZXJtaXNzaW9uJyBpbiBEZXZpY2VPcmllbnRhdGlvbkV2ZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBwZXJtaXNzaW9uID0gYXdhaXQgKERldmljZU9yaWVudGF0aW9uRXZlbnQgYXMgYW55KS5yZXF1ZXN0UGVybWlzc2lvbigpXG4gICAgICAgIGlmIChwZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcbiAgICAgICAgICBzZXRQZXJtaXNzaW9uR3JhbnRlZCh0cnVlKVxuICAgICAgICAgIHNldE9yaWVudGF0aW9uU2V0dXBDb21wbGV0ZSh0cnVlKVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXF1ZXN0aW5nIG9yaWVudGF0aW9uIHBlcm1pc3Npb246JywgZXJyb3IpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFBlcm1pc3Npb25HcmFudGVkKHRydWUpXG4gICAgICBzZXRPcmllbnRhdGlvblNldHVwQ29tcGxldGUodHJ1ZSlcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgbWFudWFsIG9yaWVudGF0aW9uIGxvY2sgYWNrbm93bGVkZ21lbnRcbiAgY29uc3QgaGFuZGxlT3JpZW50YXRpb25Mb2NrQWNrID0gKCkgPT4ge1xuICAgIHNldE9yaWVudGF0aW9uTG9ja1Byb21wdGVkKGZhbHNlKVxuICAgIHJlcXVlc3RPcmllbnRhdGlvblBlcm1pc3Npb24oKVxuICB9XG5cbiAgLy8gSGFuZGxlIGRldmljZSBvcmllbnRhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcGVybWlzc2lvbkdyYW50ZWQpIHJldHVyblxuXG4gICAgY29uc3QgaGFuZGxlT3JpZW50YXRpb24gPSAoZXZlbnQ6IERldmljZU9yaWVudGF0aW9uRXZlbnQpID0+IHtcbiAgICAgIC8vIEdldCByYXcgb3JpZW50YXRpb24gdmFsdWVzXG4gICAgICBsZXQgYmV0YSA9IGV2ZW50LmJldGEgfHwgMFxuICAgICAgbGV0IGdhbW1hID0gZXZlbnQuZ2FtbWEgfHwgMFxuICAgICAgXG4gICAgICAvLyBEZXRlY3QgYW5kIGZpbHRlciBvdXQgZXh0cmVtZSBvcmllbnRhdGlvbiBjaGFuZ2VzIHRoYXQgY2F1c2UgZ2ltYmFsIGxvY2tcbiAgICAgIC8vIElmIGJldGEganVtcHMgbW9yZSB0aGFuIDkwIGRlZ3JlZXMgZnJvbSBwcmV2aW91cyB2YWx1ZSwgaXQncyBsaWtlbHkgYSBnaW1iYWwgbG9jayBzcGlrZVxuICAgICAgc2V0T3JpZW50YXRpb24ocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IGJldGFEaWZmID0gTWF0aC5hYnMoYmV0YSAtIHByZXYuYmV0YSlcbiAgICAgICAgY29uc3QgZ2FtbWFEaWZmID0gTWF0aC5hYnMoZ2FtbWEgLSBwcmV2LmdhbW1hKVxuICAgICAgICBcbiAgICAgICAgLy8gSWYgdGhlcmUncyBhIG1hc3NpdmUganVtcCAoPjkwwrApLCBpZ25vcmUgdGhpcyByZWFkaW5nIGFuZCBrZWVwIHByZXZpb3VzIHZhbHVlc1xuICAgICAgICBpZiAoYmV0YURpZmYgPiA5MCB8fCBnYW1tYURpZmYgPiA5MCkge1xuICAgICAgICAgIHJldHVybiBwcmV2IC8vIEtlZXAgcHJldmlvdXMgc3RhYmxlIHZhbHVlc1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDbGFtcCB0byByZWFzb25hYmxlIHBoeXNpb2xvZ2ljYWwgcmFuZ2UgKMKxMzDCsCBpcyBwbGVudHkgZm9yIEVwbGV5KVxuICAgICAgICBiZXRhID0gTWF0aC5tYXgoLTMwLCBNYXRoLm1pbigzMCwgYmV0YSkpXG4gICAgICAgIGdhbW1hID0gTWF0aC5tYXgoLTMwLCBNYXRoLm1pbigzMCwgZ2FtbWEpKVxuICAgICAgICBcbiAgICAgICAgLy8gRW5zdXJlIHdlIG5ldmVyIGNyZWF0ZSBcInVwd2FyZFwiIGdyYXZpdHkgLSBhbHdheXMgbWFpbnRhaW4gZG93bndhcmQgY29tcG9uZW50XG4gICAgICAgIC8vIElmIGJldGEgd291bGQgY3JlYXRlIHN0cm9uZyB1cHdhcmQgZm9yY2UsIGxpbWl0IGl0XG4gICAgICAgIGlmIChiZXRhIDwgLTIwKSBiZXRhID0gLTIwICAvLyBQcmV2ZW50IGV4dHJlbWUgZm9yd2FyZCB0aWx0XG4gICAgICAgIGlmIChiZXRhID4gMjApIGJldGEgPSAyMCAgICAvLyBQcmV2ZW50IGV4dHJlbWUgYmFja3dhcmQgdGlsdFxuICAgICAgICBcbiAgICAgICAgLy8gU21vb3RoIHRoZSBvcmllbnRhdGlvbiBjaGFuZ2VzXG4gICAgICAgIGNvbnN0IHNtb290aGluZ0ZhY3RvciA9IDAuODUgLy8gSW5jcmVhc2VkIHNtb290aGluZ1xuICAgICAgICBjb25zdCBuZXdCZXRhID0gcHJldi5iZXRhICogc21vb3RoaW5nRmFjdG9yICsgYmV0YSAqICgxIC0gc21vb3RoaW5nRmFjdG9yKVxuICAgICAgICBjb25zdCBuZXdHYW1tYSA9IHByZXYuZ2FtbWEgKiBzbW9vdGhpbmdGYWN0b3IgKyBnYW1tYSAqICgxIC0gc21vb3RoaW5nRmFjdG9yKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBiZXRhOiBuZXdCZXRhLFxuICAgICAgICAgIGdhbW1hOiBuZXdHYW1tYVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VvcmllbnRhdGlvbicsIGhhbmRsZU9yaWVudGF0aW9uKVxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCBoYW5kbGVPcmllbnRhdGlvbilcbiAgfSwgW3Blcm1pc3Npb25HcmFudGVkXSlcblxuICAvLyBDaGVjayBpZiBwb2ludCBpcyBpbnNpZGUgdGhlIHJpbmcgdHViZVxuICBjb25zdCBpc0luc2lkZVJpbmcgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBkaXN0RnJvbUNlbnRlciA9IE1hdGguc3FydCgoeCAtIENFTlRFUl9YKSAqKiAyICsgKHkgLSBDRU5URVJfWSkgKiogMilcbiAgICByZXR1cm4gZGlzdEZyb21DZW50ZXIgPj0gSU5ORVJfUkFESVVTICYmIGRpc3RGcm9tQ2VudGVyIDw9IE9VVEVSX1JBRElVU1xuICB9XG5cbiAgLy8gQ2hlY2sgY29sbGlzaW9uIHdpdGggY3VwdWxhXG4gIGNvbnN0IGNoZWNrQ3VwdWxhQ29sbGlzaW9uID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGN1cHVsYVggPSBDRU5URVJfWFxuICAgIGNvbnN0IGN1cHVsYVdpZHRoID0gVFVCRV9XSURUSCAqIDAuN1xuICAgIGNvbnN0IGN1cHVsYUhlaWdodCA9IFRVQkVfV0lEVEggKiAwLjg1XG4gICAgY29uc3QgY3VwdWxhWSA9IENFTlRFUl9ZICsgT1VURVJfUkFESVVTIC0gY3VwdWxhSGVpZ2h0IC8gMlxuICAgIFxuICAgIHJldHVybiAoXG4gICAgICB4IC0gcmFkaXVzIDwgY3VwdWxhWCArIGN1cHVsYVdpZHRoIC8gMiAmJlxuICAgICAgeCArIHJhZGl1cyA+IGN1cHVsYVggLSBjdXB1bGFXaWR0aCAvIDIgJiZcbiAgICAgIHkgLSByYWRpdXMgPCBjdXB1bGFZICsgY3VwdWxhSGVpZ2h0IC8gMiAmJlxuICAgICAgeSArIHJhZGl1cyA+IGN1cHVsYVkgLSBjdXB1bGFIZWlnaHQgLyAyXG4gICAgKVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcG9pbnQgaXMgaW5zaWRlIHRoZSB2ZXN0aWJ1bGVcbiAgY29uc3QgaXNJbnNpZGVWZXN0aWJ1bGUgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB2ZXN0aWJ1bGVDb25maWcgPSBnZXRWZXN0aWJ1bGVDb25maWcoKVxuICAgIFxuICAgIC8vIE1haW4gdmVzdGlidWxlIGNoYW1iZXJcbiAgICBjb25zdCBkaXN0RnJvbVZlc3RpYnVsZUNlbnRlciA9IE1hdGguc3FydCgoeCAtIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJYKSAqKiAyICsgKHkgLSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWSkgKiogMilcbiAgICBpZiAoZGlzdEZyb21WZXN0aWJ1bGVDZW50ZXIgPD0gdmVzdGlidWxlQ29uZmlnLnJhZGl1cykgcmV0dXJuIHRydWVcbiAgICBcbiAgICAvLyBFeHRlbmRlZCB2ZXN0aWJ1bGUgYXJlYSAtIGNvbm5lY3Rpb24gYnJpZGdlIGFyZWFcbiAgICBjb25zdCBjb25uZWN0aW9uWCA9IENFTlRFUl9YICsgTWF0aC5jb3ModmVzdGlidWxlQ29uZmlnLmFuZ2xlKSAqIE9VVEVSX1JBRElVU1xuICAgIGNvbnN0IGNvbm5lY3Rpb25ZID0gQ0VOVEVSX1kgKyBNYXRoLnNpbih2ZXN0aWJ1bGVDb25maWcuYW5nbGUpICogT1VURVJfUkFESVVTXG4gICAgY29uc3QgY29ubmVjdGlvbldpZHRoID0gNTBcbiAgICBjb25zdCBjb25uZWN0aW9uSGVpZ2h0ID0gMzhcbiAgICBcbiAgICAvLyBDaGVjayBpZiBwb2ludCBpcyBpbiB0aGUgY29ubmVjdGlvbi9icmlkZ2UgYXJlYSAocm90YXRlZCByZWN0YW5nbGUpXG4gICAgY29uc3QgZHggPSB4IC0gY29ubmVjdGlvblhcbiAgICBjb25zdCBkeSA9IHkgLSBjb25uZWN0aW9uWVxuICAgIGNvbnN0IHJvdGF0ZWRYID0gZHggKiBNYXRoLmNvcygtdmVzdGlidWxlQ29uZmlnLmFuZ2xlKSAtIGR5ICogTWF0aC5zaW4oLXZlc3RpYnVsZUNvbmZpZy5hbmdsZSlcbiAgICBjb25zdCByb3RhdGVkWSA9IGR4ICogTWF0aC5zaW4oLXZlc3RpYnVsZUNvbmZpZy5hbmdsZSkgKyBkeSAqIE1hdGguY29zKC12ZXN0aWJ1bGVDb25maWcuYW5nbGUpXG4gICAgXG4gICAgcmV0dXJuIE1hdGguYWJzKHJvdGF0ZWRYKSA8PSBjb25uZWN0aW9uV2lkdGggLyAyICYmIE1hdGguYWJzKHJvdGF0ZWRZKSA8PSBjb25uZWN0aW9uSGVpZ2h0IC8gMlxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgcG9pbnQgaXMgaW4gdmFsaWQgY2FuYWwgc3BhY2VcbiAgY29uc3QgaXNJblZhbGlkU3BhY2UgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gaXNJbnNpZGVSaW5nKHgsIHkpIHx8IGlzSW5zaWRlVmVzdGlidWxlKHgsIHkpXG4gIH1cblxuICAvLyBQaHlzaWNzIHVwZGF0ZVxuICBjb25zdCB1cGRhdGVQaHlzaWNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghY2FudmFzUmVmLmN1cnJlbnQgfHwgIXNlbGVjdGVkRWFyKSByZXR1cm5cblxuICAgIGNvbnN0IG5ld1BhcnRpY2xlcyA9IHBhcnRpY2xlc1JlZi5jdXJyZW50Lm1hcCgocGFydGljbGUsIGluZGV4KSA9PiB7XG4gICAgICAvLyBJZiBwYXJ0aWNsZSBpcyBkaXNzb2x2aW5nLCBqdXN0IHNocmluayBpdFxuICAgICAgaWYgKHBhcnRpY2xlLmRpc3NvbHZpbmcpIHtcbiAgICAgICAgY29uc3QgbmV3UmFkaXVzID0gTWF0aC5tYXgoMCwgcGFydGljbGUucmFkaXVzIC0gMC4wMilcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wYXJ0aWNsZSxcbiAgICAgICAgICByYWRpdXM6IG5ld1JhZGl1c1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgZGV2aWNlIG9yaWVudGF0aW9uIHRvIGdyYXZpdHkgdmVjdG9yXG4gICAgICBjb25zdCBncmF2aXR5U3RyZW5ndGggPSAwLjAyICAvLyBGdXJ0aGVyIHJlZHVjZWQgZm9yIHZpc2NvdXMgZmx1aWQgc2ltdWxhdGlvbiAtIGxpa2Ugb3RvY29uaWEgaW4gZW5kb2x5bXBoXG4gICAgICBcbiAgICAgIC8vIERldGVjdCBpZiBkZXZpY2UgaXMgcm91Z2hseSBob3Jpem9udGFsXG4gICAgICBjb25zdCBpc0hvcml6b250YWwgPSBNYXRoLmFicyhNYXRoLmFicyhvcmllbnRhdGlvbi5nYW1tYSB8fCAwKSAtIDkwKSA8IDMwXG4gICAgICBcbiAgICAgIGxldCBncmF2aXR5WCwgZ3Jhdml0eVlcbiAgICAgIFxuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBncmF2aXR5WCA9IE1hdGguc2luKChvcmllbnRhdGlvbi5nYW1tYSB8fCAwKSAqIE1hdGguUEkgLyAxODApICogZ3Jhdml0eVN0cmVuZ3RoXG4gICAgICAgIGdyYXZpdHlZID0gTWF0aC5zaW4oKG9yaWVudGF0aW9uLmJldGEgfHwgMCkgKiBNYXRoLlBJIC8gMTgwKSAqIGdyYXZpdHlTdHJlbmd0aCAqIDAuMVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3Jhdml0eVggPSBNYXRoLnNpbigob3JpZW50YXRpb24uZ2FtbWEgfHwgMCkgKiBNYXRoLlBJIC8gMTgwKSAqIGdyYXZpdHlTdHJlbmd0aFxuICAgICAgICBncmF2aXR5WSA9IE1hdGguc2luKChvcmllbnRhdGlvbi5iZXRhIHx8IDApICogTWF0aC5QSSAvIDE4MCkgKiBncmF2aXR5U3RyZW5ndGhcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHZlbG9jaXR5IHdpdGggZ3Jhdml0eVxuICAgICAgbGV0IG5ld1Z4ID0gcGFydGljbGUudnggKyBncmF2aXR5WFxuICAgICAgbGV0IG5ld1Z5ID0gcGFydGljbGUudnkgKyBncmF2aXR5WVxuXG4gICAgICAvLyBBcHBseSBsaWdodGVyIGRhbXBpbmcgdG8gcmVkdWNlIHN0aWNraW5nIC0gc2xpZ2h0bHkgcmVkdWNlZCBmb3IgYmV0dGVyIG1vYmlsaXR5XG4gICAgICBuZXdWeCAqPSAwLjk5OSAgLy8gUmVkdWNlZCBmcm9tIDAuOTk4IHRvIG1haW50YWluIG1vcmUgbW9tZW50dW1cbiAgICAgIG5ld1Z5ICo9IDAuOTk5XG5cbiAgICAgIC8vIFByZWRpY3QgbmV3IHBvc2l0aW9uXG4gICAgICBsZXQgbmV3WCA9IHBhcnRpY2xlLnggKyBuZXdWeFxuICAgICAgbGV0IG5ld1kgPSBwYXJ0aWNsZS55ICsgbmV3VnlcblxuICAgICAgLy8gQ2hlY2sgaWYgcGFydGljbGUgaXMgaW4gdmVzdGlidWxlXG4gICAgICBjb25zdCBub3dJblZlc3RpYnVsZSA9IGlzSW5zaWRlVmVzdGlidWxlKG5ld1gsIG5ld1kpXG4gICAgICBcbiAgICAgIGlmIChub3dJblZlc3RpYnVsZSAmJiAhcGFydGljbGUuaW5BbXB1bGxhKSB7XG4gICAgICAgIHBhcnRpY2xlLmluQW1wdWxsYSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgLy8gQm91bmRhcnkgY2hlY2tzIGFuZCBwaHlzaWNzIC0gc2ltcGxpZmllZCBhbmQgaW1wcm92ZWRcbiAgICAgIGNvbnN0IGRpc3RGcm9tQ2VudGVyID0gTWF0aC5zcXJ0KChuZXdYIC0gQ0VOVEVSX1gpICoqIDIgKyAobmV3WSAtIENFTlRFUl9ZKSAqKiAyKVxuICAgICAgY29uc3QgdmVzdGlidWxlQ29uZmlnID0gZ2V0VmVzdGlidWxlQ29uZmlnKClcbiAgICAgIFxuICAgICAgaWYgKGlzSW5zaWRlUmluZyhuZXdYLCBuZXdZKSkge1xuICAgICAgICAvLyBPdXRlciBib3VuZGFyeSBjb2xsaXNpb25cbiAgICAgICAgaWYgKGRpc3RGcm9tQ2VudGVyID4gT1VURVJfUkFESVVTIC0gcGFydGljbGUucmFkaXVzKSB7XG4gICAgICAgICAgY29uc3QgYW5nbGVUb1BhcnRpY2xlID0gTWF0aC5hdGFuMihuZXdZIC0gQ0VOVEVSX1ksIG5ld1ggLSBDRU5URVJfWClcbiAgICAgICAgICBjb25zdCB2ZXN0aWJ1bGVDb25uZWN0aW9uU3RhcnQgPSB2ZXN0aWJ1bGVDb25maWcuYW5nbGUgLSAwLjNcbiAgICAgICAgICBjb25zdCB2ZXN0aWJ1bGVDb25uZWN0aW9uRW5kID0gdmVzdGlidWxlQ29uZmlnLmFuZ2xlICsgMC4zXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2ltcGxpZmllZCBhbmdsZSBjaGVja1xuICAgICAgICAgIGxldCBpbkNvbm5lY3Rpb25BcmVhID0gZmFsc2VcbiAgICAgICAgICBsZXQgbm9ybWFsaXplZEFuZ2xlID0gYW5nbGVUb1BhcnRpY2xlXG4gICAgICAgICAgaWYgKG5vcm1hbGl6ZWRBbmdsZSA8IDApIG5vcm1hbGl6ZWRBbmdsZSArPSBNYXRoLlBJICogMlxuICAgICAgICAgIFxuICAgICAgICAgIGxldCBub3JtYWxpemVkU3RhcnQgPSB2ZXN0aWJ1bGVDb25uZWN0aW9uU3RhcnRcbiAgICAgICAgICBpZiAobm9ybWFsaXplZFN0YXJ0IDwgMCkgbm9ybWFsaXplZFN0YXJ0ICs9IE1hdGguUEkgKiAyXG4gICAgICAgICAgXG4gICAgICAgICAgbGV0IG5vcm1hbGl6ZWRFbmQgPSB2ZXN0aWJ1bGVDb25uZWN0aW9uRW5kXG4gICAgICAgICAgaWYgKG5vcm1hbGl6ZWRFbmQgPCAwKSBub3JtYWxpemVkRW5kICs9IE1hdGguUEkgKiAyXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSGFuZGxlIGFuZ2xlIHdyYXBwaW5nIGFyb3VuZCAwLzLPgFxuICAgICAgICAgIGlmIChub3JtYWxpemVkRW5kIDwgbm9ybWFsaXplZFN0YXJ0KSB7XG4gICAgICAgICAgICBpbkNvbm5lY3Rpb25BcmVhID0gKG5vcm1hbGl6ZWRBbmdsZSA+PSBub3JtYWxpemVkU3RhcnQgfHwgbm9ybWFsaXplZEFuZ2xlIDw9IG5vcm1hbGl6ZWRFbmQpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluQ29ubmVjdGlvbkFyZWEgPSAobm9ybWFsaXplZEFuZ2xlID49IG5vcm1hbGl6ZWRTdGFydCAmJiBub3JtYWxpemVkQW5nbGUgPD0gbm9ybWFsaXplZEVuZClcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFpbkNvbm5lY3Rpb25BcmVhKSB7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIobmV3WSAtIENFTlRFUl9ZLCBuZXdYIC0gQ0VOVEVSX1gpXG4gICAgICAgICAgICBuZXdYID0gQ0VOVEVSX1ggKyBNYXRoLmNvcyhhbmdsZSkgKiAoT1VURVJfUkFESVVTIC0gcGFydGljbGUucmFkaXVzKVxuICAgICAgICAgICAgbmV3WSA9IENFTlRFUl9ZICsgTWF0aC5zaW4oYW5nbGUpICogKE9VVEVSX1JBRElVUyAtIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gR2VudGxlciByZWZsZWN0aW9uIHRvIHByZXZlbnQgc3RpY2tpbmdcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbFggPSBNYXRoLmNvcyhhbmdsZSlcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbFkgPSBNYXRoLnNpbihhbmdsZSlcbiAgICAgICAgICAgIGNvbnN0IGRvdFByb2R1Y3QgPSBuZXdWeCAqIG5vcm1hbFggKyBuZXdWeSAqIG5vcm1hbFlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT25seSByZWZsZWN0IGlmIG1vdmluZyB0b3dhcmQgdGhlIHdhbGxcbiAgICAgICAgICAgIGlmIChkb3RQcm9kdWN0ID4gMCkge1xuICAgICAgICAgICAgICBuZXdWeCA9IG5ld1Z4IC0gMS4xICogZG90UHJvZHVjdCAqIG5vcm1hbFggIC8vIFJlZHVjZWQgZnJvbSAxLjIgZm9yIGdlbnRsZXIgcmVmbGVjdGlvblxuICAgICAgICAgICAgICBuZXdWeSA9IG5ld1Z5IC0gMS4xICogZG90UHJvZHVjdCAqIG5vcm1hbFlcbiAgICAgICAgICAgICAgbmV3VnggKj0gMC45NyAgLy8gU2xpZ2h0bHkgaW5jcmVhc2VkIGZyb20gMC45NSB0byBtYWludGFpbiBtb3JlIGVuZXJneVxuICAgICAgICAgICAgICBuZXdWeSAqPSAwLjk3XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IFxuICAgICAgICAvLyBJbm5lciBib3VuZGFyeSBjb2xsaXNpb25cbiAgICAgICAgZWxzZSBpZiAoZGlzdEZyb21DZW50ZXIgPCBJTk5FUl9SQURJVVMgKyBwYXJ0aWNsZS5yYWRpdXMpIHtcbiAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIobmV3WSAtIENFTlRFUl9ZLCBuZXdYIC0gQ0VOVEVSX1gpXG4gICAgICAgICAgbmV3WCA9IENFTlRFUl9YICsgTWF0aC5jb3MoYW5nbGUpICogKElOTkVSX1JBRElVUyArIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICBuZXdZID0gQ0VOVEVSX1kgKyBNYXRoLnNpbihhbmdsZSkgKiAoSU5ORVJfUkFESVVTICsgcGFydGljbGUucmFkaXVzKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEdlbnRsZXIgcmVmbGVjdGlvbiB0byBwcmV2ZW50IHN0aWNraW5nXG4gICAgICAgICAgY29uc3Qgbm9ybWFsWCA9IC1NYXRoLmNvcyhhbmdsZSlcbiAgICAgICAgICBjb25zdCBub3JtYWxZID0gLU1hdGguc2luKGFuZ2xlKVxuICAgICAgICAgIGNvbnN0IGRvdFByb2R1Y3QgPSBuZXdWeCAqIG5vcm1hbFggKyBuZXdWeSAqIG5vcm1hbFlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBPbmx5IHJlZmxlY3QgaWYgbW92aW5nIHRvd2FyZCB0aGUgd2FsbFxuICAgICAgICAgIGlmIChkb3RQcm9kdWN0ID4gMCkge1xuICAgICAgICAgICAgbmV3VnggPSBuZXdWeCAtIDEuMSAqIGRvdFByb2R1Y3QgKiBub3JtYWxYICAvLyBSZWR1Y2VkIGZyb20gMS4yIGZvciBnZW50bGVyIHJlZmxlY3Rpb25cbiAgICAgICAgICAgIG5ld1Z5ID0gbmV3VnkgLSAxLjEgKiBkb3RQcm9kdWN0ICogbm9ybWFsWVxuICAgICAgICAgICAgbmV3VnggKj0gMC45NyAgLy8gU2xpZ2h0bHkgaW5jcmVhc2VkIGZyb20gMC45NSB0byBtYWludGFpbiBtb3JlIGVuZXJneVxuICAgICAgICAgICAgbmV3VnkgKj0gMC45N1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0luc2lkZVZlc3RpYnVsZShuZXdYLCBuZXdZKSkge1xuICAgICAgICBjb25zdCBkaXN0RnJvbVZlc3RpYnVsZUNlbnRlciA9IE1hdGguc3FydCgobmV3WCAtIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJYKSAqKiAyICsgKG5ld1kgLSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWSkgKiogMilcbiAgICAgICAgXG4gICAgICAgIGlmIChkaXN0RnJvbVZlc3RpYnVsZUNlbnRlciA+IHZlc3RpYnVsZUNvbmZpZy5yYWRpdXMgLSBwYXJ0aWNsZS5yYWRpdXMpIHtcbiAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIobmV3WSAtIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJZLCBuZXdYIC0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclgpXG4gICAgICAgICAgbmV3WCA9IHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJYICsgTWF0aC5jb3MoYW5nbGUpICogKHZlc3RpYnVsZUNvbmZpZy5yYWRpdXMgLSBwYXJ0aWNsZS5yYWRpdXMpXG4gICAgICAgICAgbmV3WSA9IHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJZICsgTWF0aC5zaW4oYW5nbGUpICogKHZlc3RpYnVsZUNvbmZpZy5yYWRpdXMgLSBwYXJ0aWNsZS5yYWRpdXMpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR2VudGxlciBjb2xsaXNpb24gaW4gdmVzdGlidWxlXG4gICAgICAgICAgY29uc3Qgbm9ybWFsWCA9IE1hdGguY29zKGFuZ2xlKVxuICAgICAgICAgIGNvbnN0IG5vcm1hbFkgPSBNYXRoLnNpbihhbmdsZSlcbiAgICAgICAgICBjb25zdCBkb3RQcm9kdWN0ID0gbmV3VnggKiBub3JtYWxYICsgbmV3VnkgKiBub3JtYWxZXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRvdFByb2R1Y3QgPiAwKSB7XG4gICAgICAgICAgICBuZXdWeCA9IG5ld1Z4IC0gMS4yICogZG90UHJvZHVjdCAqIG5vcm1hbFhcbiAgICAgICAgICAgIG5ld1Z5ID0gbmV3VnkgLSAxLjIgKiBkb3RQcm9kdWN0ICogbm9ybWFsWVxuICAgICAgICAgICAgbmV3VnggKj0gMC43ICAvLyBNb3JlIGRhbXBpbmcgaW4gdmVzdGlidWxlIGZvciBzZXR0bGluZ1xuICAgICAgICAgICAgbmV3VnkgKj0gMC43XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3IgZGlzc29sdXRpb25cbiAgICAgICAgaWYgKE1hdGguYWJzKG5ld1Z4KSA8IDAuMSAmJiBNYXRoLmFicyhuZXdWeSkgPCAwLjEpIHtcbiAgICAgICAgICBwYXJ0aWNsZS5kaXNzb2x2aW5nID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0luVmFsaWRTcGFjZShuZXdYLCBuZXdZKSkge1xuICAgICAgICAvLyBQdXNoIHBhcnRpY2xlIGJhY2sgdG8gdmFsaWQgc3BhY2Ugd2l0aCBtaW5pbWFsIGVuZXJneSBsb3NzXG4gICAgICAgIGlmIChpc0luc2lkZVJpbmcocGFydGljbGUueCwgcGFydGljbGUueSkpIHtcbiAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIobmV3WSAtIENFTlRFUl9ZLCBuZXdYIC0gQ0VOVEVSX1gpXG4gICAgICAgICAgbmV3WCA9IENFTlRFUl9YICsgTWF0aC5jb3MoYW5nbGUpICogKE9VVEVSX1JBRElVUyAtIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICBuZXdZID0gQ0VOVEVSX1kgKyBNYXRoLnNpbihhbmdsZSkgKiAoT1VURVJfUkFESVVTIC0gcGFydGljbGUucmFkaXVzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihuZXdZIC0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclksIG5ld1ggLSB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWClcbiAgICAgICAgICBuZXdYID0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclggKyBNYXRoLmNvcyhhbmdsZSkgKiAodmVzdGlidWxlQ29uZmlnLnJhZGl1cyAtIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgICBuZXdZID0gdmVzdGlidWxlQ29uZmlnLmNlbnRlclkgKyBNYXRoLnNpbihhbmdsZSkgKiAodmVzdGlidWxlQ29uZmlnLnJhZGl1cyAtIHBhcnRpY2xlLnJhZGl1cylcbiAgICAgICAgfVxuICAgICAgICBuZXdWeCAqPSAwLjggIC8vIExlc3MgZW5lcmd5IGxvc3Mgd2hlbiBjb3JyZWN0aW5nIHBvc2l0aW9uXG4gICAgICAgIG5ld1Z5ICo9IDAuOFxuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBjdXB1bGEgY29sbGlzaW9uXG4gICAgICBpZiAoY2hlY2tDdXB1bGFDb2xsaXNpb24obmV3WCwgbmV3WSwgcGFydGljbGUucmFkaXVzKSAmJiAhbm93SW5WZXN0aWJ1bGUpIHtcbiAgICAgICAgY29uc3QgY3VwdWxhWCA9IENFTlRFUl9YXG4gICAgICAgIGNvbnN0IGN1cHVsYUhlaWdodCA9IFRVQkVfV0lEVEggKiAwLjg1XG4gICAgICAgIGNvbnN0IGN1cHVsYVkgPSBDRU5URVJfWSArIE9VVEVSX1JBRElVUyAtIGN1cHVsYUhlaWdodCAvIDJcbiAgICAgICAgY29uc3QgcHVzaEFuZ2xlID0gTWF0aC5hdGFuMihuZXdZIC0gY3VwdWxhWSwgbmV3WCAtIGN1cHVsYVgpXG4gICAgICAgIGNvbnN0IHB1c2hEaXN0YW5jZSA9IHBhcnRpY2xlLnJhZGl1cyArIFRVQkVfV0lEVEggKiAwLjVcbiAgICAgICAgbmV3WCA9IGN1cHVsYVggKyBNYXRoLmNvcyhwdXNoQW5nbGUpICogcHVzaERpc3RhbmNlXG4gICAgICAgIG5ld1kgPSBjdXB1bGFZICsgTWF0aC5zaW4ocHVzaEFuZ2xlKSAqIHB1c2hEaXN0YW5jZVxuICAgICAgICBcbiAgICAgICAgbmV3VnggKj0gMC43XG4gICAgICAgIG5ld1Z5ICo9IDAuN1xuICAgICAgfVxuXG4gICAgICAvLyBQYXJ0aWNsZS10by1wYXJ0aWNsZSBjb2xsaXNpb24gKGtlZXAgZXhpc3RpbmcgbG9naWMpXG4gICAgICBwYXJ0aWNsZXNSZWYuY3VycmVudC5mb3JFYWNoKChvdGhlclBhcnRpY2xlLCBvdGhlckluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpbmRleCAhPT0gb3RoZXJJbmRleCAmJiAhcGFydGljbGUuZGlzc29sdmluZyAmJiAhb3RoZXJQYXJ0aWNsZS5kaXNzb2x2aW5nKSB7XG4gICAgICAgICAgY29uc3QgZHggPSBuZXdYIC0gb3RoZXJQYXJ0aWNsZS54XG4gICAgICAgICAgY29uc3QgZHkgPSBuZXdZIC0gb3RoZXJQYXJ0aWNsZS55XG4gICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpXG4gICAgICAgICAgY29uc3QgbWluRGlzdGFuY2UgPSBwYXJ0aWNsZS5yYWRpdXMgKyBvdGhlclBhcnRpY2xlLnJhZGl1c1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlICYmIGRpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmxhcCA9IG1pbkRpc3RhbmNlIC0gZGlzdGFuY2VcbiAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRpb25YID0gKGR4IC8gZGlzdGFuY2UpICogKG92ZXJsYXAgKiAwLjYpICAvLyBJbmNyZWFzZWQgZnJvbSAwLjUgZm9yIGJldHRlciBzZXBhcmF0aW9uXG4gICAgICAgICAgICBjb25zdCBzZXBhcmF0aW9uWSA9IChkeSAvIGRpc3RhbmNlKSAqIChvdmVybGFwICogMC42KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBuZXdYICs9IHNlcGFyYXRpb25YXG4gICAgICAgICAgICBuZXdZICs9IHNlcGFyYXRpb25ZXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbFggPSBkeCAvIGRpc3RhbmNlXG4gICAgICAgICAgICBjb25zdCBub3JtYWxZID0gZHkgLyBkaXN0YW5jZVxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVWZWxvY2l0eVggPSBuZXdWeCAtIG90aGVyUGFydGljbGUudnhcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlVmVsb2NpdHlZID0gbmV3VnkgLSBvdGhlclBhcnRpY2xlLnZ5XG4gICAgICAgICAgICBjb25zdCB2ZWxvY2l0eUFsb25nTm9ybWFsID0gcmVsYXRpdmVWZWxvY2l0eVggKiBub3JtYWxYICsgcmVsYXRpdmVWZWxvY2l0eVkgKiBub3JtYWxZXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eUFsb25nTm9ybWFsID4gMCkgcmV0dXJuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3RpdHV0aW9uID0gMC44NSAgLy8gSW5jcmVhc2VkIGZyb20gMC44IGZvciBzbGlnaHRseSBtb3JlIGJvdW5jeSBjb2xsaXNpb25zXG4gICAgICAgICAgICBjb25zdCBpbXB1bHNlID0gLSgxICsgcmVzdGl0dXRpb24pICogdmVsb2NpdHlBbG9uZ05vcm1hbCAvIDJcbiAgICAgICAgICAgIG5ld1Z4ICs9IGltcHVsc2UgKiBub3JtYWxYXG4gICAgICAgICAgICBuZXdWeSArPSBpbXB1bHNlICogbm9ybWFsWVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgc2xpZ2h0IHJlcHVsc2lvbiB0byBwcmV2ZW50IGNsdW1waW5nXG4gICAgICAgICAgICBjb25zdCByZXB1bHNpb25TdHJlbmd0aCA9IDAuMDJcbiAgICAgICAgICAgIG5ld1Z4ICs9IG5vcm1hbFggKiByZXB1bHNpb25TdHJlbmd0aFxuICAgICAgICAgICAgbmV3VnkgKz0gbm9ybWFsWSAqIHJlcHVsc2lvblN0cmVuZ3RoXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBBZGQgbWluaW11bSB2ZWxvY2l0eSB0byBwcmV2ZW50IGNvbXBsZXRlIHN0aWNraW5nXG4gICAgICBjb25zdCBtaW5WZWxvY2l0eSA9IDAuMDA4ICAvLyBSZWR1Y2VkIGZyb20gMC4wMSB0byBhbGxvdyBtb3JlIG5hdHVyYWwgc3RvcHBpbmdcbiAgICAgIGNvbnN0IGN1cnJlbnRTcGVlZCA9IE1hdGguc3FydChuZXdWeCAqIG5ld1Z4ICsgbmV3VnkgKiBuZXdWeSlcbiAgICAgIGlmIChjdXJyZW50U3BlZWQgPiAwICYmIGN1cnJlbnRTcGVlZCA8IG1pblZlbG9jaXR5ICYmICFwYXJ0aWNsZS5kaXNzb2x2aW5nKSB7XG4gICAgICAgIGNvbnN0IHNwZWVkTXVsdGlwbGllciA9IG1pblZlbG9jaXR5IC8gY3VycmVudFNwZWVkXG4gICAgICAgIG5ld1Z4ICo9IHNwZWVkTXVsdGlwbGllclxuICAgICAgICBuZXdWeSAqPSBzcGVlZE11bHRpcGxpZXJcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucGFydGljbGUsXG4gICAgICAgIHg6IG5ld1gsXG4gICAgICAgIHk6IG5ld1ksXG4gICAgICAgIHZ4OiBuZXdWeCxcbiAgICAgICAgdnk6IG5ld1Z5XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIENoZWNrIGlmIGFsbCBwYXJ0aWNsZXMgYXJlIGluIHZlc3RpYnVsZVxuICAgIGNvbnN0IGFsbFBhcnRpY2xlc0luVmVzdGlidWxlID0gbmV3UGFydGljbGVzLmV2ZXJ5KHAgPT4gcC5pbkFtcHVsbGEpXG4gICAgXG4gICAgaWYgKGFsbFBhcnRpY2xlc0luVmVzdGlidWxlICYmICFlcGxleUNvbXBsZXRlICYmIGN1cnJlbnRBdmF0YXJTdGFnZSA9PT0gNSAmJiAhY29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQpIHtcbiAgICAgIC8vIEFsbCBwYXJ0aWNsZXMgYXJlIGluIHZlc3RpYnVsZSBBTkQgd2UncmUgYXQgZmluYWwgc3RhZ2UgNSAtIHN0YXJ0IGNvbXBsZXRpb24gYW5pbWF0aW9uXG4gICAgICBzdGFydENvbXBsZXRpb25BbmltYXRpb24oKVxuICAgIH1cblxuICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50ID0gbmV3UGFydGljbGVzXG4gICAgc2V0UGFydGljbGVzKG5ld1BhcnRpY2xlcylcbiAgICBcbiAgICAvLyBVcGRhdGUgYXZhdGFyIHN0YWdlIGJhc2VkIG9uIHBhcnRpY2xlIHBvc2l0aW9uc1xuICAgIHVwZGF0ZUF2YXRhclN0YWdlKClcbiAgfSwgW29yaWVudGF0aW9uLCBlcGxleUNvbXBsZXRlLCBzZWxlY3RlZEVhciwgY3VycmVudEF2YXRhclN0YWdlLCBjb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZCwgc3RhcnRDb21wbGV0aW9uQW5pbWF0aW9uXSlcblxuICAvLyBBbmltYXRpb24gbG9vcFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gICAgICB1cGRhdGVQaHlzaWNzKClcbiAgICAgIGRyYXcoKVxuICAgICAgYW5pbWF0aW9uUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSlcbiAgICB9XG5cbiAgICBpZiAocGVybWlzc2lvbkdyYW50ZWQgJiYgc2VsZWN0ZWRFYXIgJiYgc2VsZWN0ZWRQZXJzcGVjdGl2ZSkge1xuICAgICAgYW5pbWF0ZSgpXG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChhbmltYXRpb25SZWYuY3VycmVudCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25SZWYuY3VycmVudClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1cGRhdGVQaHlzaWNzLCBwZXJtaXNzaW9uR3JhbnRlZCwgc2VsZWN0ZWRFYXIsIHNlbGVjdGVkUGVyc3BlY3RpdmVdKVxuXG4gIC8vIEhhbmRsZSBFcGxleSBDb21wbGV0ZSBjbGlja1xuICBjb25zdCBoYW5kbGVFcGxleUNvbXBsZXRlQ2xpY2sgPSAoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZVBhcnRpY2xlcygpXG4gICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKDEpIC8vIFJlc2V0IGF2YXRhciB0byBzdGFydGluZyBwb3NpdGlvblxuICAgIFxuICAgIC8vIFJlc2V0IGFsbCBhbmltYXRpb24gc3RhdGVzXG4gICAgc2V0Q29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQoZmFsc2UpXG4gICAgc2V0QXZhdGFyT3BhY2l0eSgxLjApXG4gICAgc2V0U3VjY2Vzc09wYWNpdHkoMC4wKVxuICAgIGlmIChjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsXG4gICAgfVxuICAgIFxuICAgIC8vIFJlc2V0IHRyYW5zaXRpb24gYW5pbWF0aW9uIHN0YXRlc1xuICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSlcbiAgICBzZXRQcmV2aW91c0F2YXRhclN0YWdlKDEpXG4gICAgc2V0VHJhbnNpdGlvblByb2dyZXNzKDApXG4gICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgdHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICB9XG4gICAgXG4gICAgLy8gUmVzZXQgZGV0ZWN0aW9uIGRlbGF5IHN0YXRlc1xuICAgIHNldERldGVjdGVkU3RhZ2UoMSlcbiAgICBpZiAoZGV0ZWN0aW9uVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dChkZXRlY3Rpb25UaW1lcilcbiAgICAgIHNldERldGVjdGlvblRpbWVyKG51bGwpXG4gICAgfVxuICB9XG5cbiAgLy8gRHJhdyBmdW5jdGlvblxuICBjb25zdCBkcmF3ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50XG4gICAgaWYgKCFjYW52YXMgfHwgIXNlbGVjdGVkRWFyKSByZXR1cm5cblxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgaWYgKCFjdHgpIHJldHVyblxuXG4gICAgY29uc3QgdmVzdGlidWxlQ29uZmlnID0gZ2V0VmVzdGlidWxlQ29uZmlnKClcblxuICAgIC8vIENsZWFyIGNhbnZhc1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgQ0FOVkFTX1dJRFRILCBDQU5WQVNfSEVJR0hUKVxuXG4gICAgLy8gRHJhdyBvdXRlciByaW5nIChsaWdodCBibHVlIGZsdWlkKVxuICAgIGN0eC5maWxsU3R5bGUgPSAnIzg3Q0VFQidcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjdHguYXJjKENFTlRFUl9YLCBDRU5URVJfWSwgT1VURVJfUkFESVVTLCAwLCBNYXRoLlBJICogMilcbiAgICBjdHguZmlsbCgpXG5cbiAgICAvLyBEcmF3IGlubmVyIGhvbGUgKHdoaXRlKVxuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnXG4gICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgY3R4LmFyYyhDRU5URVJfWCwgQ0VOVEVSX1ksIElOTkVSX1JBRElVUywgMCwgTWF0aC5QSSAqIDIpXG4gICAgY3R4LmZpbGwoKVxuXG4gICAgLy8gRHJhdyB2ZXN0aWJ1bGVcbiAgICBjdHguZmlsbFN0eWxlID0gJyM4N0NFRUInXG4gICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgY3R4LmFyYyh2ZXN0aWJ1bGVDb25maWcuY2VudGVyWCwgdmVzdGlidWxlQ29uZmlnLmNlbnRlclksIHZlc3RpYnVsZUNvbmZpZy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKVxuICAgIGN0eC5maWxsKClcblxuICAgIC8vIERyYXcgY29ubmVjdGlvbiBiZXR3ZWVuIHJpbmcgYW5kIHZlc3RpYnVsZVxuICAgIGNvbnN0IGNvbm5lY3Rpb25YID0gQ0VOVEVSX1ggKyBNYXRoLmNvcyh2ZXN0aWJ1bGVDb25maWcuYW5nbGUpICogT1VURVJfUkFESVVTXG4gICAgY29uc3QgY29ubmVjdGlvblkgPSBDRU5URVJfWSArIE1hdGguc2luKHZlc3RpYnVsZUNvbmZpZy5hbmdsZSkgKiBPVVRFUl9SQURJVVNcbiAgICBjb25zdCBjb25uZWN0aW9uV2lkdGggPSA1MCAgLy8gSW5jcmVhc2VkIGZyb20gNDBcbiAgICBjb25zdCBjb25uZWN0aW9uSGVpZ2h0ID0gMzggLy8gSW5jcmVhc2VkIGZyb20gMzBcbiAgICBcbiAgICBjdHguZmlsbFN0eWxlID0gJyM4N0NFRUInXG4gICAgY3R4LnNhdmUoKVxuICAgIGN0eC50cmFuc2xhdGUoY29ubmVjdGlvblgsIGNvbm5lY3Rpb25ZKVxuICAgIGN0eC5yb3RhdGUodmVzdGlidWxlQ29uZmlnLmFuZ2xlKVxuICAgIGN0eC5maWxsUmVjdCgtNSwgLWNvbm5lY3Rpb25IZWlnaHQvMiwgY29ubmVjdGlvbldpZHRoLCBjb25uZWN0aW9uSGVpZ2h0KVxuICAgIGN0eC5yZXN0b3JlKClcblxuICAgIC8vIERyYXcgcmluZyBib3JkZXJzXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyM0NjgyQjQnXG4gICAgY3R4LmxpbmVXaWR0aCA9IDJcbiAgICBcbiAgICAvLyBEcmF3IG91dGVyIHJpbmcgYm9yZGVyIGluIHNlZ21lbnRzLCBza2lwcGluZyB2ZXN0aWJ1bGUgY29ubmVjdGlvbiBhcmVhXG4gICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgY29uc3QgY29ubmVjdGlvblN0YXJ0QW5nbGUgPSB2ZXN0aWJ1bGVDb25maWcuYW5nbGUgLSAwLjNcbiAgICBjb25zdCBjb25uZWN0aW9uRW5kQW5nbGUgPSB2ZXN0aWJ1bGVDb25maWcuYW5nbGUgKyAwLjNcbiAgICBjdHguYXJjKENFTlRFUl9YLCBDRU5URVJfWSwgT1VURVJfUkFESVVTLCAwLCBjb25uZWN0aW9uU3RhcnRBbmdsZSlcbiAgICBjdHguc3Ryb2tlKClcbiAgICBcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjdHguYXJjKENFTlRFUl9YLCBDRU5URVJfWSwgT1VURVJfUkFESVVTLCBjb25uZWN0aW9uRW5kQW5nbGUsIE1hdGguUEkgKiAyKVxuICAgIGN0eC5zdHJva2UoKVxuICAgIFxuICAgIC8vIElubmVyIHJpbmcgYm9yZGVyXG4gICAgY3R4LmJlZ2luUGF0aCgpXG4gICAgY3R4LmFyYyhDRU5URVJfWCwgQ0VOVEVSX1ksIElOTkVSX1JBRElVUywgMCwgTWF0aC5QSSAqIDIpXG4gICAgY3R4LnN0cm9rZSgpXG5cbiAgICAvLyBEcmF3IHZlc3RpYnVsZSBib3JkZXJcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjb25zdCByaW5nQ29ubmVjdGlvbkFuZ2xlID0gTWF0aC5hdGFuMihjb25uZWN0aW9uWSAtIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJZLCBjb25uZWN0aW9uWCAtIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJYKVxuICAgIGNvbnN0IHNraXBTdGFydEFuZ2xlID0gcmluZ0Nvbm5lY3Rpb25BbmdsZSAtIDAuNFxuICAgIGNvbnN0IHNraXBFbmRBbmdsZSA9IHJpbmdDb25uZWN0aW9uQW5nbGUgKyAwLjRcbiAgICBjdHguYXJjKHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJYLCB2ZXN0aWJ1bGVDb25maWcuY2VudGVyWSwgdmVzdGlidWxlQ29uZmlnLnJhZGl1cywgc2tpcEVuZEFuZ2xlLCBza2lwU3RhcnRBbmdsZSArIE1hdGguUEkgKiAyKVxuICAgIGN0eC5zdHJva2UoKVxuXG4gICAgLy8gRHJhdyBjdXB1bGFcbiAgICBjb25zdCBjdXB1bGFYID0gQ0VOVEVSX1hcbiAgICBjb25zdCBjdXB1bGFXaWR0aCA9IFRVQkVfV0lEVEggKiAwLjdcbiAgICBjb25zdCBjdXB1bGFIZWlnaHQgPSBUVUJFX1dJRFRIICogMC44NVxuICAgIGNvbnN0IGN1cHVsYVkgPSBDRU5URVJfWSArIE9VVEVSX1JBRElVUyAtIGN1cHVsYUhlaWdodCAvIDJcbiAgICBcbiAgICBjdHguZmlsbFN0eWxlID0gJyM4QjQ1MTMnXG4gICAgY3R4LmZpbGxSZWN0KFxuICAgICAgY3VwdWxhWCAtIGN1cHVsYVdpZHRoIC8gMixcbiAgICAgIGN1cHVsYVkgLSBjdXB1bGFIZWlnaHQgLyAyLFxuICAgICAgY3VwdWxhV2lkdGgsXG4gICAgICBjdXB1bGFIZWlnaHRcbiAgICApXG4gICAgXG4gICAgLy8gRHJhdyBoYWlyIHN0cnVjdHVyZXMgLSBzY2FsZWQgZm9yIGxhcmdlciBjdXB1bGFcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzY1NDMyMSdcbiAgICBjdHgubGluZVdpZHRoID0gMiAvLyBJbmNyZWFzZWQgZnJvbSAxLjUgZm9yIGJldHRlciB2aXNpYmlsaXR5XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMjsgaSsrKSB7IC8vIEluY3JlYXNlZCBmcm9tIDEwIGhhaXJzXG4gICAgICBjb25zdCBoYWlyWCA9IGN1cHVsYVggLSBjdXB1bGFXaWR0aCAvIDIgKyAoY3VwdWxhV2lkdGggLyAxMSkgKiBpXG4gICAgICBjdHguYmVnaW5QYXRoKClcbiAgICAgIGN0eC5tb3ZlVG8oaGFpclgsIGN1cHVsYVkgLSBjdXB1bGFIZWlnaHQgLyAyKVxuICAgICAgY29uc3QgaGFpckhlaWdodCA9IDYgKyBNYXRoLnNpbihpICogMC41KSAqIDMgLy8gSW5jcmVhc2VkIGhhaXIgaGVpZ2h0XG4gICAgICBjdHgubGluZVRvKGhhaXJYLCBjdXB1bGFZIC0gY3VwdWxhSGVpZ2h0IC8gMiAtIGhhaXJIZWlnaHQpXG4gICAgICBjdHguc3Ryb2tlKClcbiAgICB9XG5cbiAgICAvLyBEcmF3IHBhcnRpY2xlc1xuICAgIGN0eC5maWxsU3R5bGUgPSAnIzhBMkJFMidcbiAgICBwYXJ0aWNsZXNSZWYuY3VycmVudC5mb3JFYWNoKHBhcnRpY2xlID0+IHtcbiAgICAgIGlmIChwYXJ0aWNsZS5yYWRpdXMgPiAwKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKVxuICAgICAgICBjdHguYXJjKHBhcnRpY2xlLngsIHBhcnRpY2xlLnksIHBhcnRpY2xlLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpXG4gICAgICAgIGN0eC5maWxsKClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gRHJhdyBwZXJzcGVjdGl2ZSBhdmF0YXJzIGluIGNlbnRlciBvZiByaW5nXG4gICAgaWYgKHNlbGVjdGVkUGVyc3BlY3RpdmUgJiYgKHNlbGVjdGVkUGVyc3BlY3RpdmUgPT09ICdjbGluaWNpYW4nIHx8IHNlbGVjdGVkUGVyc3BlY3RpdmUgPT09ICdwYXRpZW50JykpIHtcbiAgICAgIGNvbnN0IG1heEF2YXRhclNpemUgPSBJTk5FUl9SQURJVVMgKiAxLjQgLy8gTWF4aW11bSBzaXplIHRvIGZpdCBpbiBjZW50ZXJcbiAgICAgIFxuICAgICAgaWYgKGlzVHJhbnNpdGlvbmluZykge1xuICAgICAgICAvLyBEdXJpbmcgdHJhbnNpdGlvbiwgZHJhdyBib3RoIHByZXZpb3VzIGFuZCBjdXJyZW50IGF2YXRhcnMgd2l0aCBjcm9zc2ZhZGVcbiAgICAgICAgY29uc3QgcHJldmlvdXNBdmF0YXJJbWFnZSA9IG5ldyBJbWFnZSgpXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBdmF0YXJJbWFnZSA9IG5ldyBJbWFnZSgpXG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgcGF0aHMgZm9yIGJvdGggYXZhdGFyc1xuICAgICAgICBjb25zdCBlYXJQcmVmaXggPSBzZWxlY3RlZEVhciA9PT0gJ3JpZ2h0JyA/ICdSJyA6ICdMJ1xuICAgICAgICBjb25zdCBwZXJzcGVjdGl2ZVR5cGUgPSBzZWxlY3RlZFBlcnNwZWN0aXZlID09PSAncGF0aWVudCcgPyAndHJlYXQnIDogJ2VwbGV5J1xuICAgICAgICBcbiAgICAgICAgcHJldmlvdXNBdmF0YXJJbWFnZS5zcmMgPSBgL2F2YXRhcnMvJHtlYXJQcmVmaXh9XyR7cGVyc3BlY3RpdmVUeXBlfV8ke3ByZXZpb3VzQXZhdGFyU3RhZ2V9LnBuZ2BcbiAgICAgICAgY3VycmVudEF2YXRhckltYWdlLnNyYyA9IGAvYXZhdGFycy8ke2VhclByZWZpeH1fJHtwZXJzcGVjdGl2ZVR5cGV9XyR7Y3VycmVudEF2YXRhclN0YWdlfS5wbmdgXG4gICAgICAgIFxuICAgICAgICBjb25zdCBkcmF3VHJhbnNpdGlvbkF2YXRhcnMgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHByZXZpb3VzQXZhdGFySW1hZ2UuY29tcGxldGUgJiYgY3VycmVudEF2YXRhckltYWdlLmNvbXBsZXRlICYmIFxuICAgICAgICAgICAgICBwcmV2aW91c0F2YXRhckltYWdlLm5hdHVyYWxXaWR0aCA+IDAgJiYgY3VycmVudEF2YXRhckltYWdlLm5hdHVyYWxXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGRpbWVuc2lvbnMgZm9yIGJvdGggYXZhdGFyc1xuICAgICAgICAgICAgY29uc3QgcHJldkFzcGVjdFJhdGlvID0gcHJldmlvdXNBdmF0YXJJbWFnZS5uYXR1cmFsV2lkdGggLyBwcmV2aW91c0F2YXRhckltYWdlLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgIGNvbnN0IGN1cnJBc3BlY3RSYXRpbyA9IGN1cnJlbnRBdmF0YXJJbWFnZS5uYXR1cmFsV2lkdGggLyBjdXJyZW50QXZhdGFySW1hZ2UubmF0dXJhbEhlaWdodFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgcHJldldpZHRoLCBwcmV2SGVpZ2h0LCBjdXJyV2lkdGgsIGN1cnJIZWlnaHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUHJldmlvdXMgYXZhdGFyIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIGlmIChwcmV2QXNwZWN0UmF0aW8gPiAxKSB7XG4gICAgICAgICAgICAgIHByZXZXaWR0aCA9IG1heEF2YXRhclNpemVcbiAgICAgICAgICAgICAgcHJldkhlaWdodCA9IG1heEF2YXRhclNpemUgLyBwcmV2QXNwZWN0UmF0aW9cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByZXZIZWlnaHQgPSBtYXhBdmF0YXJTaXplXG4gICAgICAgICAgICAgIHByZXZXaWR0aCA9IG1heEF2YXRhclNpemUgKiBwcmV2QXNwZWN0UmF0aW9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3VycmVudCBhdmF0YXIgZGltZW5zaW9uc1xuICAgICAgICAgICAgaWYgKGN1cnJBc3BlY3RSYXRpbyA+IDEpIHtcbiAgICAgICAgICAgICAgY3VycldpZHRoID0gbWF4QXZhdGFyU2l6ZVxuICAgICAgICAgICAgICBjdXJySGVpZ2h0ID0gbWF4QXZhdGFyU2l6ZSAvIGN1cnJBc3BlY3RSYXRpb1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY3VyckhlaWdodCA9IG1heEF2YXRhclNpemVcbiAgICAgICAgICAgICAgY3VycldpZHRoID0gbWF4QXZhdGFyU2l6ZSAqIGN1cnJBc3BlY3RSYXRpb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb25zIHdpdGggc2xpZ2h0IG1vdmVtZW50IHNpbXVsYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGJhc2VYID0gQ0VOVEVSX1hcbiAgICAgICAgICAgIGNvbnN0IGJhc2VZID0gQ0VOVEVSX1lcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2ltdWxhdGUgbmF0dXJhbCBoZWFkL25lY2sgbW92ZW1lbnQgZHVyaW5nIHRyYW5zaXRpb25zXG4gICAgICAgICAgICBjb25zdCBtb3ZlbWVudE9mZnNldCA9IDggLy8gcGl4ZWxzIG9mIG1vdmVtZW50XG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbk1vdmVtZW50ID0gTWF0aC5zaW4odHJhbnNpdGlvblByb2dyZXNzICogTWF0aC5QSSkgKiBtb3ZlbWVudE9mZnNldFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBQcmV2aW91cyBhdmF0YXIgcG9zaXRpb24gKGZhZGluZyBvdXQpXG4gICAgICAgICAgICBjb25zdCBwcmV2WCA9IGJhc2VYIC0gcHJldldpZHRoIC8gMiAtIHJvdGF0aW9uTW92ZW1lbnQgKiAwLjNcbiAgICAgICAgICAgIGNvbnN0IHByZXZZID0gYmFzZVkgLSBwcmV2SGVpZ2h0IC8gMlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDdXJyZW50IGF2YXRhciBwb3NpdGlvbiAoZmFkaW5nIGluKVxuICAgICAgICAgICAgY29uc3QgY3VyclggPSBiYXNlWCAtIGN1cnJXaWR0aCAvIDIgKyByb3RhdGlvbk1vdmVtZW50ICogMC4zXG4gICAgICAgICAgICBjb25zdCBjdXJyWSA9IGJhc2VZIC0gY3VyckhlaWdodCAvIDJcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRHJhdyBwcmV2aW91cyBhdmF0YXIgKGZhZGluZyBvdXQpXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAoMSAtIHRyYW5zaXRpb25Qcm9ncmVzcykgKiBhdmF0YXJPcGFjaXR5XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHByZXZpb3VzQXZhdGFySW1hZ2UsIHByZXZYLCBwcmV2WSwgcHJldldpZHRoLCBwcmV2SGVpZ2h0KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEcmF3IGN1cnJlbnQgYXZhdGFyIChmYWRpbmcgaW4pXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0cmFuc2l0aW9uUHJvZ3Jlc3MgKiBhdmF0YXJPcGFjaXR5XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGN1cnJlbnRBdmF0YXJJbWFnZSwgY3VyclgsIGN1cnJZLCBjdXJyV2lkdGgsIGN1cnJIZWlnaHQpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDEuMCAvLyBSZXNldCBhbHBoYVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRHJhdyBpbW1lZGlhdGVseSBpZiBib3RoIGxvYWRlZCwgb3Igc2V0IG9ubG9hZCBoYW5kbGVyc1xuICAgICAgICBpZiAocHJldmlvdXNBdmF0YXJJbWFnZS5jb21wbGV0ZSAmJiBjdXJyZW50QXZhdGFySW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICBkcmF3VHJhbnNpdGlvbkF2YXRhcnMoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBsb2FkZWRDb3VudCA9IDBcbiAgICAgICAgICBjb25zdCBjaGVja0JvdGhMb2FkZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBsb2FkZWRDb3VudCsrXG4gICAgICAgICAgICBpZiAobG9hZGVkQ291bnQgPT09IDIpIGRyYXdUcmFuc2l0aW9uQXZhdGFycygpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghcHJldmlvdXNBdmF0YXJJbWFnZS5jb21wbGV0ZSkgcHJldmlvdXNBdmF0YXJJbWFnZS5vbmxvYWQgPSBjaGVja0JvdGhMb2FkZWRcbiAgICAgICAgICBpZiAoIWN1cnJlbnRBdmF0YXJJbWFnZS5jb21wbGV0ZSkgY3VycmVudEF2YXRhckltYWdlLm9ubG9hZCA9IGNoZWNrQm90aExvYWRlZFxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIG9uZSBpcyBhbHJlYWR5IGxvYWRlZCwgaW5jcmVtZW50IGNvdW50ZXJcbiAgICAgICAgICBpZiAocHJldmlvdXNBdmF0YXJJbWFnZS5jb21wbGV0ZSkgbG9hZGVkQ291bnQrK1xuICAgICAgICAgIGlmIChjdXJyZW50QXZhdGFySW1hZ2UuY29tcGxldGUpIGxvYWRlZENvdW50KytcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobG9hZGVkQ291bnQgPT09IDIpIGRyYXdUcmFuc2l0aW9uQXZhdGFycygpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vcm1hbCBkcmF3aW5nIChubyB0cmFuc2l0aW9uKVxuICAgICAgICBjb25zdCBhdmF0YXJJbWFnZSA9IG5ldyBJbWFnZSgpXG4gICAgICAgIGF2YXRhckltYWdlLnNyYyA9IGdldEF2YXRhckltYWdlUGF0aCgpXG4gICAgICAgIFxuICAgICAgICBjb25zdCBkcmF3QXZhdGFyID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChhdmF0YXJJbWFnZS5jb21wbGV0ZSAmJiBhdmF0YXJJbWFnZS5uYXR1cmFsV2lkdGggPiAwKSB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgYXNwZWN0IHJhdGlvIHRvIG1haW50YWluIG9yaWdpbmFsIHByb3BvcnRpb25zXG4gICAgICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IGF2YXRhckltYWdlLm5hdHVyYWxXaWR0aCAvIGF2YXRhckltYWdlLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGF2YXRhcldpZHRoLCBhdmF0YXJIZWlnaHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGFzcGVjdFJhdGlvID4gMSkge1xuICAgICAgICAgICAgICAvLyBXaWRlciB0aGFuIHRhbGwgLSBjb25zdHJhaW4gYnkgd2lkdGhcbiAgICAgICAgICAgICAgYXZhdGFyV2lkdGggPSBtYXhBdmF0YXJTaXplXG4gICAgICAgICAgICAgIGF2YXRhckhlaWdodCA9IG1heEF2YXRhclNpemUgLyBhc3BlY3RSYXRpb1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGFsbGVyIHRoYW4gd2lkZSAtIGNvbnN0cmFpbiBieSBoZWlnaHRcbiAgICAgICAgICAgICAgYXZhdGFySGVpZ2h0ID0gbWF4QXZhdGFyU2l6ZVxuICAgICAgICAgICAgICBhdmF0YXJXaWR0aCA9IG1heEF2YXRhclNpemUgKiBhc3BlY3RSYXRpb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBhdmF0YXJYID0gQ0VOVEVSX1ggLSBhdmF0YXJXaWR0aCAvIDJcbiAgICAgICAgICAgIGNvbnN0IGF2YXRhclkgPSBDRU5URVJfWSAtIGF2YXRhckhlaWdodCAvIDJcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQXBwbHkgb3BhY2l0eSBmb3IgZmFkZS1vdXQgYW5pbWF0aW9uXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBhdmF0YXJPcGFjaXR5XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGF2YXRhckltYWdlLCBhdmF0YXJYLCBhdmF0YXJZLCBhdmF0YXJXaWR0aCwgYXZhdGFySGVpZ2h0KVxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMS4wIC8vIFJlc2V0IGFscGhhXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBEcmF3IGltbWVkaWF0ZWx5IGlmIGFscmVhZHkgbG9hZGVkLCBvciBzZXQgb25sb2FkIGhhbmRsZXJcbiAgICAgICAgaWYgKGF2YXRhckltYWdlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgZHJhd0F2YXRhcigpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXZhdGFySW1hZ2Uub25sb2FkID0gZHJhd0F2YXRhclxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRHJhdyBcIkVwbGV5IENvbXBsZXRlXCIgc3VjY2VzcyBpbmRpY2F0b3JcbiAgICBpZiAoZXBsZXlDb21wbGV0ZSkge1xuICAgICAgLy8gQXBwbHkgb3BhY2l0eSBmb3IgZmFkZS1pbiBhbmltYXRpb25cbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHN1Y2Nlc3NPcGFjaXR5XG4gICAgICBcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzEwQjk4MSdcbiAgICAgIGN0eC5iZWdpblBhdGgoKVxuICAgICAgY3R4LmFyYyhDRU5URVJfWCwgQ0VOVEVSX1ksIDI1LCAwLCBNYXRoLlBJICogMilcbiAgICAgIGN0eC5maWxsKClcbiAgICAgIFxuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3doaXRlJ1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDNcbiAgICAgIGN0eC5iZWdpblBhdGgoKVxuICAgICAgY3R4Lm1vdmVUbyhDRU5URVJfWCAtIDEwLCBDRU5URVJfWSlcbiAgICAgIGN0eC5saW5lVG8oQ0VOVEVSX1ggLSAzLCBDRU5URVJfWSArIDcpXG4gICAgICBjdHgubGluZVRvKENFTlRFUl9YICsgMTAsIENFTlRFUl9ZIC0gNylcbiAgICAgIGN0eC5zdHJva2UoKVxuICAgICAgXG4gICAgICBjdHguZmlsbFN0eWxlID0gJyMxMEI5ODEnXG4gICAgICBjdHguZm9udCA9ICcxMnB4IEFyaWFsJ1xuICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInXG4gICAgICBjdHguZmlsbFRleHQoJ0VwbGV5IENvbXBsZXRlJywgQ0VOVEVSX1gsIENFTlRFUl9ZICsgNDUpXG4gICAgICBjdHguZmlsbFRleHQoJ1RhcCB0byBSZXNldCcsIENFTlRFUl9YLCBDRU5URVJfWSArIDYwKVxuICAgICAgXG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxLjAgLy8gUmVzZXQgYWxwaGFcbiAgICB9XG5cbiAgICAvLyBEcmF3IGxhYmVsc1xuICAgIGN0eC5maWxsU3R5bGUgPSAnIzMzMydcbiAgICBjdHguZm9udCA9ICcxNHB4IEFyaWFsJ1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJ1xuICAgIGN0eC5maWxsVGV4dChgJHtzZWxlY3RlZEVhciA9PT0gJ2xlZnQnID8gJ0xlZnQnIDogJ1JpZ2h0J30gU2VtaWNpcmN1bGFyIENhbmFsYCwgQ0VOVEVSX1gsIENFTlRFUl9ZIC0gT1VURVJfUkFESVVTIC0gMjApXG4gICAgY3R4LmZpbGxUZXh0KCdDdXB1bGEnLCBjdXB1bGFYLCBjdXB1bGFZICsgY3VwdWxhSGVpZ2h0IC8gMiArIDIwKVxuICAgIGN0eC5maWxsVGV4dCgnVmVzdGlidWxlJywgdmVzdGlidWxlQ29uZmlnLmNlbnRlclgsIHZlc3RpYnVsZUNvbmZpZy5jZW50ZXJZICsgdmVzdGlidWxlQ29uZmlnLnJhZGl1cyArIDE1KVxuICB9XG5cbiAgLy8gSGFuZGxlIGNhbnZhcyBjbGljayBmb3IgRXBsZXkgQ29tcGxldGUgcmVzZXRcbiAgY29uc3QgaGFuZGxlQ2FudmFzQ2xpY2sgPSAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTENhbnZhc0VsZW1lbnQ+KSA9PiB7XG4gICAgaWYgKCFlcGxleUNvbXBsZXRlKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudFxuICAgIGlmICghY2FudmFzKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgY29uc3QgY2xpY2tYID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdFxuICAgIGNvbnN0IGNsaWNrWSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcFxuICAgIFxuICAgIGNvbnN0IGRpc3RGcm9tQ2VudGVyID0gTWF0aC5zcXJ0KChjbGlja1ggLSBDRU5URVJfWCkgKiogMiArIChjbGlja1kgLSBDRU5URVJfWSkgKiogMilcbiAgICBpZiAoZGlzdEZyb21DZW50ZXIgPD0gMjUpIHtcbiAgICAgIGhhbmRsZUVwbGV5Q29tcGxldGVDbGljaygpXG4gICAgfVxuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBwYXJ0aWNsZXMgd2hlbiBlYXIgYW5kIHBlcnNwZWN0aXZlIGFyZSBzZWxlY3RlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEVhciAmJiBzZWxlY3RlZFBlcnNwZWN0aXZlKSB7XG4gICAgICBpbml0aWFsaXplUGFydGljbGVzKClcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEVhciwgc2VsZWN0ZWRQZXJzcGVjdGl2ZSwgaW5pdGlhbGl6ZVBhcnRpY2xlc10pXG5cbiAgLy8gQ2xlYW51cCBjb21wbGV0aW9uIHRpbWVvdXQgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgfVxuICAgICAgaWYgKGRldGVjdGlvblRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZXRlY3Rpb25UaW1lcilcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtkZXRlY3Rpb25UaW1lcl0pXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSB3aGljaCBicmFja2V0IGEgcGFydGljbGUgaXMgaW5cbiAgZnVuY3Rpb24gZ2V0UGFydGljbGVCcmFja2V0KHBhcnRpY2xlOiBQYXJ0aWNsZSk6IHN0cmluZyB7XG4gICAgY29uc3QgZHggPSBwYXJ0aWNsZS54IC0gQ0VOVEVSX1hcbiAgICBjb25zdCBkeSA9IHBhcnRpY2xlLnkgLSBDRU5URVJfWVxuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpXG4gICAgbGV0IGRlZ3JlZXMgPSAoYW5nbGUgKiAxODApIC8gTWF0aC5QSVxuICAgIGlmIChkZWdyZWVzIDwgMCkgZGVncmVlcyArPSAzNjBcblxuICAgIGlmIChzZWxlY3RlZEVhciA9PT0gJ3JpZ2h0Jykge1xuICAgICAgLy8gUmlnaHQgZWFyIGJyYWNrZXRzIC0gc3RhZ2UgMiB0cmlnZ2VycyBhZnRlciAzMC00MMKwIG9mIG1vdmVtZW50XG4gICAgICAvLyBSZWQgYnJhY2tldDogU3RhcnRpbmcgcG9zaXRpb24gKyBpbml0aWFsIHNldHRsaW5nIHpvbmUgKDMtNSBvJ2Nsb2NrKVxuICAgICAgaWYgKGRlZ3JlZXMgPj0gOTAgJiYgZGVncmVlcyA8IDEzMCkgcmV0dXJuICdyZWQnICAvLyA0MMKwIHdpbmRvdyBmb3Igc2V0dGxpbmdcbiAgICAgIC8vIFllbGxvdyBicmFja2V0OiBGaXJzdCBpbnRlbnRpb25hbCBtb3ZlbWVudCAoc3VwaW5lIHBvc2l0aW9uKVxuICAgICAgaWYgKGRlZ3JlZXMgPj0gMTMwICYmIGRlZ3JlZXMgPCAyMTApIHJldHVybiAneWVsbG93JyAgLy8gVHJpZ2dlcnMgYWZ0ZXIgNDDCsCBtb3ZlbWVudFxuICAgICAgLy8gQmx1ZSBicmFja2V0OiBUb3Agb2YgY2FuYWxcbiAgICAgIGlmIChkZWdyZWVzID49IDIxMCAmJiBkZWdyZWVzIDwgMjkwKSByZXR1cm4gJ2JsdWUnXG4gICAgICAvLyBPcmFuZ2UgYnJhY2tldDogUmlnaHQgc2lkZSwgYXBwcm9hY2hpbmcgdmVzdGlidWxlXG4gICAgICBpZiAoZGVncmVlcyA+PSAyOTAgfHwgZGVncmVlcyA8IDQ1KSByZXR1cm4gJ29yYW5nZSdcbiAgICAgIC8vIEdyZWVuIGJyYWNrZXQ6IEZpbmFsIHZlc3RpYnVsZSBwb3NpdGlvblxuICAgICAgaWYgKGRlZ3JlZXMgPj0gNDUgJiYgZGVncmVlcyA8IDkwKSByZXR1cm4gJ2dyZWVuJ1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMZWZ0IGVhciBicmFja2V0cyAtIHN0YWdlIDIgdHJpZ2dlcnMgYWZ0ZXIgMzAtNDDCsCBvZiBtb3ZlbWVudFxuICAgICAgLy8gUmVkIGJyYWNrZXQ6IFN0YXJ0aW5nIHBvc2l0aW9uICsgaW5pdGlhbCBzZXR0bGluZyB6b25lICgxMi0yIG8nY2xvY2spXG4gICAgICBpZiAoZGVncmVlcyA+PSAzMCAmJiBkZWdyZWVzIDwgNzApIHJldHVybiAncmVkJyAgLy8gNDDCsCB3aW5kb3cgZm9yIHNldHRsaW5nXG4gICAgICAvLyBZZWxsb3cgYnJhY2tldDogRmlyc3QgaW50ZW50aW9uYWwgbW92ZW1lbnQgKHN1cGluZSBwb3NpdGlvbilcbiAgICAgIGlmIChkZWdyZWVzID49IDcwICYmIGRlZ3JlZXMgPCAxNTApIHJldHVybiAneWVsbG93JyAgLy8gVHJpZ2dlcnMgYWZ0ZXIgNDDCsCBtb3ZlbWVudFxuICAgICAgaWYgKGRlZ3JlZXMgPj0gMzIwIHx8IGRlZ3JlZXMgPCAzMCkgcmV0dXJuICd5ZWxsb3cnICAvLyBBZGRpdGlvbmFsIGNvdmVyYWdlIGZvciBsZWZ0IGVhclxuICAgICAgLy8gQmx1ZSBicmFja2V0OiBUb3Agb2YgY2FuYWxcbiAgICAgIGlmIChkZWdyZWVzID49IDIxMCAmJiBkZWdyZWVzIDwgMjkwKSByZXR1cm4gJ2JsdWUnXG4gICAgICAvLyBPcmFuZ2UgYnJhY2tldDogTGVmdCBzaWRlLCBhcHByb2FjaGluZyB2ZXN0aWJ1bGVcbiAgICAgIGlmIChkZWdyZWVzID49IDE1MCAmJiBkZWdyZWVzIDwgMjEwKSByZXR1cm4gJ29yYW5nZSdcbiAgICAgIC8vIEdyZWVuIGJyYWNrZXQ6IEZpbmFsIHZlc3RpYnVsZSBwb3NpdGlvblxuICAgICAgaWYgKGRlZ3JlZXMgPj0gMjkwICYmIGRlZ3JlZXMgPCAzMjApIHJldHVybiAnZ3JlZW4nXG4gICAgfVxuICAgIFxuICAgIHJldHVybiAncmVkJyAvLyBkZWZhdWx0IHRvIHN0YXJ0aW5nIHBvc2l0aW9uXG4gIH1cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGF2YXRhciBpbWFnZSBwYXRoXG4gIGZ1bmN0aW9uIGdldEF2YXRhckltYWdlUGF0aCgpOiBzdHJpbmcge1xuICAgIGlmICghc2VsZWN0ZWRFYXIgfHwgIXNlbGVjdGVkUGVyc3BlY3RpdmUpIHJldHVybiAnJ1xuICAgIFxuICAgIGNvbnN0IGVhclByZWZpeCA9IHNlbGVjdGVkRWFyID09PSAncmlnaHQnID8gJ1InIDogJ0wnXG4gICAgY29uc3QgcGVyc3BlY3RpdmVUeXBlID0gc2VsZWN0ZWRQZXJzcGVjdGl2ZSA9PT0gJ3BhdGllbnQnID8gJ3RyZWF0JyA6ICdlcGxleSdcbiAgICBcbiAgICByZXR1cm4gYC9hdmF0YXJzLyR7ZWFyUHJlZml4fV8ke3BlcnNwZWN0aXZlVHlwZX1fJHtjdXJyZW50QXZhdGFyU3RhZ2V9LnBuZ2BcbiAgfVxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgc3RhZ2UgZGVzY3JpcHRpb25cbiAgZnVuY3Rpb24gZ2V0U3RhZ2VEZXNjcmlwdGlvbigpOiBzdHJpbmcge1xuICAgIGlmIChzZWxlY3RlZEVhciA9PT0gJ2xlZnQnKSB7XG4gICAgICAvLyBMZWZ0IGVhciBFcGxleSBtYW5ldXZlciBpbnN0cnVjdGlvbnNcbiAgICAgIHN3aXRjaCAoY3VycmVudEF2YXRhclN0YWdlKSB7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuICdTZWF0ZWQgSGVhZCBMZWZ0J1xuICAgICAgICBjYXNlIDI6IHJldHVybiAnU3VwaW5lIEhlYWQgTGVmdCBOZWNrIEV4dGVuZGVkJ1xuICAgICAgICBjYXNlIDM6IHJldHVybiAnU3VwaW5lIEhlYWQgUmlnaHQgTmVjayBFeHRlbmRlZCdcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gJ1JpZ2h0IFNpZGVseWluZyBIZWFkIFJpZ2h0IGFuZCBDaGluIFR1Y2tlZCdcbiAgICAgICAgY2FzZSA1OiByZXR1cm4gJ1NlYXRlZCB3aXRoIENoaW4gVHVja2VkJ1xuICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ1NlYXRlZCBIZWFkIExlZnQnXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJpZ2h0IGVhciBFcGxleSBtYW5ldXZlciBpbnN0cnVjdGlvbnMgKG9yaWdpbmFsKVxuICAgICAgc3dpdGNoIChjdXJyZW50QXZhdGFyU3RhZ2UpIHtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gJ1NlYXRlZCBIZWFkIFJpZ2h0J1xuICAgICAgICBjYXNlIDI6IHJldHVybiAnU3VwaW5lIEhlYWQgUmlnaHQgTmVjayBFeHRlbmRlZCdcbiAgICAgICAgY2FzZSAzOiByZXR1cm4gJ1N1cGluZSBIZWFkIExlZnQgTmVjayBFeHRlbmRlZCdcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gJ0xlZnQgU2lkZWx5aW5nIEhlYWQgTGVmdCBhbmQgQ2hpbiBUdWNrZWQnXG4gICAgICAgIGNhc2UgNTogcmV0dXJuICdTZWF0ZWQgd2l0aCBDaGluIFR1Y2tlZCdcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuICdTZWF0ZWQgSGVhZCBSaWdodCdcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgYXZhdGFyIHN0YWdlIGJhc2VkIG9uIHBhcnRpY2xlIHBvc2l0aW9uc1xuICBmdW5jdGlvbiB1cGRhdGVBdmF0YXJTdGFnZSgpIHtcbiAgICBpZiAocGFydGljbGVzUmVmLmN1cnJlbnQubGVuZ3RoIDwgMSkgcmV0dXJuXG5cbiAgICAvLyBDb3VudCBwYXJ0aWNsZXMgaW4gZWFjaCBicmFja2V0XG4gICAgY29uc3QgYnJhY2tldENvdW50cyA9IHsgcmVkOiAwLCB5ZWxsb3c6IDAsIGJsdWU6IDAsIG9yYW5nZTogMCwgZ3JlZW46IDAgfVxuICAgIHBhcnRpY2xlc1JlZi5jdXJyZW50LmZvckVhY2gocGFydGljbGUgPT4ge1xuICAgICAgY29uc3QgYnJhY2tldCA9IGdldFBhcnRpY2xlQnJhY2tldChwYXJ0aWNsZSlcbiAgICAgIGJyYWNrZXRDb3VudHNbYnJhY2tldCBhcyBrZXlvZiB0eXBlb2YgYnJhY2tldENvdW50c10rK1xuICAgIH0pXG5cbiAgICAvLyBGaW5kIHRoZSBicmFja2V0IHdpdGggYXQgbGVhc3QgMSBwYXJ0aWNsZSAoMS80IHRocmVzaG9sZClcbiAgICBsZXQgdGFyZ2V0QnJhY2tldCA9ICdyZWQnIC8vIGRlZmF1bHRcbiAgICBmb3IgKGNvbnN0IFticmFja2V0LCBjb3VudF0gb2YgT2JqZWN0LmVudHJpZXMoYnJhY2tldENvdW50cykpIHtcbiAgICAgIGlmIChjb3VudCA+PSAxKSB7XG4gICAgICAgIHRhcmdldEJyYWNrZXQgPSBicmFja2V0XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFwIGJyYWNrZXRzIHRvIGF2YXRhciBzdGFnZXMgKG9ubHkgbW92ZSBmb3J3YXJkKVxuICAgIGNvbnN0IGJyYWNrZXRUb1N0YWdlOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICAgICAgcmVkOiAxLCAgICAvLyBTdGFnZSAxXG4gICAgICB5ZWxsb3c6IDIsIC8vIFN0YWdlIDJcbiAgICAgIGJsdWU6IDMsICAgLy8gU3RhZ2UgM1xuICAgICAgb3JhbmdlOiA0LCAvLyBTdGFnZSA0XG4gICAgICBncmVlbjogNSAgIC8vIFN0YWdlIDVcbiAgICB9XG5cbiAgICBjb25zdCBuZXdTdGFnZSA9IGJyYWNrZXRUb1N0YWdlW3RhcmdldEJyYWNrZXRdXG4gICAgXG4gICAgaWYgKG5ld1N0YWdlID4gY3VycmVudEF2YXRhclN0YWdlKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbmV3IGRldGVjdGlvbiBvciB0aGUgc2FtZSBzdGFnZSB3ZSdyZSBhbHJlYWR5IHdhaXRpbmcgZm9yXG4gICAgICBpZiAobmV3U3RhZ2UgIT09IGRldGVjdGVkU3RhZ2UpIHtcbiAgICAgICAgLy8gTmV3IHN0YWdlIGRldGVjdGVkIC0gY2xlYXIgYW55IGV4aXN0aW5nIHRpbWVyIGFuZCBzdGFydCBuZXcgb25lXG4gICAgICAgIGlmIChkZXRlY3Rpb25UaW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dChkZXRlY3Rpb25UaW1lcilcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0RGV0ZWN0ZWRTdGFnZShuZXdTdGFnZSlcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc3RhcnRBdmF0YXJUcmFuc2l0aW9uKG5ld1N0YWdlKVxuICAgICAgICAgIHNldERldGVjdGlvblRpbWVyKG51bGwpXG4gICAgICAgIH0sIGRldGVjdGlvbkRlbGF5TXMpXG4gICAgICAgIFxuICAgICAgICBzZXREZXRlY3Rpb25UaW1lcihuZXdUaW1lcilcbiAgICAgIH1cbiAgICAgIC8vIElmIGl0J3MgdGhlIHNhbWUgc3RhZ2Ugd2UncmUgYWxyZWFkeSB3YWl0aW5nIGZvciwganVzdCBsZXQgdGhlIHRpbWVyIGNvbnRpbnVlXG4gICAgfSBlbHNlIGlmIChuZXdTdGFnZSA8PSBjdXJyZW50QXZhdGFyU3RhZ2UgJiYgZGV0ZWN0aW9uVGltZXIpIHtcbiAgICAgIC8vIFBhcnRpY2xlcyBtb3ZlZCBiYWNrIHRvIHByZXZpb3VzIHN0YWdlIC0gY2FuY2VsIHBlbmRpbmcgdHJhbnNpdGlvblxuICAgICAgY2xlYXJUaW1lb3V0KGRldGVjdGlvblRpbWVyKVxuICAgICAgc2V0RGV0ZWN0aW9uVGltZXIobnVsbClcbiAgICAgIHNldERldGVjdGVkU3RhZ2UoY3VycmVudEF2YXRhclN0YWdlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17e1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInXG4gICAgfX0+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgcGFkZGluZzogJzIwcHgnLFxuICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgI2UyZThmMCcsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJ1xuICAgICAgfX0+XG4gICAgICAgIDxoMiBzdHlsZT17eyBtYXJnaW46IDAsIGZvbnRTaXplOiAnMS4ycmVtJywgZm9udFdlaWdodDogJzYwMCcgfX0+XG4gICAgICAgICAg8J+OryBQb2NrZXQgRXBsZXkgVHJhaW5lclxuICAgICAgICA8L2gyPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcGFkZGluZzogJzhweCAxNnB4JyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2QxZDVkYicsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICDihpAgQmFja1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTWFpbiBjb250ZW50ICovfVxuICAgICAgPGRpdiBzdHlsZT17eyBcbiAgICAgICAgbWFyZ2luVG9wOiAnNzBweCcsICAvLyBSZWR1Y2VkIGZyb20gODBweFxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxNXB4JywgLy8gUmVkdWNlZCBmcm9tIDIwcHhcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIGdhcDogJzEycHgnLCAgLy8gUmVkdWNlZCBmcm9tIDE1cHhcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgbWF4V2lkdGg6ICc1MDBweCcsXG4gICAgICAgIHBhZGRpbmc6ICcwIDE1cHgnLCAgLy8gUmVkdWNlZCBmcm9tIDIwcHhcbiAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgIG1heEhlaWdodDogJ2NhbGMoMTAwdmggLSAxMDBweCknICAvLyBBZGp1c3RlZCBmb3Igc21hbGxlciBoZWFkZXIgbWFyZ2luXG4gICAgICB9fT5cbiAgICAgICAgey8qIEVhciBTZWxlY3Rpb24gU2NyZWVuICovfVxuICAgICAgICB7IXNlbGVjdGVkRWFyICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICc0MHB4IDIwcHgnIH19PlxuICAgICAgICAgICAgPGgzIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzEwcHgnIH19PlNlbGVjdCBFYXIgZm9yIFRyYWluaW5nPC9oMz5cbiAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzMwcHgnLCBjb2xvcjogJyM2NjYnLCBmb250U2l6ZTogJzE0cHgnIH19PlxuICAgICAgICAgICAgICBDaG9vc2Ugd2hpY2ggZWFyIHlvdSB3YW50IHRvIHByYWN0aWNlIHRoZSBFcGxleSBtYW5ldXZlciBvblxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzIwcHgnLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIGZsZXhXcmFwOiAnd3JhcCcgfX0+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEVhcignbGVmdCcpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCAzMHB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICMzNzQxNTEnLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMzc0MTUxJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCA0cHggMTVweCByZ2JhKDU1LCA2NSwgODEsIDAuMSknLFxuICAgICAgICAgICAgICAgICAgbWluV2lkdGg6ICcxNDBweCcsXG4gICAgICAgICAgICAgICAgICBvcmRlcjogMSxcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgTGVmdCBFYXI8YnIvPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAnMTJweCcsIG9wYWNpdHk6IDAuNyB9fT5FcGxleSBNYW5ldXZlcjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEVhcigncmlnaHQnKX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzIwcHggMzBweCcsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjMzc0MTUxJyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzM3NDE1MScsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDE1cHggcmdiYSg1NSwgNjUsIDgxLCAwLjEpJyxcbiAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnMTQwcHgnLFxuICAgICAgICAgICAgICAgICAgb3JkZXI6IDIsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJpZ2h0IEVhcjxici8+XG4gICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6ICcxMnB4Jywgb3BhY2l0eTogMC43IH19PkVwbGV5IE1hbmV1dmVyPC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBQZXJzcGVjdGl2ZSBTZWxlY3Rpb24gU2NyZWVuICovfVxuICAgICAgICB7c2VsZWN0ZWRFYXIgJiYgIXNlbGVjdGVkUGVyc3BlY3RpdmUgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzQwcHggMjBweCcgfX0+XG4gICAgICAgICAgICA8aDMgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMTBweCcgfX0+U2VsZWN0IFRyYWluaW5nIFBlcnNwZWN0aXZlPC9oMz5cbiAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzMwcHgnLCBjb2xvcjogJyM2NjYnLCBmb250U2l6ZTogJzE0cHgnIH19PlxuICAgICAgICAgICAgICBDaG9vc2UgeW91ciBsZWFybmluZyBwZXJzcGVjdGl2ZSBmb3IgdGhlIHtzZWxlY3RlZEVhcn0gZWFyIEVwbGV5IG1hbmV1dmVyXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnMjBweCcsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkUGVyc3BlY3RpdmUoJ3BhdGllbnQnKX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzIwcHggMzBweCcsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjNjY3ZWVhJyxcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzY2N2VlYScsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgNHB4IDE1cHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjEpJyxcbiAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnMTQwcHgnLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBQYXRpZW50IFBlcnNwZWN0aXZlPGJyLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogJzEycHgnLCBvcGFjaXR5OiAwLjcgfX0+M3JkIFBlcnNvbiBCb2R5IFZpZXc8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRQZXJzcGVjdGl2ZSgnY2xpbmljaWFuJyl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcyMHB4IDMwcHgnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTJweCcsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggc29saWQgIzEwYjk4MScsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyMxMGI5ODEnLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxNXB4IHJnYmEoMTYsIDE4NSwgMTI5LCAwLjEpJyxcbiAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAnMTQwcHgnLFxuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDbGluaWNpYW4gUGVyc3BlY3RpdmU8YnIvPlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAnMTJweCcsIG9wYWNpdHk6IDAuNyB9fT4xc3QgUGVyc29uIEZhY2UgVmlldzwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRWFyKG51bGwpXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQZXJzcGVjdGl2ZShudWxsKVxuICAgICAgICAgICAgICAgIHNldEVwbGV5Q29tcGxldGUoZmFsc2UpXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKDEpIC8vIFJlc2V0IGF2YXRhciBzdGFnZVxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJlc2V0IG9yaWVudGF0aW9uIHNldHVwIC0ga2VlcCBpdCBmb3Igc3dpdGNoaW5nIGVhcnNcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBjb21wbGV0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIHNldENvbXBsZXRpb25BbmltYXRpb25TdGFydGVkKGZhbHNlKVxuICAgICAgICAgICAgICAgIHNldEF2YXRhck9wYWNpdHkoMS4wKVxuICAgICAgICAgICAgICAgIHNldFN1Y2Nlc3NPcGFjaXR5KDAuMClcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICBjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0cmFuc2l0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSlcbiAgICAgICAgICAgICAgICBzZXRQcmV2aW91c0F2YXRhclN0YWdlKDEpXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvblByb2dyZXNzKDApXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZGV0ZWN0aW9uIGRlbGF5XG4gICAgICAgICAgICAgICAgc2V0RGV0ZWN0ZWRTdGFnZSgxKVxuICAgICAgICAgICAgICAgIGlmIChkZXRlY3Rpb25UaW1lcikge1xuICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRldGVjdGlvblRpbWVyKVxuICAgICAgICAgICAgICAgICAgc2V0RGV0ZWN0aW9uVGltZXIobnVsbClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnMjBweCcsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHggMjBweCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgI2QxZDVkYicsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzY2NicsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNHB4JyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDihpAgQmFjayB0byBFYXIgU2VsZWN0aW9uXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogT3JpZW50YXRpb24gTG9jayBQcm9tcHQgLSBPbmx5IHNob3cgaWYgb3JpZW50YXRpb24gc2V0dXAgbm90IGNvbXBsZXRlICovfVxuICAgICAgICB7c2VsZWN0ZWRFYXIgJiYgc2VsZWN0ZWRQZXJzcGVjdGl2ZSAmJiBvcmllbnRhdGlvbkxvY2tQcm9tcHRlZCAmJiAhb3JpZW50YXRpb25TZXR1cENvbXBsZXRlICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICc0MHB4IDIwcHgnIH19PlxuICAgICAgICAgICAgPGgzPvCfk7EgTG9jayBTY3JlZW4gUm90YXRpb248L2gzPlxuICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMjBweCcsIGNvbG9yOiAnIzY2NicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgIEZvciB0aGUgYmVzdCB0cmFpbmluZyBleHBlcmllbmNlLCBwbGVhc2UgbG9jayB5b3VyIGRldmljZSB0byBwb3J0cmFpdCBtb2RlOlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y4ZjlmYScsIFxuICAgICAgICAgICAgICBwYWRkaW5nOiAnMjBweCcsIFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLCBcbiAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAnMjBweCcsXG4gICAgICAgICAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgPHN0cm9uZz5pT1M6PC9zdHJvbmc+IFN3aXBlIGRvd24gZnJvbSB0b3AtcmlnaHQg4oaSIFRhcCByb3RhdGlvbiBsb2NrIGljb248YnIvPlxuICAgICAgICAgICAgICA8c3Ryb25nPkFuZHJvaWQ6PC9zdHJvbmc+IFN3aXBlIGRvd24gZnJvbSB0b3Ag4oaSIFRhcCBhdXRvLXJvdGF0ZSB0byBkaXNhYmxlXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlT3JpZW50YXRpb25Mb2NrQWNrfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDI0cHgnLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzY2N2VlYScsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxNXB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KSdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ29udGludWUgdG8gVHJhaW5pbmdcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBPcmllbnRhdGlvbiBQZXJtaXNzaW9uIFNjcmVlbiAtIE9ubHkgc2hvdyBpZiBvcmllbnRhdGlvbiBzZXR1cCBub3QgY29tcGxldGUgKi99XG4gICAgICAgIHtzZWxlY3RlZEVhciAmJiBzZWxlY3RlZFBlcnNwZWN0aXZlICYmICFvcmllbnRhdGlvbkxvY2tQcm9tcHRlZCAmJiAhcGVybWlzc2lvbkdyYW50ZWQgJiYgIW9yaWVudGF0aW9uU2V0dXBDb21wbGV0ZSAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnNDBweCAyMHB4JyB9fT5cbiAgICAgICAgICAgIDxoMz7wn5OyIEVuYWJsZSBEZXZpY2UgT3JpZW50YXRpb248L2gzPlxuICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMjBweCcsIGNvbG9yOiAnIzY2NicsIGZvbnRTaXplOiAnMTRweCcgfX0+XG4gICAgICAgICAgICAgIFRpbHQgeW91ciBkZXZpY2UgdG8gbW92ZSB0aGUgcGFydGljbGVzIHRocm91Z2ggdGhlIHtzZWxlY3RlZEVhcn0gZWFyIGNhbmFsLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtyZXF1ZXN0T3JpZW50YXRpb25QZXJtaXNzaW9ufVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcxMnB4IDI0cHgnLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzY2N2VlYScsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICcwIDRweCAxNXB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KSdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRW5hYmxlIE9yaWVudGF0aW9uXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogU2ltdWxhdGlvbiBDYW52YXMgLSBTaG93IGlmIGVhciBhbmQgcGVyc3BlY3RpdmUgc2VsZWN0ZWQgYW5kIChwZXJtaXNzaW9uIGdyYW50ZWQgT1Igb3JpZW50YXRpb24gc2V0dXAgY29tcGxldGUpICovfVxuICAgICAgICB7c2VsZWN0ZWRFYXIgJiYgc2VsZWN0ZWRQZXJzcGVjdGl2ZSAmJiAocGVybWlzc2lvbkdyYW50ZWQgfHwgb3JpZW50YXRpb25TZXR1cENvbXBsZXRlKSAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIHsvKiBDbGluaWNpYW4gUGVyc3BlY3RpdmUgSW5zdHJ1Y3Rpb25zIChhYm92ZSBjYW52YXMpICovfVxuICAgICAgICAgICAge3NlbGVjdGVkUGVyc3BlY3RpdmUgPT09ICdjbGluaWNpYW4nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyMzMzMnLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDJweCAwJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICBTdGFnZSB7Y3VycmVudEF2YXRhclN0YWdlfS81OiB7Z2V0U3RhZ2VEZXNjcmlwdGlvbigpfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogUGF0aWVudCBQZXJzcGVjdGl2ZSBJbnN0cnVjdGlvbnMgKGFib3ZlIGNhbnZhcykgKi99XG4gICAgICAgICAgICB7c2VsZWN0ZWRQZXJzcGVjdGl2ZSA9PT0gJ3BhdGllbnQnICYmIChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206ICc4cHgnLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyMzMzMnLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDJweCAwJyxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICBTdGFnZSB7Y3VycmVudEF2YXRhclN0YWdlfS81OiB7Z2V0U3RhZ2VEZXNjcmlwdGlvbigpfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8Y2FudmFzXG4gICAgICAgICAgICAgIHJlZj17Y2FudmFzUmVmfVxuICAgICAgICAgICAgICB3aWR0aD17Q0FOVkFTX1dJRFRIfVxuICAgICAgICAgICAgICBoZWlnaHQ9e0NBTlZBU19IRUlHSFR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbnZhc0NsaWNrfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCAjZGRkJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IGVwbGV5Q29tcGxldGUgPyAncG9pbnRlcicgOiAnZGVmYXVsdCdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgbWF4V2lkdGg6ICczNTBweCcgfX0+XG4gICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzY2NicsIG1hcmdpbkJvdHRvbTogJzEwcHgnIH19PlxuICAgICAgICAgICAgICAgIDxzdHJvbmc+e3NlbGVjdGVkRWFyID09PSAnbGVmdCcgPyAnTGVmdCcgOiAnUmlnaHQnfSBFYXIgRXBsZXkgVHJhaW5pbmc6PC9zdHJvbmc+PGJyLz5cbiAgICAgICAgICAgICAgICBUaWx0IHlvdXIgZGV2aWNlIHRvIGd1aWRlIHBhcnRpY2xlcyBpbnRvIHRoZSB2ZXN0aWJ1bGUuIFxuICAgICAgICAgICAgICAgIENvbXBsZXRlIHRoZSBtYW5ldXZlciBieSBnZXR0aW5nIGFsbCBwYXJ0aWNsZXMgdG8gZGlzc29sdmUgaW4gdGhlIHZlc3RpYnVsZSBjaGFtYmVyLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnMTBweCcsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtpbml0aWFsaXplUGFydGljbGVzfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEwcHggMjBweCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzZweCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMTBiOTgxJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBSZXNldCBQYXJ0aWNsZXNcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRWFyKG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUGVyc3BlY3RpdmUobnVsbClcbiAgICAgICAgICAgICAgICAgICAgc2V0RXBsZXlDb21wbGV0ZShmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEF2YXRhclN0YWdlKDEpIC8vIFJlc2V0IGF2YXRhciBzdGFnZVxuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZXNldCBvcmllbnRhdGlvbiBzZXR1cCAtIGtlZXAgaXQgZm9yIHN3aXRjaGluZyBlYXJzXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCBjb21wbGV0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICBzZXRDb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZChmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgc2V0QXZhdGFyT3BhY2l0eSgxLjApXG4gICAgICAgICAgICAgICAgICAgIHNldFN1Y2Nlc3NPcGFjaXR5KDAuMClcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBsZXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29tcGxldGlvblRpbWVvdXRSZWYuY3VycmVudClcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0cmFuc2l0aW9uIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICBzZXRJc1RyYW5zaXRpb25pbmcoZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHNldFByZXZpb3VzQXZhdGFyU3RhZ2UoMSlcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvblByb2dyZXNzKDApXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uVGltZW91dFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRyYW5zaXRpb25UaW1lb3V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXRSZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZGV0ZWN0aW9uIGRlbGF5XG4gICAgICAgICAgICAgICAgICAgIHNldERldGVjdGVkU3RhZ2UoMSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldGVjdGlvblRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRldGVjdGlvblRpbWVyKVxuICAgICAgICAgICAgICAgICAgICAgIHNldERldGVjdGlvblRpbWVyKG51bGwpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTBweCAyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNnB4JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNkMWQ1ZGInLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzY2NicsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTRweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc2MDAnLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTd2l0Y2ggRWFyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwiQ2FuYWxTaW11bGF0aW9uIiwib25DbG9zZSIsImNhbnZhc1JlZiIsImFuaW1hdGlvblJlZiIsInBhcnRpY2xlcyIsInNldFBhcnRpY2xlcyIsIm9yaWVudGF0aW9uIiwic2V0T3JpZW50YXRpb24iLCJiZXRhIiwiZ2FtbWEiLCJwZXJtaXNzaW9uR3JhbnRlZCIsInNldFBlcm1pc3Npb25HcmFudGVkIiwiZXBsZXlDb21wbGV0ZSIsInNldEVwbGV5Q29tcGxldGUiLCJzZWxlY3RlZEVhciIsInNldFNlbGVjdGVkRWFyIiwic2VsZWN0ZWRQZXJzcGVjdGl2ZSIsInNldFNlbGVjdGVkUGVyc3BlY3RpdmUiLCJvcmllbnRhdGlvbkxvY2tQcm9tcHRlZCIsInNldE9yaWVudGF0aW9uTG9ja1Byb21wdGVkIiwib3JpZW50YXRpb25TZXR1cENvbXBsZXRlIiwic2V0T3JpZW50YXRpb25TZXR1cENvbXBsZXRlIiwicGFydGljbGVzUmVmIiwiY3VycmVudEF2YXRhclN0YWdlIiwic2V0Q3VycmVudEF2YXRhclN0YWdlIiwiY29tcGxldGlvbkFuaW1hdGlvblN0YXJ0ZWQiLCJzZXRDb21wbGV0aW9uQW5pbWF0aW9uU3RhcnRlZCIsImF2YXRhck9wYWNpdHkiLCJzZXRBdmF0YXJPcGFjaXR5Iiwic3VjY2Vzc09wYWNpdHkiLCJzZXRTdWNjZXNzT3BhY2l0eSIsImNvbXBsZXRpb25UaW1lb3V0UmVmIiwiaXNUcmFuc2l0aW9uaW5nIiwic2V0SXNUcmFuc2l0aW9uaW5nIiwicHJldmlvdXNBdmF0YXJTdGFnZSIsInNldFByZXZpb3VzQXZhdGFyU3RhZ2UiLCJ0cmFuc2l0aW9uUHJvZ3Jlc3MiLCJzZXRUcmFuc2l0aW9uUHJvZ3Jlc3MiLCJ0cmFuc2l0aW9uVGltZW91dFJlZiIsImRldGVjdGVkU3RhZ2UiLCJzZXREZXRlY3RlZFN0YWdlIiwiZGV0ZWN0aW9uVGltZXIiLCJzZXREZXRlY3Rpb25UaW1lciIsImRldGVjdGlvbkRlbGF5TXMiLCJDQU5WQVNfV0lEVEgiLCJDQU5WQVNfSEVJR0hUIiwiQ0VOVEVSX1giLCJDRU5URVJfWSIsIk9VVEVSX1JBRElVUyIsIklOTkVSX1JBRElVUyIsIlRVQkVfV0lEVEgiLCJQQVJUSUNMRV9SQURJVVMiLCJNYXRoIiwiZmxvb3IiLCJnZXRWZXN0aWJ1bGVDb25maWciLCJWRVNUSUJVTEVfQU5HTEUiLCJQSSIsImFuZ2xlIiwiY2VudGVyWCIsImNvcyIsImNlbnRlclkiLCJzaW4iLCJyYWRpdXMiLCJpbml0aWFsaXplUGFydGljbGVzIiwibmV3UGFydGljbGVzIiwiY3VwdWxhQW5nbGUiLCJyaW5nQ2VudGVyIiwicGFydGljbGVBbmdsZSIsImkiLCJwdXNoIiwiaWQiLCJ4IiwieSIsInZ4IiwidnkiLCJpbkFtcHVsbGEiLCJkaXNzb2x2aW5nIiwib3JpZ2luYWxSYWRpdXMiLCJjdXJyZW50IiwiY2xlYXJUaW1lb3V0Iiwic3RhcnRDb21wbGV0aW9uQW5pbWF0aW9uIiwiZmFkZU91dEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJwcmV2IiwibmV3T3BhY2l0eSIsImNsZWFySW50ZXJ2YWwiLCJzZXRUaW1lb3V0IiwiZmFkZUluSW50ZXJ2YWwiLCJzdGFydEF2YXRhclRyYW5zaXRpb24iLCJuZXdTdGFnZSIsInRyYW5zaXRpb25EdXJhdGlvbiIsInN0ZXBzIiwic3RlcER1cmF0aW9uIiwic3RlcCIsInRyYW5zaXRpb25JbnRlcnZhbCIsInByb2dyZXNzIiwiZWFzZWRQcm9ncmVzcyIsInBvdyIsImxvY2tPcmllbnRhdGlvbiIsInNjcmVlbiIsImxvY2siLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJyZXF1ZXN0T3JpZW50YXRpb25QZXJtaXNzaW9uIiwibG9ja1N1Y2Nlc3MiLCJEZXZpY2VPcmllbnRhdGlvbkV2ZW50IiwicGVybWlzc2lvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwiaGFuZGxlT3JpZW50YXRpb25Mb2NrQWNrIiwiaGFuZGxlT3JpZW50YXRpb24iLCJldmVudCIsImJldGFEaWZmIiwiYWJzIiwiZ2FtbWFEaWZmIiwibWF4IiwibWluIiwic21vb3RoaW5nRmFjdG9yIiwibmV3QmV0YSIsIm5ld0dhbW1hIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0luc2lkZVJpbmciLCJkaXN0RnJvbUNlbnRlciIsInNxcnQiLCJjaGVja0N1cHVsYUNvbGxpc2lvbiIsImN1cHVsYVgiLCJjdXB1bGFXaWR0aCIsImN1cHVsYUhlaWdodCIsImN1cHVsYVkiLCJpc0luc2lkZVZlc3RpYnVsZSIsInZlc3RpYnVsZUNvbmZpZyIsImRpc3RGcm9tVmVzdGlidWxlQ2VudGVyIiwiY29ubmVjdGlvblgiLCJjb25uZWN0aW9uWSIsImNvbm5lY3Rpb25XaWR0aCIsImNvbm5lY3Rpb25IZWlnaHQiLCJkeCIsImR5Iiwicm90YXRlZFgiLCJyb3RhdGVkWSIsImlzSW5WYWxpZFNwYWNlIiwidXBkYXRlUGh5c2ljcyIsIm1hcCIsInBhcnRpY2xlIiwiaW5kZXgiLCJuZXdSYWRpdXMiLCJncmF2aXR5U3RyZW5ndGgiLCJpc0hvcml6b250YWwiLCJncmF2aXR5WCIsImdyYXZpdHlZIiwibmV3VngiLCJuZXdWeSIsIm5ld1giLCJuZXdZIiwibm93SW5WZXN0aWJ1bGUiLCJhbmdsZVRvUGFydGljbGUiLCJhdGFuMiIsInZlc3RpYnVsZUNvbm5lY3Rpb25TdGFydCIsInZlc3RpYnVsZUNvbm5lY3Rpb25FbmQiLCJpbkNvbm5lY3Rpb25BcmVhIiwibm9ybWFsaXplZEFuZ2xlIiwibm9ybWFsaXplZFN0YXJ0Iiwibm9ybWFsaXplZEVuZCIsIm5vcm1hbFgiLCJub3JtYWxZIiwiZG90UHJvZHVjdCIsInB1c2hBbmdsZSIsInB1c2hEaXN0YW5jZSIsImZvckVhY2giLCJvdGhlclBhcnRpY2xlIiwib3RoZXJJbmRleCIsImRpc3RhbmNlIiwibWluRGlzdGFuY2UiLCJvdmVybGFwIiwic2VwYXJhdGlvblgiLCJzZXBhcmF0aW9uWSIsInJlbGF0aXZlVmVsb2NpdHlYIiwicmVsYXRpdmVWZWxvY2l0eVkiLCJ2ZWxvY2l0eUFsb25nTm9ybWFsIiwicmVzdGl0dXRpb24iLCJpbXB1bHNlIiwicmVwdWxzaW9uU3RyZW5ndGgiLCJtaW5WZWxvY2l0eSIsImN1cnJlbnRTcGVlZCIsInNwZWVkTXVsdGlwbGllciIsImFsbFBhcnRpY2xlc0luVmVzdGlidWxlIiwiZXZlcnkiLCJwIiwidXBkYXRlQXZhdGFyU3RhZ2UiLCJhbmltYXRlIiwiZHJhdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlRXBsZXlDb21wbGV0ZUNsaWNrIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsImZpbGwiLCJzYXZlIiwidHJhbnNsYXRlIiwicm90YXRlIiwiZmlsbFJlY3QiLCJyZXN0b3JlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJjb25uZWN0aW9uU3RhcnRBbmdsZSIsImNvbm5lY3Rpb25FbmRBbmdsZSIsInN0cm9rZSIsInJpbmdDb25uZWN0aW9uQW5nbGUiLCJza2lwU3RhcnRBbmdsZSIsInNraXBFbmRBbmdsZSIsImhhaXJYIiwibW92ZVRvIiwiaGFpckhlaWdodCIsImxpbmVUbyIsIm1heEF2YXRhclNpemUiLCJwcmV2aW91c0F2YXRhckltYWdlIiwiSW1hZ2UiLCJjdXJyZW50QXZhdGFySW1hZ2UiLCJlYXJQcmVmaXgiLCJwZXJzcGVjdGl2ZVR5cGUiLCJzcmMiLCJkcmF3VHJhbnNpdGlvbkF2YXRhcnMiLCJjb21wbGV0ZSIsIm5hdHVyYWxXaWR0aCIsInByZXZBc3BlY3RSYXRpbyIsIm5hdHVyYWxIZWlnaHQiLCJjdXJyQXNwZWN0UmF0aW8iLCJwcmV2V2lkdGgiLCJwcmV2SGVpZ2h0IiwiY3VycldpZHRoIiwiY3VyckhlaWdodCIsImJhc2VYIiwiYmFzZVkiLCJtb3ZlbWVudE9mZnNldCIsInJvdGF0aW9uTW92ZW1lbnQiLCJwcmV2WCIsInByZXZZIiwiY3VyclgiLCJjdXJyWSIsImdsb2JhbEFscGhhIiwiZHJhd0ltYWdlIiwibG9hZGVkQ291bnQiLCJjaGVja0JvdGhMb2FkZWQiLCJvbmxvYWQiLCJhdmF0YXJJbWFnZSIsImdldEF2YXRhckltYWdlUGF0aCIsImRyYXdBdmF0YXIiLCJhc3BlY3RSYXRpbyIsImF2YXRhcldpZHRoIiwiYXZhdGFySGVpZ2h0IiwiYXZhdGFyWCIsImF2YXRhclkiLCJmb250IiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJoYW5kbGVDYW52YXNDbGljayIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGlja1giLCJjbGllbnRYIiwibGVmdCIsImNsaWNrWSIsImNsaWVudFkiLCJ0b3AiLCJnZXRQYXJ0aWNsZUJyYWNrZXQiLCJkZWdyZWVzIiwiZ2V0U3RhZ2VEZXNjcmlwdGlvbiIsImxlbmd0aCIsImJyYWNrZXRDb3VudHMiLCJyZWQiLCJ5ZWxsb3ciLCJibHVlIiwib3JhbmdlIiwiZ3JlZW4iLCJicmFja2V0IiwidGFyZ2V0QnJhY2tldCIsImNvdW50IiwiT2JqZWN0IiwiZW50cmllcyIsImJyYWNrZXRUb1N0YWdlIiwibmV3VGltZXIiLCJkaXYiLCJzdHlsZSIsInBvc2l0aW9uIiwicmlnaHQiLCJib3R0b20iLCJiYWNrZ3JvdW5kQ29sb3IiLCJ6SW5kZXgiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsInBhZGRpbmciLCJib3JkZXJCb3R0b20iLCJoMiIsIm1hcmdpbiIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJib3JkZXJSYWRpdXMiLCJib3JkZXIiLCJjdXJzb3IiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJnYXAiLCJ3aWR0aCIsIm1heFdpZHRoIiwib3ZlcmZsb3dZIiwibWF4SGVpZ2h0IiwiaDMiLCJjb2xvciIsImZsZXhXcmFwIiwiYm94U2hhZG93IiwibWluV2lkdGgiLCJvcmRlciIsImJyIiwic3BhbiIsIm9wYWNpdHkiLCJzdHJvbmciLCJyZWYiLCJoZWlnaHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/CanalSimulation.tsx\n"));

/***/ })

});